<div class="container">
  <div class="form-wrapper">

    <!-- Screen Name, Reference No and Reference Date Header -->
    <div class="heading-section ng-star-inserted">
      <div>LC Distribution</div>
      <div class="font-heading"><strong>Reference No:</strong> 19-20/LC/CLR/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
        <li class="breadcrumb-item " aria-current="page"><a href="javascript:void(0)">LC</a></li>
        <li class="breadcrumb-item active" aria-current="page">LC Distribution</li>
      </ol>
    </nav>

    <!-- Form Starts -->
    <form [formGroup]="lcDistributionInputForm" (ngSubmit)="lcDistributionInputFormData()">
      <mat-tab-group mat-stretch-tabs>
      <!-- Mat Tab for LC Distribution Details Starts -->
      <mat-tab>
        <ng-template mat-tab-label>
          LC Distribution Details
        </ng-template>

      <div class="box box-primary">
        <div class="box-header">LC Distribution Details</div>
        <!-- Note: Treasury User can edit/update scheme No. while approving LC distribution -->

        <div class="box-body">
          <div class="row">


            <!-- Input Field for LC Number -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="LC Number" formControlName="lcNumber" value="LC57SE001EE0010001" >
              </mat-form-field>
            </div>

            <!-- Input Field for Division Code -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Division Code" formControlName="divisionCode" value="AFR007" >
              </mat-form-field>
            </div>

            <!-- Input Field for Division Name -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Division Name" formControlName="divisionName"
                  value="{{divisionNameTooltip}}"  matTooltip="{{divisionNameTooltip}}">
              </mat-form-field>
            </div>

            <!-- Input Field for LC Issue Date -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput formControlName="lcIssueDate" [matDatepicker]="picker1" placeholder="LC Issue Date"
                  >
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1 ></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for Entry type -->
            <div class="col-sm-3">
              <mat-form-field class="full-width">
                <mat-select formControlName="entryType" placeholder="Entry Type" >
                  <mat-option>
                    <ngx-mat-select-search [formControl]="EntryTypeCtrl" [placeholderLabel]="'Find Entry Type...'"
                      [noEntriesFoundLabel]="'No matching Entry Type found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let entry  of EntryTypeList | filterSelectInput:EntryTypeCtrl.value"
                    [value]="entry.value">
                    {{entry.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <!-- Input Field for LC Valid From  -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput formControlName="lcValidFrom" [matDatepicker]="picker2" placeholder="LC Valid From"
                  >
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for LC Valid To -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput formControlName="lcValidTo" [matDatepicker]="picker3" placeholder="LC Valid Upto"
                  readonly>
                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                <mat-datepicker #picker3 ></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for Inward Number -->
            <div class="col-sm-3">
              <mat-form-field>
                <input matInput placeholder="Inward No." formControlName="inwardNo"
                  (keypress)="directiveObject.restrictSpace($event)" >
              </mat-form-field>
            </div>

            <!-- Input Field for Inward Date -->
            <div class="col-sm-3">
              <mat-form-field>
                <input matInput formControlName="inwardDate" [matDatepicker]="picker4" placeholder="Inward Date"
                  >
                <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                <mat-datepicker #picker4 ></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for Circle Code -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Circle Code" formControlName="circleCode" value="CFRST" >
              </mat-form-field>
            </div>

            <!-- Input Field for Circle Name -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Circle Name" formControlName="circleCodeDescription"
                  value="{{circleNameTooltip}}"  matTooltip="{{circleNameTooltip}}">
              </mat-form-field>
            </div>

            <!-- Input Field for Party Reference Number -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Party Reference No." formControlName="partyReferenceNumber" maxlength="20"
                  >
              </mat-form-field>
            </div>

            <!-- Input Field for Party Reference Date -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput formControlName="partyReferenceDate" [matDatepicker]="picker5"
                  placeholder="Party Reference Date" >
                <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                <mat-datepicker #picker5 ></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for Grant Order Number -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Grant Order Number" formControlName="grantOrderNumber" value="test"
                  >
              </mat-form-field>
            </div>

            <!-- Input Field for Grant Order Date -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput formControlName="grantOrderDate" [matDatepicker]="picker6"
                  placeholder="Grant Order Date" >
                <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                <mat-datepicker #picker6></mat-datepicker>
              </mat-form-field>
            </div>

            <!-- Input Field for New Balance LC Amount -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="New Balance LC Amount" formControlName="newBalanceLcAmount"
                  value="58977360.00" >
              </mat-form-field>
            </div>

            <!-- Input Field for Balance LC Amount -->
            <div class="col-sm-3">
              <mat-form-field >
                <input matInput placeholder="Balance LC Amount" formControlName="balanceLcAmount" value="41477360.00"
                  >
              </mat-form-field>
            </div>

            <!-- Division for Summation -->
            <div class="col-sm-12">
              <div class="heading-section ng-star-inserted">
                <div><span>Progressive LC Amount: 41500000.00 + 175000000.00 = 59000000.00</span></div>
              </div>

            </div>

          </div>
        </div>
      </div>

      <div class="box box-primary">
        <div class="box-header">Head Details</div>
        <div class="box-body">
       

          <div class="mat-elevation-z8 mt-2">
            <!-- LC Distribuion Table Starts -->
            <table mat-table [dataSource]="LcdistributionInputDataSource" class="mat-elevation-z8 "
              area-describedby="distribution-input">

              <!-- Serial Number Column -->
              <ng-container matColumnDef="srno">
                <th mat-header-cell *matHeaderCellDef scope="row">
                  Sr. No.
                </th>
                <td mat-cell *matCellDef="let element; let i = index" class="centerAlign">
                  {{ i + 1 }}
                </td>
                <td mat-footer-cell *matFooterCellDef>Total</td>
              </ng-container>

              <!-- Fund Type Column -->
              <ng-container matColumnDef="fundType">
                <th mat-header-cell *matHeaderCellDef scope="row">Fund Type</th>
                <td mat-cell *matCellDef="let element">
                  {{element.fundType}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Class of Expenditure Column -->
              <ng-container matColumnDef="classOfExpenditure">
                <th mat-header-cell *matHeaderCellDef scope="row">Class of expenditure</th>
                <td mat-cell *matCellDef="let element">
                  {{element.classOfExpenditure}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Budget Type Column -->
              <ng-container matColumnDef="budgetType">
                <th mat-header-cell *matHeaderCellDef scope="row">Budget Type</th>
                <td mat-cell *matCellDef="let element">
                  {{element.budgetType}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Demand Number Column -->
              <ng-container matColumnDef="demandNo">
                <th mat-header-cell *matHeaderCellDef scope="row">Demand</th>
                <td mat-cell *matCellDef="let element">
                  {{element.demandNo}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Major Head Column -->
              <ng-container matColumnDef="majorHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Major Head</th>
                <td mat-cell *matCellDef="let element">
                  {{element.majorHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Sub Major Head Column -->
              <ng-container matColumnDef="subMajorHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Sub Major Head</th>
                <td mat-cell *matCellDef="let element">
                  {{element.subMajorHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Minor Head Column -->
              <ng-container matColumnDef="minorHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Minor Head</th>
                <td mat-cell *matCellDef="let element">
                  {{element.minorHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Sub Head Column -->
              <ng-container matColumnDef="subHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Sub Head</th>
                <td mat-cell *matCellDef="let element">
                  {{element.subHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Type of Estimate Column -->
              <ng-container matColumnDef="TypeOfEstimate">
                <th mat-header-cell *matHeaderCellDef scope="row">Type of Estimate</th>
                <td mat-cell *matCellDef="let element" matTooltip={{element.TypeOfEstimate}}>
                  {{element.TypeOfEstimate}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Item Name Column -->
              <ng-container matColumnDef="itemName">
                <th mat-header-cell *matHeaderCellDef scope="row">Item Name/Work Name</th>
                <td mat-cell *matCellDef="let element" matTooltip={{element.itemName}}>
                  {{element.itemName}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Detail Head Column -->
              <ng-container matColumnDef="detailHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Detailed Head</th>
                <td mat-cell *matCellDef="let element">
                  {{element.detailHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Object Head Column -->
              <ng-container matColumnDef="objectHead">
                <th mat-header-cell *matHeaderCellDef scope="row">Object Class</th>
                <td mat-cell *matCellDef="let element">
                  {{element.objectHead}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Scheme Number Column -->
              <ng-container matColumnDef="schemeNo">
                <th mat-header-cell *matHeaderCellDef scope="row">Scheme No.</th>
                <td mat-cell *matCellDef="let element">
                  {{element.schemeNo}}
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Amount Column -->
              <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef scope="row">Amount ( in Rs.)</th>
                <td mat-cell *matCellDef="let element" class="text-right">
                  {{element.amount | number : '1.2-2'}}
                </td>
                <td mat-footer-cell *matFooterCellDef class="text-right">
                  {{ directiveObject.totalAmount(LcdistributionInputDATA) | number : '1.2-2'}}</td>
              </ng-container>

              <!-- Header and Footer Row Definition -->
              <tr mat-header-row *matHeaderRowDef="LcdistributionInputDATAColumn"></tr>
              <tr mat-row *matRowDef="let row; columns: LcdistributionInputDATAColumn;"></tr>
              <tr mat-footer-row *matFooterRowDef="LcdistributionInputDATAColumn"></tr>
            </table>
            <!-- LC Distribuion Table Ends -->
          </div>

          <div class="objection">
            <div class="row">

              <!-- Raise Objection Input field -->
              <div class="col-sm-4">
                <strong>
                  <mat-checkbox class="disabled" matInput formControlName="raiseObjectionCheckbox"
                    (change)="updateRemarks()" [disabled]="true">
                    Raise Objection
                  </mat-checkbox>
                </strong>
              </div>

              <!-- Input Field for Ojjection Remarks -->
              <div class="col-sm-4">
                <mat-form-field *ngIf="errorRemarks">
                  <textarea matInput formControlName="objectionRemarks" placeholder="Objection Remarks"
                    required></textarea>
                </mat-form-field>
              </div>
            </div>
          </div>

       
        </div>
      </div>
      </mat-tab>
        <!-- Mat Tab for LC Distribution Details Ends -->
         <!-- Mat Tab for Attachments Starts -->
         <mat-tab>
          <ng-template mat-tab-label>
            Attachment
          </ng-template>

          <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>
        </mat-tab>
        <!-- Mat Tab for Attachments Ends -->
      </mat-tab-group>
         <!-- Action Buttons Starts -->
         <div class="form-action-button">
          <button type="list" mat-raised-button color="warn" title="List"
            (click)="directiveObject.goToScreen('/lc/lc-verification-to')">
            <i class="material-icons" title="List" aria-hidden="true">
              list
            </i>
            Listing
          </button>
          <button type="button" mat-raised-button class="btnClose" title="Close">
            <i class="material-icons" title="Close" aria-hidden="true">
              close
            </i>
            Close
          </button>
        </div>
        <!-- Action Buttons Ends -->
    </form>
    <!-- Form Ends -->
  </div>
</div>