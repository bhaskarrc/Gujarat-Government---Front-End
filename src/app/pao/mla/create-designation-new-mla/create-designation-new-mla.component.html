<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Create New Designation MLA </div>
    </div>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">PAO</a></li>
        <li class="breadcrumb-item active" aria-current="page">Create New Designation MLA </li>
      </ol>
    </nav>
    <div class="panel-group">

      <form [formGroup]="createDesignationMLAForm" (ngSubmit)="createDesignationMLAeData()">
        <!-- Designation Details -->
        <div class="box box-primary">
          <div class="box-header">Designation Details</div>
          <div class="box-body">
            <div class="row">
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="newDeg" maxlength="50" placeholder="Designation Name" required
                    charactersOnly>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.newDeg.touched || (createDesignationMLAForm.controls.newDeg.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.newDeg.errors?.required">
                      {{errorMessages.Designation_Name}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field>
                  <mat-select name="departmentmla" formControlName="departmentmla" placeholder="Department">
                    <mat-option>-- None --</mat-option>
                    <mat-option *ngFor="let depart of departmentmla_list" [matTooltip]="depart.viewValue"
                      [value]="depart.value">
                      {{depart.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
        <!-- End Designation Details -->
        <!-- Budget Details -->
        <div class="box box-primary">
          <div class="box-header">Budget Details</div>
          <div class="box-body">
            <div class="row">
              <div class="col-sm-3">
                <a (click)="dddoGrant()" class="form-link">
                  <span class="form-link-border" style="display: flex;">
                    DDO Grant Head <span class="ml-12"></span>
                    <mat-icon matSuffix class="searchIcon">search</mat-icon>
                  </span>
                </a>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="classOfExpenditure" placeholder="Class of Expenditure" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="classOfExpenditureCtrl" [placeholderLabel]="'Find Class...'"
                        [noEntriesFoundLabel]="'no matching Classfound'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let classtyp of classType | filterSelectInput:classOfExpenditureCtrl.value"
                      [value]="classtyp.value" matTooltip="{{classtyp.viewValue}}">
                      {{classtyp.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.classOfExpenditure.touched || (createDesignationMLAForm.controls.classOfExpenditure.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.classOfExpenditure.errors?.required">
                      {{errorMessages.CLASS_OF_EXPENDITURE}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width" readonly>
                  <mat-select formControlName="fundType" placeholder="Fund" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="fundTypeCtrl" [placeholderLabel]="'Find Fund...'"
                        [noEntriesFoundLabel]="'no matching Fund'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let fundtype of fundType| filterSelectInput: fundTypeCtrl.value"
                      [value]="fundtype.value" matTooltip="{{fundtype.viewValue}}">
                      {{fundtype.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.fundType.touched || (createDesignationMLAForm.controls.fundType.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.fundType.errors?.required">
                      {{errorMessages.FUND_TYPE}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-md-3 ">
                <mat-form-field class="full-width">
                  <mat-select formControlName="type" placeholder="Budget Type" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="typeCtrl" [placeholderLabel]="'Find Budget Type...'"
                        [noEntriesFoundLabel]="'no matching Type found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let type of type_list | filterSelectInput: typeCtrl.value" [value]="type.value">
                      {{type.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.type.touched || (createDesignationMLAForm.controls.type.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.type.errors?.required">
                      {{errorMessages.BUD_TYPE}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="expenditureType" placeholder=" Type Of Expenditure" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="expenditureTypeCtrl"
                        [placeholderLabel]="'Find  Type Of Expenditure...'"
                        [noEntriesFoundLabel]="'no matching Expenditure Type'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option
                      *ngFor="let expenditureType of expenditureType_list | filterSelectInput: expenditureTypeCtrl.value"
                      [value]="expenditureType.value" [matTooltip]="expenditureType.viewValue">
                      {{expenditureType.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.expenditureType.touched || (createDesignationMLAForm.controls.expenditureType.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.expenditureType.errors?.required">
                      {{errorMessages.TYPE_OF_EXPENDITURE}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="schemeCode" maxlength="6" numbersOnly required
                    placeholder="Scheme No.">

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.schemeCode.touched || (createDesignationMLAForm.controls.schemeCode.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.schemeCode.errors?.required">
                      {{errorMessages.SCHEME_CODE}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="demand" maxlength="5" numbersOnly required placeholder="Demand No.">

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.demand.touched || (createDesignationMLAForm.controls.demand.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.demand.errors?.required">
                      {{errorMessages.DEMAND_NO}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="majorHead" placeholder="Major Head" multiple required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="majorHeadCtrl" [placeholderLabel]="'Find Major Head...'"
                        [noEntriesFoundLabel]="'no matching Major Head found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let majorHead of majorHead_list | filterSelectInput: majorHeadCtrl.value"
                      [value]="majorHead.value" matTooltip="{{majorHead.viewValue}}">
                      {{majorHead.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.majorHead.touched || (createDesignationMLAForm.controls.majorHead.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.majorHead.errors?.required">
                      {{errorMessages.MAJOR_HEAD}}
                    </mat-error>
                  </div>

                </mat-form-field>

              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                        [placeholderLabel]="'Find Sub Major Head...'"
                        [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option
                      *ngFor="let subMajorHead of subMajorHead_list | filterSelectInput: subMajorHeadCtrl.value"
                      [value]="subMajorHead.value" matTooltip="{{subMajorHead.viewValue}}">
                      {{subMajorHead.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.subMajorHead.touched || (createDesignationMLAForm.controls.subMajorHead.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.subMajorHead.errors?.required">
                      {{errorMessages.SUB_MAJOR_HEAD}}
                    </mat-error>
                  </div>

                </mat-form-field>

              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="minorHeadCtrl" [placeholderLabel]="'Find Minor Head...'"
                        [noEntriesFoundLabel]="'no matching Minor Head found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let minorHead of minorHead_list | filterSelectInput: minorHeadCtrl.value"
                      [value]="minorHead.value" matTooltip="{{minorHead.viewValue}}">
                      {{minorHead.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.minorHead.touched || (createDesignationMLAForm.controls.minorHead.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.minorHead.errors?.required">
                      {{errorMessages.MINOR_HEAD}}
                    </mat-error>
                  </div>

                </mat-form-field>

              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="subHead" placeholder="Sub Head" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="subHeadCtrl" [placeholderLabel]="'Find Sub Head...'"
                        [noEntriesFoundLabel]="'no matching Sub Head'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let subHead of subHead_list| filterSelectInput: subHeadCtrl.value"
                      [value]="subHead.value" matTooltip="{{subHead.viewValue}}">
                      {{subHead.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.subHead.touched || (createDesignationMLAForm.controls.subHead.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.subHead.errors?.required">
                      {{errorMessages.SUB_HEAD}}
                    </mat-error>
                  </div>

                </mat-form-field>

              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="detailHeadCtrl" [placeholderLabel]="'Find Detail Head...'"
                        [noEntriesFoundLabel]="'no matching Detail Head'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let detailHead of detailHead_list| filterSelectInput: detailHeadCtrl.value"
                      [value]="detailHead.value" matTooltip="{{detailHead.viewValue}}">
                      {{detailHead.viewValue}}
                    </mat-option>
                  </mat-select>


                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.detailHead.touched || (createDesignationMLAForm.controls.detailHead.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.detailHead.errors?.required">
                      {{errorMessages.DETAIL_HEAD}}
                    </mat-error>
                  </div>
                </mat-form-field>

              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="objectClass" placeholder="Object Class" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="objClassCtrl" [placeholderLabel]="'Find Object Class...'"
                        [noEntriesFoundLabel]="'no matching Object Class'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let Obj of objectClass_list| filterSelectInput: objClassCtrl.value"
                      [value]="Obj.value" matTooltip="{{Obj.viewValue}}">
                      {{Obj.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.objectClass.touched || (createDesignationMLAForm.controls.objectClass.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.objectClass.errors?.required">
                      {{errorMessages.CLASS_OBJECT}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Head Chargeable" formControlName="headChargable" required>

                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.headChargable.touched || (createDesignationMLAForm.controls.headChargable.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.headChargable.errors?.required">
                      {{errorMessages.HEAD_CHARGEABLE_INPUT}}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>

            </div>
          </div>
        </div>
        <!-- End Budget Details -->
        <!-- Amount Details -->
        <div class="box box-primary">
          <div class="box-header">Amount Details</div>
          <div class="box-body">
            <div class="row">
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" numbersOnly value="%" maxlength="3"
                    placeholder="Current CA/DA Perecentage" formControlName="CDP" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.CDP.touched || (createDesignationMLAForm.controls.CDP.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.CDP.errors?.required">
                      {{errorMessages.CURRENT_CA_DA}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="number" value="0.00" placeholder="Salary(0101)"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)" formControlName="salary"
                    required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.salary.touched || (createDesignationMLAForm.controls.salary.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.salary.errors?.required">
                      {{errorMessages.SALARY}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" numbersOnly maxlength="6" value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    placeholder="Consolidated Allowance(0122)" formControlName="consolidatedAllowance" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.fromulafor.touched || (createDesignationMLAForm.controls.fromulafor.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.fromulafor.errors?.required">
                      {{errorMessages.CONC_ALLOWANCE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>


              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" numbersOnly maxlength="6" value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    placeholder="Conveyance Allowance (0104)" formControlName="conveyanceAllowance" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.conveyanceAllowance.touched || (createDesignationMLAForm.controls.conveyanceAllowance.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.conveyanceAllowance.errors?.required">
                      {{errorMessages.CONV_ALLOWANCE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>


              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" numbersOnly maxlength="6" value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    placeholder="Telephone Charges(0123)" formControlName="telephoneCharge" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.telephoneCharge.touched || (createDesignationMLAForm.controls.telephoneCharge.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.telephoneCharge.errors?.required">
                      {{errorMessages.TELE_CHARGE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" maxlength="6" numbersOnly value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    placeholder="Postal Charges Allowance(0124)" formControlName="postalCharge" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.postalCharge.touched || (createDesignationMLAForm.controls.postalCharge.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.postalCharge.errors?.required">
                      {{errorMessages.POSTAL_ALLOWANCE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" maxlength="6" numbersOnly value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    placeholder="Personal Assistance Allowance(0125)" formControlName="personalAllowance" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.personalAllowance.touched || (createDesignationMLAForm.controls.personalAllowance.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.personalAllowance.errors?.required">
                      {{errorMessages.PEARSONAL_ALLOWANCE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>


              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" placeholder="DA Allowance(0103)" numbersOnly maxlength="6" value="0.00"
                    onchange="(function(el){el.value=parseFloat(el.value).toFixed(2);})(this)"
                    formControlName="deamessAllowance" required>
                  <div class="error-wrapper"
                    *ngIf="createDesignationMLAForm.controls.deamessAllowance.touched || (createDesignationMLAForm.controls.deamessAllowance.errors && isSubmitted)">
                    <mat-error *ngIf="createDesignationMLAForm.controls.deamessAllowance.errors?.required">
                      {{errorMessages.DA_ALLOWANCE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

            </div>
            <!-- Common Button -->
            <div class="form-action-button">
              <button mat-raised-button type="submit" (click)='onSubmit()' class="green">
                <i aria-hidden="true" class="material-icons">
                  done
                </i> Submit
              </button>

              <button type="button" mat-raised-button color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>

              <button type="button" mat-raised-button class="btnClose">
                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                  close
                </i>
                Close
              </button>

              <button type="reset" mat-raised-button color="accent">
                <i class="material-icons" aria-hidden="true">
                  restore
                </i>
                Reset
              </button>


            </div>
            <!-- Common Button -->
          </div>
        </div>
        <!-- End Amount Details -->
      </form>
    </div>
  </div>
</div>