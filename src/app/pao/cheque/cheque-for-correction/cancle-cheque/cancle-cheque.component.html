<div class="box box-primary">

  <div class="heading-section ng-star-inserted">
    <div>Cancel Cheque</div>
    <div class="font-heading rightAlign"><strong>Total Cheque Amount:</strong>1500.00</div>
  </div>

  <form [formGroup]="cancelchequeForm">
    <div class="box-body">
      <div class="box box-primary">
        <div class="box-header"> Cheque Prepration </div>
        <div class="box-body">
          <table mat-table [dataSource]="newdataSource" class="mat-elevation-z8" aria-describedby="chequePrepraion">
            <ng-container matColumnDef="srno">
              <th mat-header-cell *matHeaderCellDef scope="row"> Select</th>
              <td mat-cell *matCellDef="let element; let i= index" class="centerAlign">
                <mat-checkbox (click)="billDetails()"></mat-checkbox>
              </td>
            </ng-container>

            <ng-container matColumnDef="chequeType">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Type
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.chequeType}}
              </td>
            </ng-container>
            <ng-container matColumnDef="inFavourof">
              <th mat-header-cell *matHeaderCellDef scope="row"> In Favour Of</th>
              <td mat-cell *matCellDef="let element">
                {{element.inFavourof}}
              </td>
            </ng-container>
            <ng-container matColumnDef="chequeNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque No.
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.chequeNo}}
              </td>
            </ng-container>
            <ng-container matColumnDef="accountNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Account NO.
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.accountNo}}
              </td>
            </ng-container>
            <ng-container matColumnDef="chequeAmount">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Amount</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.chequeAmount}}
              </td>
            </ng-container>

            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row"> Action</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                    aria-hidden="true" title="delete">delete_forever</i></a>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="newdisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: newdisplayedColumns;"></tr>
          </table>
        </div>
      </div>
      <div class="box box-primary">
        <div class="box-header"> Reason Of Cancelation </div>
        <div class="box-body">
          <div class="row">
            <div class="col-sm-4">
              <mat-form-field>
                <mat-select name="ReasonName" formControlName="ReasonName" (selectionChange)='onReason($event)'
                  placeholder="Reason">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="ReasonnameCtrl" [placeholderLabel]="'Select Reason ...'"
                      [noEntriesFoundLabel]="'no matching Tange type found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let reason of ReasonnameCtrl_list |
                    filterSelectInput : ReasonnameCtrl.value : 'viewValue'" [value]="reason.value">
                    {{reason.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-sm-4" *ngIf='isOthers'>
              <mat-form-field class="full-width">
                <textarea matInput class="textarea" name="reasonOfcacelation" formControlName="reasonOfcacelation"
                  placeholder="Reason Of Cancelation" required>
                </textarea>
              </mat-form-field>
            </div>
          </div>

        </div>
      </div>
      <div class="box box-primary">
        <div class="box-header"> Cheque Information </div>
        <div class="box-body">
          <table mat-table [dataSource]="chequedataSource" class="mat-elevation-z8" aria-describedby="chequeInfo">
            <ng-container matColumnDef="srno">
              <th mat-header-cell *matHeaderCellDef scope="row"> Select</th>
              <td mat-cell *matCellDef="let element; let i= index" class="centerAlign">
                <mat-checkbox (click)="billDetails()"></mat-checkbox>
              </td>
            </ng-container>

            <ng-container matColumnDef="chequeType">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Type
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field>
                  <mat-select name="chequeTypes" formControlName="chequeTypes">
                    <mat-option *ngFor="let tocheque of chequeTypes_list" [value]="tocheque.value">
                      {{tocheque.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="inFavourof">
              <th mat-header-cell *matHeaderCellDef scope="row"> In Favour Of</th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never">
                  <input matInput [value]="element.inFavourof" [(ngModel)]="element.inFavourof"
                    [ngModelOptions]="{standalone: true}" required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="accountNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Account NO.
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never">
                  <input matInput [value]="element.accountNo" [(ngModel)]="element.accountNo"
                    [ngModelOptions]="{standalone: true}" numbersOnly required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="chequeAmount">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Amount</th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never" class="rightAlign">
                  <input matInput [value]="element.chequeAmount" [(ngModel)]="element.chequeAmount"
                    [ngModelOptions]="{standalone: true}" numbersOnly required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row"> Action</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                    aria-hidden="true" title="delete">delete_forever</i></a>
              </td>
            </ng-container>
            <!-- Header Section Of table -->

            <tr mat-header-row *matHeaderRowDef="chequedisplayedColumns"></tr>
            <!-- Data Fetch From .TS File to table -->
            <tr mat-row *matRowDef="let row; columns: chequedisplayedColumns;"></tr>
          </table>


        </div>
      </div>
      <!-- Common button -->
      <div class="form-action-button">
        <button mat-raised-button type="submit" class="green" (click)="submitToNextLevel()">
          <i class="material-icons" aria-hidden="true">
            done
          </i> Submit
        </button>

        <button type="button" mat-raised-button color="warn">
          <i class="material-icons" aria-hidden="true">
            restore
          </i>
          Discard
        </button>
        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
          <i class="material-icons" aria-hidden="true" title="Budget dashboard">
            close
          </i>
          Close
        </button>
      </div>
    </div>

  </form>
</div>