<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>SLO Audit</div>
    </div>



    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">PAO</a></li>
        <li class="breadcrumb-item active" aria-current="page">SLO Audit</li>
      </ol>
    </nav>

    <form [formGroup]="sloDetailsForm">
      <div class="panel-group">
        <div class="box box-primary">
          <div class="box-header">Department</div>
          <div class="box-body">
            <!-- Department -->
            <div class="row">

              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <input matInput type="text" placeholder="Department" numbersOnly formControlName="department" required
                    readonly>
                  <div class="error-wrapper"
                    *ngIf="sloDetailsForm.controls.department.touched || (sloDetailsForm.controls.department.errors && isSubmitted)">
                    <mat-error *ngIf="sloDetailsForm.controls.department.errors?.required">
                      {{errorMessages.DEPARTMENT}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field class="full-width">

                  <mat-select name="minister" formControlName="minister" placeholder="Minister" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="ministerCtrl" [placeholderLabel]="'Select Month ...'"
                        [noEntriesFoundLabel]="'no matching month found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option
                      *ngFor="let item of minsiter_list | filterSelectInput : ministerCtrl.value : 'viewValue'"
                      [value]="item.value" matTooltip="{{item.viewValue}}">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="sloDetailsForm.controls.minister.touched || (sloDetailsForm.controls.minister.errors && isSubmitted)">
                    <mat-error *ngIf="sloDetailsForm.controls.minister.errors?.required">
                      {{errorMessages.MONTH}}
                    </mat-error>
                  </div>
                </mat-form-field>

              </div>

              <div class="col-sm-3">
                <mat-form-field>
                  <mat-select name="month" formControlName="month" placeholder="Month" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="monthCtrl" [placeholderLabel]="'Select Month ...'"
                        [noEntriesFoundLabel]="'no matching month found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of month_list | filterSelectInput : monthCtrl.value : 'viewValue'"
                      [value]="item.value" matTooltip="{{item.viewValue}}">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="sloDetailsForm.controls.month.touched || (sloDetailsForm.controls.month.errors && isSubmitted)">
                    <mat-error *ngIf="sloDetailsForm.controls.month.errors?.required">
                      {{errorMessages.MONTH}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <div class="col-sm-3">
                <mat-form-field>
                  <mat-select name="year" formControlName="year" placeholder="Year" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="yearCtrl" [placeholderLabel]="'Select year ...'"
                        [noEntriesFoundLabel]="'no matching year found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of year_list | filterSelectInput : yearCtrl.value : 'viewValue'"
                      [value]="item.value" matTooltip="{{item.viewValue}}">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>

                  <div class="error-wrapper"
                    *ngIf="sloDetailsForm.controls.year.touched || (sloDetailsForm.controls.year.errors && isSubmitted)">
                    <mat-error *ngIf="sloDetailsForm.controls.year.errors?.required">
                      {{errorMessages.YEAR}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>



            </div>
            <!-- End Department -->
          </div>

        </div>
      </div>

      <!-- Post Details -->

      <div class="panel-group">
        <div class="box box-primary">
          <div class="box-header">Post Details</div>
          <div class="box-body">

            <div class="row">

              <div class="mat-elevation-z8 table-responsive mt-2">

                <table mat-table [dataSource]="dataSource" aria-describedby="postDetails">

                  <!-- Designation -->
                  <ng-container matColumnDef="designation">
                    <th mat-header-cell *matHeaderCellDef scope="row">Designation</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.designation}}
                    </td>
                  </ng-container>

                  <!-- Type  -->
                  <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef scope="row"> Type </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.type}}
                    </td>
                  </ng-container>

                  <!-- Sanction Post  -->
                  <ng-container matColumnDef="sanctionPost">
                    <th mat-header-cell *matHeaderCellDef scope="row"> Sanction Post </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.sanctionPost}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <!-- S  -->
                  <ng-container matColumnDef="s">
                    <th mat-header-cell *matHeaderCellDef width="13%" scope="row"> S </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field floatLabel="never" class="rightAlign">
                        <input matInput numbersOnly maxlength="2" [(ngModel)]="element.s"
                          [ngModelOptions]="{standalone: true}" type="text">
                      </mat-form-field>
                    </td>
                  </ng-container>

                  <!-- L  -->
                  <ng-container matColumnDef="l">
                    <th mat-header-cell *matHeaderCellDef width="13%" scope="row"> L </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field floatLabel="never" class="rightAlign">
                        <input matInput numbersOnly maxlength="2" [(ngModel)]="element.l"
                          [ngModelOptions]="{standalone: true}" type="text">
                      </mat-form-field>
                    </td>
                  </ng-container>
                  <!-- O -->
                  <ng-container matColumnDef="o">
                    <th mat-header-cell *matHeaderCellDef width="13%" scope="row"> O </th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field floatLabel="never" class="rightAlign">
                        <input matInput numbersOnly maxlength="2" [(ngModel)]="element.o"
                          [ngModelOptions]="{standalone: true}" type="text">
                      </mat-form-field>
                    </td>
                  </ng-container>
                  <!-- Header Section Of table -->
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <!-- Data Fetch From .TS File to table -->
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

              </div>

            </div>
            <!-- Commpn Button -->
            <div class="form-action-button">

              <button type="submit" mat-raised-button color="primary" (click)='onSubmit()'>
                <i class="material-icons" aria-hidden="true" title="Save">
                  save
                </i>
                Save
              </button>
              <button type="button" mat-raised-button class="btnClose">
                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                  close
                </i>
                Close
              </button>

            </div>
            <!-- End Commpn Button -->
          </div>
        </div>
      </div>
      <!-- Post Details -->
    </form>

  </div>
</div>