<div class="container">
  <div class="form-wrapper">

    <!-- heading section -->
    <div class="heading-section ng-star-inserted">
      <div>Form G.T.R. 62B - Grant in Aid Bill to Local Bodies</div>
      <div class="font-heading"><strong>Reference Number:</strong> 19-20/DDO/BP/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}
      </div>
    </div>

    <!-- navigation -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">DDO</a></li>
        <li class="breadcrumb-item active" aria-current="page"> GTR 62B</li>
      </ol>
    </nav>

    <!-- view bill -->
    <span class="viewBill">
      <a (click)="goToReport()" title="View Bill">View Bill</a>
    </span>

    <div class="panel-group">
      <mat-tab-group mat-stretch-tabs [selectedIndex]="selectedIndex" (selectedIndexChange)="getTabIndex($event)">

        <!-- bill preparation -->
        <mat-tab>
          <ng-template mat-tab-label>
            Bill Preparation
          </ng-template>

          <!-- selector app for bill preparation tab -->
          <app-bill-preparation-sixty-two></app-bill-preparation-sixty-two>

          <!-- form action button -->
          <div class="form-action-button">
            <button type="submit" mat-raised-button color="primary" (click)="goToNext()">
              Save & Proceed
              <i class="material-icons" aria-hidden="true" title="Next">
                chevron_right
              </i>
            </button>
          </div>
          <!-- form action button end -->
        </mat-tab>
        <!-- bill preparation  end -->

        <!-- gtr-62B details -->
        <mat-tab>
          <ng-template mat-tab-label>
            GTR-62B Details
          </ng-template>

          <!-- form start -->
          <form [formGroup]="formsixtytwo" (ngSubmit)="formsixtytwoformData()">
            <div class="box box-primary">

              <div class="box-header">GTR - 62B Bill Details</div>
              <div class="box-body">

                <div class="row">
                  <div class="col-md-12 mat-elevation-z8 mt-2">

                    <!-- table start -->
                    <table mat-table [dataSource]="grantinbillDataSource" matSort aria-describedby="billDetails">

                      <ng-container matColumnDef="gpfAcno">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Order
                          No <span> * </span> </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field floatLabel="never">
                            <input matInput [value]="item.gpfAcno" [(ngModel)]="item.gpfAcno"
                              [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="orDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Order
                          Date <span> * </span> </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field>
                            <input matInput [matDatepicker]="letterdatePicker" readonly [max]="maxDate">
                            <mat-datepicker-toggle matSuffix [for]="letterdatePicker">
                            </mat-datepicker-toggle>
                            <mat-datepicker #letterdatePicker></mat-datepicker>
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="sanctioBy">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                          Sanctioned By <span> * </span> </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field floatLabel="never">
                            <input type="text" matInput [value]="item.sanctioBy" [(ngModel)]="item.sanctioBy"
                              [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                      </ng-container>


                      <ng-container matColumnDef="grantInAdd">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Grant
                          In Aid Period <span> * </span></th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field floatLabel="never">
                            <input matInput [value]="item.grantInAdd" [(ngModel)]="item.grantInAdd"
                              [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                      </ng-container>



                      <ng-container matColumnDef="amt">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Amount
                          <span> * </span> </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input type="number" matInput [value]="item.amt" [(ngModel)]="item.amt"
                              [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <!-- Header Section Of table -->
                      <tr mat-header-row *matHeaderRowDef="grantinbillColumn"></tr>
                      <!-- Data Fetch From .TS File to table -->
                      <tr mat-row *matRowDef="let row; let i = index;columns:grantinbillColumn">
                      </tr>
                    </table>
                    <!-- table end -->

                    <div class="row">

                      <div class="col-md-4">

                        <mat-checkbox formControlName="UTCCheckbox" title="UTCCheckbox">UTC
                          Required</mat-checkbox>
                      </div>

                      <div class="col-md-8">
                        <ng-container *ngIf="!formsixtytwo.controls['UTCCheckbox'].value">
                          <mat-form-field floatLabel="never">

                            <textarea matInput placeholder="Remarks" formControlName="utcRemarks" cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"
                              required></textarea>
                            <div class="error-wrapper"
                              *ngIf="formsixtytwo.controls.utcRemarks.touched && formsixtytwo.controls.utcRemarks.errors">
                              <mat-error *ngIf="formsixtytwo.controls.utcRemarks.errors.required">
                                {{errorMessage.REMARKS}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </ng-container>
                      </div>

                    </div>

                    <div class="col-md-12">

                      <div class="row">

                        <!-- table start -->
                        <table class="detailCheckTable">
                          <tbody>
                            <tr>
                              <td class="w-15">
                                <label>Bill Date</label>
                              </td>
                              <td class="w-10 disabled">
                                <mat-form-field>
                                  <input class="BUnderLine text-right" matInput [matDatepicker]="picker1"
                                    [formControl]="date" readonly [max]="maxDate">
                                  <mat-datepicker #picker1></mat-datepicker>
                                </mat-form-field>
                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Bill Sent Date</label>
                              </td>
                              <td class="w-10 disabled">
                                <input class="BUnderLine" matInput readonly>
                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Passed For Rs.</label>
                              </td>
                              <td class="w-10 rightAlign disabled">

                                <input class="BUnderLine" matInput value="5555.00" readonly>

                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Passed For Rs.(In Words)</label>
                              </td>
                              <td class="w-10 disabled rightAlign">
                                <input class="BUnderLine" matInput value="Five Thousand Five Hundred Fifty Five Only"
                                  readonly>
                              </td>
                            </tr>

                          </tbody>
                        </table>
                        <!-- table end -->

                        <div class="checkllist mt-4 col-md-12 no-padding">
                          <p class="mb-0"> <span>Please issue Cheque in favour of
                              &nbsp;&nbsp;</span>:<u class="font-weight-bold">ABC Ltd</u>
                            &nbsp; of Amount Rs. <b>5555.00 </b></p>
                          <p class="mb-0 printLink">
                            <span (click)="gotoCheckList()" class="searchIcon "> Print
                              Cheque List</span>
                          </p>
                        </div>

                      </div>

                    </div>

                  </div>
                </div>
              </div>
            </div>
          </form>
          <!-- form end -->

        </mat-tab>
        <!-- gtr-62B details end  -->

        <!-- Attachments-->
        <mat-tab label="Attachments">
          <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>
        </mat-tab>
        <!-- Attachments end -->

      </mat-tab-group>

      <!-- action button -->
      <div class="form-action-button">

        <button type="submit" mat-raised-button color="primary" title="Save As Draft">
          <i class="material-icons" title="Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>

        <button mat-raised-button type="submit" class="green" (click)="directiveObject.workflowDetails()"
          title="Submit">
          <i class="material-icons" title="Submit" aria-hidden="true">done</i> Submit</button>

        <button type="reset" mat-raised-button color="accent" title="Reset" (click)="resetForm()">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>

        <button type="button" mat-raised-button color="warn" title="Listing" [routerLink]="['']"
          routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>

        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>

        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>

      </div>
      <!-- action button end  -->

    </div>

  </div>
</div>