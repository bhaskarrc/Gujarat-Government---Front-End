<div class="container">
  <div class="form-wrapper">

    <!-- heading section -->
    <div class="heading-section ng-star-inserted">
      <div>Form GTR 29 - Medical Charges Reimbursement Bill Gazetted Government Servant Servant/Non-Gazetted
        Establishment</div>
      <div class="font-heading"><strong>Reference Number:</strong> 19-20/DDO/BM/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}
      </div>
    </div>

    <!-- navigation -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">DDO</a></li>
        <li class="breadcrumb-item active" aria-current="page"> GTR 29</li>
      </ol>
    </nav>


    <!-- view bill -->
    <span class="viewBill">
      <a (click)="goToReport()" title="View Bill">View Bill</a>
    </span>

    <div class="panel-group">
      <mat-tab-group mat-stretch-tabs [selectedIndex]="selectedIndex" (selectedIndexChange)="getTabIndex($event)">

        <!-- bill preparation -->
        <mat-tab>

          <ng-template mat-tab-label>
            Bill Preparation
          </ng-template>

          <!-- form -->
          <form [formGroup]="formTwentyNine">

            <!-- ddo information -->
            <div class="box box-primary">
              <div class="box-header">DDO Information</div>
              <div class="box-body">
                <div class="row">
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="DDO No." value="52" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="Cardex No." value="51" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="DDO Name" value="D C DAVE" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="Designation" value="District Treasury Officer" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width disabled">
                      <input matInput placeholder="Office Name"
                        value="District Treasury Officer, District Treasury Office, Gandhinagar"
                        matTooltip="District Treasury Officer, District Treasury Office, Gandhinagar"
                        class="regularText" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="District Code" value="71" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="Bill Creator" value="" disabled>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width">
                      <input matInput placeholder="Bill Approver" value="" disabled>
                    </mat-form-field>
                  </div>
                </div>

              </div>
            </div>

            <!-- employee details -->
            <div class="box box-primary">
              <div class="box-header">Employee Details</div>
              <div class="box-body">
                <div class="row">
                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width disabled">
                      <input matInput placeholder="Claimant" value="Employee" readonly>
                    </mat-form-field>
                  </div>


                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <input matInput name="employeeNumber" formControlName="employeeNo" placeholder="Employee Number"
                        (keydown.enter)="fillEmployeeData($event)" required>
                      <mat-icon matSuffix (click)="openDialogEmployeeNumber()">search
                      </mat-icon>


                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="employeeType" readOnly placeholder="Employee Type" disabled>
                        <mat-option *ngFor="let item of employeeTypeList | filterSelectInput: employeeTypeCtrl.value"
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width disabled">
                      <input matInput formControlName="employeeName" readonly placeholder="Name of Employee">
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 col-md-3">
                    <mat-form-field class="full-width disabled">
                      <input matInput formControlName="designation" readonly placeholder="Designation">
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="disabled">
                      <input matInput name="Establishment" readonly formControlName="establishment"
                        placeholder="For the Establishment of the " autocomplete="off"
                        matTooltip="District Treasury Officer, District Treasury Office, Gandhinagar">

                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width disabled">
                      <mat-select formControlName="monthOf" readonly placeholder="For the Month of">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="monthOfCtrl" [placeholderLabel]="'Find Month...'"
                            [noEntriesFoundLabel]="'no matching Month found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let item of monthList | filterSelectInput: monthOfCtrl.value "
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width disabled">
                      <mat-select formControlName="financialYear" readonly placeholder="Year">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="financialYearCtrl"
                            [placeholderLabel]="'Find financial Year...'"
                            [noEntriesFoundLabel]="'no matching financial Year found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let item of financialYearList | filterSelectInput: financialYearCtrl.value"
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                </div>
              </div>
            </div>

            <!-- budget details -->
            <div class="box box-primary">
              <div class="box-header"> Budget Details </div>
              <form [formGroup]="formTwentyNine" (ngSubmit)="formsixtytwoformData()">
                <div class="box-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">

                        <input matInput type="text" formControlName="ddoGrantHead" placeholder="DDO Grant Heads"
                          readonly>
                        <mat-icon matSuffix class="searchIcon" (click)="openDdoGrantHeadDialog()">search</mat-icon>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="classExp" placeholder="Class of Expenditure" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="classCtrl" [placeholderLabel]="'Find Class...'"
                              [noEntriesFoundLabel]="'no matching Class found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of classType | filterSelectInput:classCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width" readOnly>
                        <mat-select formControlName="fundType" placeholder="Fund" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="fundTypeCtrl" [placeholderLabel]="'Find Fund...'"
                              [noEntriesFoundLabel]="'no matching Fund'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of fundTypeList| filterSelectInput: fundTypeCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="schemeType" placeholder="State/CSS" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="schemeTypeCtrl"
                              [placeholderLabel]="'Find State/Css...'" [noEntriesFoundLabel]="'no matching State/Css'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of schemeTypeList | filterSelectInput: schemeTypeCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="demand" placeholder="Demand" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                              [noEntriesFoundLabel]="'no matching Demand found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of demandList | filterSelectInput: demandCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="majorHead" placeholder="Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="majorHeadCtrl"
                              [placeholderLabel]="'Find Major Head...'"
                              [noEntriesFoundLabel]="'no matching Major Head found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of majorHeadList | filterSelectInput: majorHeadCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                              [placeholderLabel]="'Find Sub Major Head...'"
                              [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of subMajorHeadList | filterSelectInput: subMajorHeadCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="minorHeadCtrl"
                              [placeholderLabel]="'Find Minor Head...'"
                              [noEntriesFoundLabel]="'no matching Minor Head found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of minorHeadList | filterSelectInput: minorHeadCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subHead" placeholder="Sub Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subHeadCtrl" [placeholderLabel]="'Find  Sub Head...'"
                              [noEntriesFoundLabel]="'no matching  Sub Head'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of subHeadList| filterSelectInput: subHeadCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="detailHeadCtrl"
                              [placeholderLabel]="'Find Detail Head...'"
                              [noEntriesFoundLabel]="'no matching Detail Head'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of detailHeadList| filterSelectInput: detailHeadCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="type" placeholder="Type of Estimate" required
                          (ngModelChange)="itemSelect($event)" #value required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="typeCtrl" [placeholderLabel]="'Find Budget Type...'"
                              [noEntriesFoundLabel]="'no matching Type found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of typeOfEstimateList | filterSelectInput: typeCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="objectClass" placeholder="Object Class" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="objClassCtrl"
                              [placeholderLabel]="'Find Object Class...'"
                              [noEntriesFoundLabel]="'no matching Object Class'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of objectClassList| filterSelectInput: objClassCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="example-full-width disabled">
                        <input matInput placeholder="Head Chargeable" formControlName="headChargeable" readonly
                          class="regularText" required>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width disabled">
                        <input matInput formControlName="schemeNo" placeholder="Scheme No" readonly class="regularText">
                      </mat-form-field>
                    </div>


                    <div class="col-sm-3" *ngIf="value.value == 2 || value.value == 3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="itemName" placeholder="Item Name / Work Name" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="itemCtrl" [placeholderLabel]="'Find Item Name...'"
                              [noEntriesFoundLabel]="'no matching Item Name found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of itemNameList | filterSelectInput: itemCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="exempted" placeholder="Exempted" disabled>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="exemptedCtrl"
                              [placeholderLabel]="'Select Exempted...'" [noEntriesFoundLabel]="'no matching Exempted'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item  of exemptedType| filterSelectInput: exemptedCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="billCode" placeholder="Bill Code" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="billCodeCtrl"
                              [placeholderLabel]="'Select Bill Code...'"
                              [noEntriesFoundLabel]="'no matching Bill Code'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item  of billCodeList | filterSelectInput: billCodeCtrl.value"
                            [value]="item.value" matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="billCategory" placeholder="Bill Category" required #billValue
                          (selectionChange)="billValues($event)">
                          <mat-option>
                            <ngx-mat-select-search [formControl]="billCatCtrl"
                              [placeholderLabel]="'Select Bill Category...'"
                              [noEntriesFoundLabel]="'no matching Bill Category'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item  of billCategoryList | filterSelectInput: billCatCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>

                      </mat-form-field>
                    </div>



                    <div class="col-sm-3">

                      <mat-form-field class="full-width">
                        <input matInput formControlName="previousBill" numbersOnly
                          placeholder="Previous Bill Transit Register" class="regularText">
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3" *ngIf="paymentTypeDropDown">

                      <mat-form-field class="full-width">
                        <mat-select formControlName="paymentType" placeholder="Payment Type"
                          (selectionChange)="payment($event)" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="paymentTypeCtrl"
                              [placeholderLabel]="'Select Payment Type...'"
                              [noEntriesFoundLabel]="'no matching Payment Type'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item  of paymentTypeList | filterSelectInput: paymentTypeCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                  </div>
                </div>

              </form>
            </div>

            <!-- edp details -->
            <div class="box box-primary">
              <div class="box-header">EDP Details</div>
              <div class="mat-elevation-z8">

                <div class="box-body">
                  <!-- table start -->
                  <table mat-table [dataSource]="expenditureDataSource" matSort aria-describedby="edpDetails">
                    <ng-container matColumnDef="parent1">
                      <th mat-header-cell *matHeaderCellDef colspan="5" class="centerAlign" scope="row">Expenditure
                        Details </th>
                    </ng-container>

                    <ng-container matColumnDef="budgetCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Budget Code</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.budgetCode}}</td>
                      <td mat-footer-cell *matFooterCellDef>Total</td>
                    </ng-container>
                    <ng-container matColumnDef="description">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Description</th>
                      <td mat-cell *matCellDef="let element"> {{element.description}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="edpCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">EDP Code</th>
                      <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.edpCode">{{element.edpCode}}</span>
                        <mat-form-field class="example-full-width" *ngIf="!element.edpCode">
                          <input tabindex="1" matInput value="{{element.edpCode}}" numbersOnly
                            (keydown.enter)="fillData()" maxlength="4" [tabindex]="1" [datoAutoFocus]="true">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="amount">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Amount (Rs.)</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field class="example-full-width" class="rightAlign">
                          <input tabindex="2" matInput [(ngModel)]="element.amount" decimalLimitTwoOnly
                            value="{{element.amount}}" [tabindex]="2" decimalPoint2
                            [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{totalExpeAmount() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [ngStyle]="{'width':'4%'}">
                        Action
                      </th>
                      <td mat-cell *matCellDef="let element; let i=index">
                        <table class="iconTable" aria-describedby="actionBtn">
                          <tbody>
                            <tr>
                              <td width="30">
                                <i class="material-icons plus add" aria-hidden="true"
                                  *ngIf="(i == expenditureDataSource.data.length - 1)" (click)="addLeave(i);">
                                  add
                                </i>
                              </td>
                              <td width="30">
                                <i class="material-icons plus delete" aria-hidden="true"
                                  (click)="deletExpenditureRow(i)">
                                  delete
                                </i>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <!-- Custom Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="['parent1']" class="example-second-header-row">
                    </tr>
                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="expenditureColumn"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index;columns:expenditureColumn"></tr>
                    <!-- Footer Section Of table -->
                    <tr mat-footer-row *matFooterRowDef="expenditureColumn"></tr>
                  </table>
                  <!-- table end -->
                </div>

              </div>

            </div>

            <!-- recovery details -->
            <div class="box box-primary">
              <div class="box-header">Recovery details</div>
              <div class="box-body">

                <button type="submit" mat-raised-button class=" mb-1" color="primary" (click)="addRecovery()"> <i
                    class="material-icons " aria-hidden="true">add</i>Add Row</button>

                <div class="mat-elevation-z8 mt-2" [ngStyle]="{'width':'100%'}">

                  <!-- table start -->
                  <table mat-table [dataSource]="recoveryDataSource" aria-describedby="recoveryDetails">
                    <ng-container matColumnDef="parent1">
                      <th mat-header-cell *matHeaderCellDef colspan="5" class="centerAlign" scope="row"> Recovery
                        Details </th>
                    </ng-container>

                    <ng-container matColumnDef="budgetCode">
                      <th mat-header-cell *matHeaderCellDef scope="row">Budget Code</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        {{element.budgetCode}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> Total</td>
                    </ng-container>
                    <ng-container matColumnDef="description">
                      <th mat-header-cell *matHeaderCellDef scope="row">Description</th>
                      <td mat-cell *matCellDef="let element"> {{element.description}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="edpCode">
                      <th mat-header-cell *matHeaderCellDef scope="row">EDP Code</th>
                      <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.edpCode">{{element.edpCode}}</span>
                        <mat-form-field class="example-full-width" *ngIf="!element.edpCode">
                          <input tabindex="1" matInput value="{{element.edpCode}}" numbersOnly
                            (keydown.enter)="recoveryData()" maxlength="4" [datoAutoFocus]="true">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="amount">
                      <th mat-header-cell *matHeaderCellDef scope="row">Amount (Rs.)</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field class="example-full-width" class="rightAlign">
                          <input tabindex="2" matInput [(ngModel)]="element.amount" decimalLimitTwoOnly value=""
                            decimalPoint2 [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{totalRecovery() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef scope="row" style="width: 4%;">Action</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <table class="iconTable" aria-describedby="actionBtn">
                          <tbody>
                            <tr>

                              <td width="30">
                                <i class="material-icons plus delete" aria-hidden="true" (click)="deleteRowRecovery(i)">
                                  delete
                                </i>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <!-- Custom Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="['parent1']" class="example-second-header-row">
                    </tr>
                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="recoveryColumn"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index;columns:recoveryColumn"></tr>
                    <!-- Footer Section Of table -->
                    <tr mat-footer-row *matFooterRowDef="recoveryColumn"></tr>
                  </table>
                  <!-- table end -->
                </div>


              </div>

            </div>

            <!-- receipt details -->
            <div class="box box-primary">
              <div class="box-header"> Receipt Details </div>
              <div class="box-body">

                <button type="submit" mat-raised-button class=" mb-1" color="primary" (click)="addEdpRow()">
                  <i class="material-icons " aria-hidden="true">add</i>Add Row</button>

                <div class="mat-elevation-z8 mt-2" style="width: 100%;">
                  <!-- table start -->
                  <table mat-table [dataSource]="receiptDataSource" matSort aria-describedby="receiptDetails">
                    <ng-container matColumnDef="parent1">
                      <th mat-header-cell *matHeaderCellDef colspan="9" class="centerAlign" scope="row">Receipt Details
                      </th>
                    </ng-container>

                    <ng-container matColumnDef="edpCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">EDP Code</th>
                      <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.edpCode">{{element.edpCode}}</span>
                        <mat-form-field class="example-full-width" *ngIf="!element.edpCode">
                          <input matInput value="{{element.edpCode}}" maxlength="4" numbersOnly
                            (keydown.enter)="fillEdpDescription()" [datoAutoFocus]="true">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> Total</td>
                    </ng-container>

                    <ng-container matColumnDef="description">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Description</th>
                      <td mat-cell *matCellDef="let element"> {{element.description}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="dedType">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Deduction Type</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.dedType}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="majorHead">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Major Head</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.majorHead}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="subMajorHead">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row"> Sub Major Head</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.subMajorHead}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="minerHead">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row"> Minor Head</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.minerHead}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="subHead">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row"> Sub Head</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.subHead}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="amount">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Amount (Rs.)</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field class="example-full-width rightAlign">
                          <input matInput decimalLimitTwoOnly value="{{element.amount}}" decimalPoint2
                            [(ngModel)]="element.amount" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{reciptTotal() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Action</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <table class="iconTable" aria-describedby="actionBtn">
                          <tbody>
                            <tr>
                              <td width="30">
                                <i class="material-icons plus add" aria-hidden="true" (click)="addnewRowreceipt(i)">
                                  add
                                </i>
                              </td>
                              <td width="30">
                                <i class="material-icons plus delete" aria-hidden="true" (click)="removeRow()">
                                  delete
                                </i>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <!-- Custom Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="['parent1']" class="example-second-header-row">
                    </tr>
                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="receiptColumn"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index;columns:receiptColumn"></tr>
                    <!-- Footer Section Of table -->
                    <tr mat-footer-row *matFooterRowDef="receiptColumn"></tr>
                  </table>
                  <!-- table end -->
                </div>

              </div>
            </div>

            <!-- receipt data summary -->
            <div class="box box-primary">
              <div class="box-header"> Receipt-Data Summary</div>
              <div class="box-body">


                <div class="mat-elevation-z8" style="width: 100%;">

                  <!-- table start -->
                  <table mat-table [dataSource]="summaryDataSource" matSort aria-describedby="receiptDataSummary">

                    <ng-container matColumnDef="edpCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">EDP Code</th>
                      <td mat-cell *matCellDef="let element"> {{element.edpCode}} </td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>

                    <ng-container matColumnDef="chlanDate">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Challan Date</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field>
                          <input matInput [matDatepicker]="picker" [max]="maxDate">
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="pdAccount">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">PD Account</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <mat-form-field class="example-full-width">
                          <input matInput [(ngModel)]="element.pdAccount" value="{{element.pdAccount}}"
                            [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="party">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Party</th>
                      <td mat-cell *matCellDef="let element;let i=index">

                        <mat-form-field class="example-full-width">
                          <input matInput [(ngModel)]="element.party" value="{{element.party}}"
                            [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="amount">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Amount<span>*</span></th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field class="example-full-width" class="rightAlign">
                          <input matInput decimalLimitTwoOnly value="{{element.amount}}" decimalPoint2
                            [(ngModel)]="element.amount" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        <span>{{totalSummary() | number:'1.2-2'}} </span> </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Action</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <table class="iconTable" aria-describedby="actionBtn">
                          <tbody>
                            <tr>
                              <td width="30" id={{i}}>
                                <i class="material-icons plus delete" aria-hidden="true"
                                  *ngIf="summaryDataSource.data.length >=1" (click)="removeRowSummary(i)"> delete </i>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="summaryData"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index;columns:summaryData"></tr>
                    <!-- Footer Section Of table -->
                    <tr mat-footer-row *matFooterRowDef="summaryData"></tr>
                  </table>
                  <!-- table end -->
                </div>



              </div>
            </div>
            <!-- receipt data summary deduction table-->
            <div class="mat-elevation-z8 mt-3" style="width: 100%;">
              <!-- table start -->
              <table mat-table [dataSource]="deductionDataSource" matSort aria-describedby="deduction">

                <ng-container matColumnDef="expenditure">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Expenditure</th>
                  <td mat-cell *matCellDef="let element;let i=index">

                    <mat-form-field class="example-full-width rightAlign">
                      <input matInput [(ngModel)]="element.expenditure" value="{{element.expenditure}}"
                        [ngModelOptions]="{standalone: true}" decimalLimitTwoOnly decimalPoint2>
                    </mat-form-field>
                  </td>

                </ng-container>
                <ng-container matColumnDef="recovery">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Recovery</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field class="example-full-width rightAlign">
                      <input matInput decimalLimitTwoOnly value="{{element.recovery}}" decimalLimitTwoOnly
                        decimalPoint2>
                    </mat-form-field>
                  </td>

                </ng-container>

                <ng-container matColumnDef="decuctionA">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Deduction -A </th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field class="example-full-width rightAlign">
                      <input matInput [(ngModel)]="element.decuctionA" value="{{element.decuctionA}}"
                        [ngModelOptions]="{standalone: true}" decimalLimitTwoOnly decimalPoint2>
                    </mat-form-field>
                  </td>

                </ng-container>


                <ng-container matColumnDef="decuctionB">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Deduction -B </th>
                  <td mat-cell *matCellDef="let element;let i=index">
                    <mat-form-field class="example-full-width rightAlign">
                      <input matInput [(ngModel)]="element.decuctionB" value="{{element.decuctionB}}"
                        [ngModelOptions]="{standalone: true}" decimalLimitTwoOnly decimalPoint2>
                    </mat-form-field>
                  </td>

                </ng-container>


                <!-- Header Section Of table -->
                <tr mat-header-row *matHeaderRowDef="deductionCol"></tr>
                <!-- Data Fetch From .TS File to table -->
                <tr mat-row *matRowDef="let row; let i = index;columns:deductionCol"></tr>

              </table>
              <!-- table end -->
            </div>

            <!--amount in rs -->
            <div class="rsClass"> (Amount in Rs.) </div>

            <!--expense summary  -->
            <div class="box box-primary">
              <div class="box-header"> Expense Summary</div>
              <div class="box-body">
                <div class="row">
                  <div class="col-sm-12 colPadding ml-2 " *ngFor="let value of grossTotl; let i = index;">
                    <div class="col-sm-4 labelCSS w-25">{{value.label}}<span class="floatRight">:</span></div>
                    <div class="col-sm-2"></div>
                    <div class="col-sm-6 paddingUnset">{{value.value}}</div>
                  </div>
                </div>
              </div>
            </div>


            <div class="box box-primary">

              <!--  if payment type dropdown is true-->
              <div *ngIf="paymentTypeDropDown">

                <!-- show e-payment header -->
                <div class="box-header" *ngIf="epayment"> e-payment Details</div>
                <div class="mat-elevation-z8"></div>

                <!-- show details if payment mode is e-payment -->
                <div class="box-body" *ngIf="epayment">
                  <div class="row " *ngIf="epayment">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select placeholder="Designation">

                          <mat-option>
                            <ngx-mat-select-search [formControl]="designationCtrl"
                              [placeholderLabel]="'Select Designation ...'"
                              [noEntriesFoundLabel]="'no matching Designation'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item  of designationList | filterSelectInput: designationCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <button type="button" mat-raised-button color="primary" title="Search"
                        (click)="chequeListDialog($event)">
                        <i class="material-icons" title="Search" aria-hidden="true">search</i>Search</button>
                    </div>
                  </div>

                  <!-- table start -->
                  <table mat-table [dataSource]="epaymentDataSource" matSort aria-describedby="ePaymentDetails"
                    class="mt-1">
                    <ng-container matColumnDef="payeeName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Payee Name</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.payeeName}}</td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>
                    <ng-container matColumnDef="accountNo">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Bank Account No.</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.accountNo}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="ifscCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">IFSC Code</th>
                      <td mat-cell *matCellDef="let element;let i=index"> {{element.ifscCode}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="amount">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">E-Payment Amount</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput decimalLimitTwoOnly [(ngModel)]="element.amount" decimalPoint2
                            [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{totalAmountEpay()| number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Action</th>
                      <td mat-cell *matCellDef="let element;let i=index">
                        <table class="iconTable" aria-describedby="actionBtn">
                          <tbody>
                            <tr>

                              <td width="30">
                                <i class="material-icons plus delete" aria-hidden="true" (click)="deletePaymentRow()">
                                  delete
                                </i>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                    </ng-container>

                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="epaymentColumn"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index;columns:epaymentColumn"></tr>
                    <!-- Footer Section Of table -->
                    <tr mat-footer-row *matFooterRowDef="epaymentColumn"></tr>
                  </table>
                  <!-- table end -->
                </div>

                <!-- show details if payment mode is e-payment -->
                <div class="mat-elevation-z8" *ngIf="checkTable">

                  <div class="box-header"> Cheque Details</div>

                  <div class="box-body">
                    <!-- table start -->
                    <table mat-table [dataSource]="checkDataSource" matSort aria-describedby="chequeDetails">
                      <ng-container matColumnDef="chequeType">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Cheque Type</th>
                        <td mat-cell *matCellDef="let element">

                          <mat-form-field class="full-width">
                            <mat-select required formControlName="chequeTy" (selectionChange)="changeDdoValue($event)">

                              <mat-option
                                *ngFor="let item  of chequeTypeChequeList | filterSelectInput: checkTypeTwoCtrl.value"
                                [value]="item.value" #ddovalue>
                                {{item.viewValue}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef>Total </td>
                      </ng-container>

                      <ng-container matColumnDef="partyName">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [ngStyle]="{'width':'25%'}">
                          Party Name</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field class="example-full-width">
                            <input matInput [ngModelOptions]="{standalone: true}" [(ngModel)]="ddoParty" placeholder=""
                              oninput="this.value = this.value.toUpperCase()" matTooltip="{{ddoParty}}" />
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>

                      <ng-container matColumnDef="address">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Address</th>
                        <td mat-cell *matCellDef="let element;let i=index">
                          <mat-form-field class="example-full-width">
                            <input matInput value="{{element.address}}">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                      </ng-container>
                      <ng-container matColumnDef="accountNo">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Account No</th>
                        <td mat-cell *matCellDef="let element;let i=index">
                          <mat-form-field class="example-full-width">
                            <input matInput value="{{element.accountNo}}" numbersOnly>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="chequeAmount">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [ngStyle]="{'width':'15%'}">
                          Cheque Amount (in Rs.)</th>
                        <td mat-cell *matCellDef="let element;let i=index">
                          <mat-form-field class="example-full-width" class="rightAlign">
                            <input matInput decimalLimitTwoOnly [(ngModel)]="element.chequeAmount"
                              value="{{element.chequeAmount}}" decimalPoint2 [ngModelOptions]="{standalone: true}"
                              required>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getTotalAmount() | number : '1.2-2'}}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Action</th>
                        <td mat-cell *matCellDef="let element;let i=index">
                          <table class="iconTable" aria-describedby="actionBtn">
                            <tbody>
                              <tr>
                                <td width="30">
                                  <i class="material-icons plus add" aria-hidden="true"
                                    *ngIf="(i == checkDataSource.data.length - 1)" (click)="addNewRow()">
                                    add
                                  </i>
                                </td>
                                <td width="30">
                                  <i class="material-icons plus delete" aria-hidden="true"
                                    *ngIf="checkDataSource.data.length > 1" (click)="deleteChequeDataRow(i)">
                                    delete
                                  </i>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>

                        <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                      </ng-container>

                      <!-- Header Section Of table -->
                      <tr mat-header-row *matHeaderRowDef="chequeColumn"></tr>
                      <!-- Data Fetch From .TS File to table -->
                      <tr mat-row *matRowDef="let row; let i = index;columns:chequeColumn"></tr>
                      <!-- Footer Section Of table -->
                      <tr mat-footer-row *matFooterRowDef="chequeColumn"></tr>
                    </table>
                    <!-- tabl end -->
                  </div>

                </div>

              </div>

              <!-- billRigister,billTransit,message fields  -->
              <div class="box-body">
                <div class="box-body" [ngClass]="[paymentTypeDropDown ? ' box box-primary' : '']">

                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <input matInput [(ngModel)]="billRigister" placeholder="Bill Register No"
                          [ngModelOptions]="{standalone: true}" required>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <input matInput [(ngModel)]="billTransit" placeholder="Bill Transit Register No"
                          [ngModelOptions]="{standalone: true}" required>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <input matInput [(ngModel)]="message" placeholder="Name of Messenger"
                          [ngModelOptions]="{standalone: true}" charactersOnly required>
                      </mat-form-field>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </form>

          <!--bill preparation buttons -->
          <div class="form-action-button">
            <button type="submit" mat-raised-button color="primary" (click)="goToNext()">
              Save & Proceed
              <i class="material-icons" aria-hidden="true" title="Next">
                chevron_right
              </i>
            </button>
          </div>
        </mat-tab>

        <!-- gtr-29 -->
        <mat-tab>
          <ng-template mat-tab-label>
            GTR-29 Details
          </ng-template>
          <form [formGroup]="formTwentyNine" (ngSubmit)="formsixtytwoformData()">
            <div class="box box-primary">

              <p class="box-note">Medical Bill </p>

              <!-- employee details -->
              <div class="box-header">Employee Details</div>
              <div class="box-body">

                <div class="row">
                  <div class="col-md-12 mat-elevation-z8 mt-2">
                    <!-- table start -->
                    <table mat-table [dataSource]="grantinbillDataSource" matSort aria-describedby="employeeDetails">

                      <ng-container matColumnDef="gpfAcno">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">G.P.F. No
                        </th>
                        <td class="rightAlign" mat-cell *matCellDef="let item">
                          <mat-form-field floatLabel="never">
                            <input matInput [value]="item.gpfAcno" [(ngModel)]="item.gpfAcno"
                              [ngModelOptions]="{standalone: true}">
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="bDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Date of Birth
                        </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field>
                            <input matInput [matDatepicker]="letterdatePicker" [value]='dateOfBirth' readonly
                              [max]="maxDate">
                            <mat-datepicker-toggle matSuffix [for]="letterdatePicker"></mat-datepicker-toggle>
                            <mat-datepicker #letterdatePicker></mat-datepicker>
                          </mat-form-field>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="joinDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Date of Joining </th>
                        <td mat-cell *matCellDef="let item">
                          <mat-form-field>
                            <input matInput [matDatepicker]="joindatePicker" [value]='dateOfJoining' readonly
                              [max]="maxDate">
                            <mat-datepicker-toggle matSuffix [for]="joindatePicker"></mat-datepicker-toggle>
                            <mat-datepicker #joindatePicker></mat-datepicker>
                          </mat-form-field>
                        </td>
                      </ng-container>


                      <ng-container matColumnDef="grantInAdd">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Progressive Amount
                          <span>*</span></th>
                        <td mat-cell *matCellDef="let item" class="rightAlign">
                          {{item.grantInAdd}}
                        </td>
                      </ng-container>

                      <!-- Header Section Of table -->
                      <tr mat-header-row *matHeaderRowDef="grantinbillColumn"></tr>
                      <!-- Data Fetch From .TS File to table -->
                      <tr mat-row *matRowDef="let row; let i = index;columns:grantinbillColumn"></tr>
                    </table>
                    <!-- table end -->

                  </div>


                </div>
              </div>
            </div>

            <!-- patient details -->
            <div class="box box-primary">
              <div class="box-header">Patient Details</div>
              <div class="box-body">
                <div class="row">
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="treatment" placeholder="Treatment Type " required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="treatmentCtrl"
                            [placeholderLabel]="'Find Treatment Type..'"
                            [noEntriesFoundLabel]="'no matching Treatment Type Found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let item of treatmentList | filterSelectInput: treatmentCtrl.value"
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="specialCase" placeholder="Special Case " required>
                        <mat-option *ngFor="let item  of specialCaseList| filterSelectInput: spedateCTrl.value"
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>

                    </mat-form-field>
                  </div>

                  <div class="col-sm-3" *ngIf="formTwentyNine.controls.specialCase.value === '1'">
                    <mat-form-field class="full-width">
                      <input matInput formControlName="sanctionOrderNo" placeholder="Sanction Order No">
                    </mat-form-field>
                  </div>

                  <div class="col-md-12 mat-elevation-z8 mt-2">

                    <div style="overflow-x: auto;">
                      <!-- table start -->
                      <table class="overflow-x-scroll" mat-table [dataSource]="pationDatailsDatasource" matSort
                        aria-describedby="periodOfTreatment">

                        <ng-container matColumnDef="relation">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2">
                            Relationship with Govt. Servant </th>
                          <td mat-cell *matCellDef="let element">

                            <mat-form-field class="full-width">
                              <mat-select formControlName="relation">
                                <mat-option
                                  *ngFor="let item of relationshipList | filterSelectInput: relationCtrl.value"
                                  [value]="item.value" (click)="selectType(item.value)">
                                  {{item.viewValue}}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="relation1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>

                        <ng-container matColumnDef="namePAtiont">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Name of
                            Patient <span> * </span> </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never">
                              <input matInput type="text" formControlName="nameofPatient">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="namePAtiont1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>



                        <ng-container matColumnDef="agePationts">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Age of
                            Patient </th>
                          <td mat-cell *matCellDef="let item">

                            <mat-form-field floatLabel="never">
                              <input matInput type="text" formControlName="ageOfPatients">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="agePationts1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>






                        <ng-container matColumnDef="incument">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Name of
                            Incumbent <span> * </span> </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never">
                              <input matInput [value]="item.incument" [(ngModel)]="item.incument"
                                [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="incument1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>


                        <ng-container matColumnDef="trestmentFrom">

                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row"> From </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field>
                              <input matInput [matDatepicker]="treFrom" [max]="maxDate">
                              <mat-datepicker-toggle matSuffix [for]="treFrom"></mat-datepicker-toggle>
                              <mat-datepicker #treFrom></mat-datepicker>
                            </mat-form-field>
                          </td>
                        </ng-container>


                        <ng-container matColumnDef="trestmentTo">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row"> To </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field>
                              <input matInput [matDatepicker]="treto" [max]="maxDate">
                              <mat-datepicker-toggle matSuffix [for]="treto"></mat-datepicker-toggle>
                              <mat-datepicker #treto></mat-datepicker>
                            </mat-form-field>
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="Treatmenmt">
                          <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">Period of Treatment
                            <span>
                              * </span>
                          </th>
                        </ng-container>


                        <ng-container matColumnDef="disName">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Disease
                            Name</th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never">
                              <input matInput [value]="item.disName" [(ngModel)]="item.disName"
                                [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="disName1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>


                        <ng-container matColumnDef="docName">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Doctor
                            Name</th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never">
                              <input matInput [value]="item.docName" [(ngModel)]="item.docName"
                                [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="docName1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>

                        <ng-container matColumnDef="claimAmt">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Amount
                            of
                            Claim<span> * </span> </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never" class="rightAlign">
                              <input matInput [value]="item.claimAmt" [(ngModel)]="item.claimAmt" decimalPoint2
                                decimalLimitTwoOnly [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="claimAmt1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>



                        <ng-container matColumnDef="remarks">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" [attr.rowspan]="2"> Remarks
                          </th>
                          <td mat-cell *matCellDef="let item">
                            <mat-form-field floatLabel="never">
                              <textarea rows="2" matInput [value]="item.remarks" [(ngModel)]="item.remarks"
                                [ngModelOptions]="{standalone: true}"></textarea>
                            </mat-form-field>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="remarks1">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>


                        <ng-container matColumnDef="action">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row" class="actionwidthtwo"
                            [attr.rowspan]="2">Action</th>
                          <td mat-cell *matCellDef="let element;let i=index">
                            <table class="iconTable" aria-describedby="actionBtn" class="action-btn-i centerAlign">
                              <tbody>
                                <tr>
                                  <td width="30">
                                    <i class="material-icons plus add" aria-hidden="true"
                                      *ngIf="(i == pationDatailsDatasource.data.length - 1)"
                                      (click)="addPationtsDetails()">
                                      add
                                    </i>
                                  </td>


                                  <td width="30">
                                    <i class="material-icons plus delete" aria-hidden="true"
                                      *ngIf="pationDatailsDatasource.data.length > 1" (click)="deletePatientDetails(i)">
                                      delete
                                    </i>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="action1" class="actionwidthtwo">
                          <th mat-header-cell *matHeaderCellDef scope="row"></th>
                        </ng-container>

                        <!-- Custom Header Section Of table -->
                        <tr mat-header-row *matHeaderRowDef="[
                      'relation1',
                        'namePAtiont1',
                        'agePationts1',
                        'incument1',
                        'Treatmenmt',
                        'disName1',
                        'docName1',
                        'claimAmt1',
                        'remarks1',
                        'action1'
                      ]">
                        </tr>
                        <!-- Header Section Of table -->
                        <tr mat-header-row *matHeaderRowDef="pationtDetailsColumn"></tr>
                        <!-- Data Fetch From .TS File to table -->
                        <tr mat-row *matRowDef="let row; let i = index;columns:pationtDetailsColumn"></tr>
                      </table>
                    </div>

                    <!-- table end -->


                    <div class="col-md-12">
                      <div class="row">

                        <!-- table start -->
                        <table class="detailCheckTable">
                          <tbody>
                            <tr>
                              <td class="w-15">
                                <label>Gross Total Rs.</label>
                              </td>
                              <td class="w-10 disabled">

                                <input class="BUnderLine text-right" matInput value="1200.00" readonly>

                              </td>
                            </tr>

                            <tr>
                              <td class="w-15">
                                <label>Net Total</label>
                              </td>
                              <td class="w-10 disabled">

                                <input class="BUnderLine text-right" matInput value="1200.00" readonly>

                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Bill Date</label>
                              </td>
                              <td class="w-10">

                                <mat-form-field class="readonly">
                                  <input class="BUnderLine text-right" matInput [matDatepicker]="picker1"
                                    [formControl]="date" readonly [max]="maxDate">
                                  <mat-datepicker #picker1></mat-datepicker>
                                </mat-form-field>
                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Bill Sent Date</label>
                              </td>
                              <td class="w-10">
                                <input class="BUnderLine text-right" matInput>
                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Passed For Rs.</label>
                              </td>
                              <td class="w-10">

                                <input class="BUnderLine text-right" matInput value="1200.00">

                              </td>
                            </tr>
                            <tr>
                              <td class="w-15">
                                <label>Passed For Rs.(In Words)</label>
                              </td>
                              <td class="w-10 disabled">
                                <input class="BUnderLine text-right" matInput value="One Thousand and Two Hundred Only"
                                  readonly>
                              </td>
                            </tr>

                          </tbody>
                        </table>
                        <!-- table end -->

                        <div class="checkllist mt-4 col-md-12 no-padding">
                          <p>
                            <mat-checkbox>Certified that I have satisfied myself that the amount included in bills drawn
                              1/2 months previous to this data with the exception of those detailed below (of which
                              total amount has been refunded by deduction from this bill) have been disbursed to the
                              Govt. servant there in named and their receipts taken in the office copy of the bill or in
                              a separate acquaintance roll</mat-checkbox>
                          </p>

                          <p>
                            <mat-checkbox>Details of Medical charges refunded(This intimation is not required to be
                              filled in case of claim of Central Officer). </mat-checkbox>
                          </p>

                          <p>
                            <mat-checkbox>Applicant is taking Medical Allowance. </mat-checkbox>
                          </p>
                        </div>


                        <div class="checkllist mt-4 col-md-12 no-padding">
                          <p class="mb-0"> <span>Please issue Cheque in favour of &nbsp;&nbsp;</span>:<u
                              class="font-weight-bold">ABC Employee
                            </u> &nbsp; of Amount Rs. <b>1200.00 </b></p>
                          <p class="mb-0 printLink">
                            <span (click)="gotoCheckList()" class="searchIcon "> Print Cheque List</span>
                          </p>
                        </div>

                      </div>

                    </div>


                  </div>


                </div>
              </div>
            </div>

          </form>
        </mat-tab>

        <!-- Attachments-->
        <mat-tab label="Attachments">
          <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>
        </mat-tab>

      </mat-tab-group>

      <!-- form action button -->
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary" title="Save As Draft">
          <i class="material-icons" title="Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>
        <button mat-raised-button type="submit" class="green" (click)="directiveObject.workflowDetails()"
          title="Submit">
          <i class="material-icons" title="Submit" aria-hidden="true">done</i> Submit</button>
        <button type="reset" mat-raised-button color="accent" title="Reset" (click)="resetForm()">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>
        <button type="button" mat-raised-button color="warn" title="Listing" [routerLink]="['']"
          routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>

        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>

        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>
      </div>
    </div>

  </div>
</div>