<div class="box box-primary">

  <!-- heading section -->
  <div class="heading-section ng-star-inserted">
    <div>Cancel Cheque</div>
    <div class="font-heading rightAlign"><strong>Total Cheque Amount:</strong>1500.00</div>
  </div>

  <!-- form -->
  <form [formGroup]="cancelChequeForm">
    <div class="box-body">
      <div class="box box-primary">
        <!-- cheque preparation -->
        <div class="box-header"> Cheque Prepration </div>
        <div class="box-body">

          <!-- table start -->
          <table mat-table [dataSource]="newDataSource" class="mat-elevation-z8" aria-describedby="chequePrepraion">

            <!-- sr no -->
            <ng-container matColumnDef="srNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Select</th>
              <td mat-cell *matCellDef="let element; let i= index" class="centerAlign">
                <mat-checkbox (click)="billDetails()"></mat-checkbox>
              </td>
            </ng-container>

            <!-- cheque type -->
            <ng-container matColumnDef="chequeType">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Type
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.chequeType}}
              </td>
            </ng-container>

            <!-- in favour of -->
            <ng-container matColumnDef="inFavourof">
              <th mat-header-cell *matHeaderCellDef scope="row"> In Favour Of</th>
              <td mat-cell *matCellDef="let element">
                {{element.inFavourof}}
              </td>
            </ng-container>

            <!-- cheque no -->
            <ng-container matColumnDef="chequeNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque No.
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.chequeNo}}
              </td>
            </ng-container>

            <!-- account no -->
            <ng-container matColumnDef="accountNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Account NO.
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.accountNo}}
              </td>
            </ng-container>

            <!-- cheque amount -->
            <ng-container matColumnDef="chequeAmount">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Amount</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.chequeAmount}}
              </td>
            </ng-container>

            <!-- action -->
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row"> Action</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                    aria-hidden="true" title="delete">delete_forever</i></a>
              </td>
            </ng-container>

            <!-- Header Section Of table -->
            <tr mat-header-row *matHeaderRowDef="newDisplayedColumns"></tr>
            <!-- Data Fetch From .TS File to table -->
            <tr mat-row *matRowDef="let row; columns: newDisplayedColumns;"></tr>

          </table>
          <!-- table end -->
        </div>
      </div>

      <!-- reason of cancellation -->
      <div class="box box-primary">
        <div class="box-header"> Reason Of Cancelation </div>
        <div class="box-body">
          <div class="row">

            <!-- reason name -->
            <div class="col-sm-4">
              <mat-form-field>
                <mat-select name="reasonName" formControlName="reasonName" (selectionChange)='onReason($event)'
                  placeholder="Reason">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="reasonNameCtrl" [placeholderLabel]="'Select Reason ...'"
                      [noEntriesFoundLabel]="'no matching Tange type found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let item of reasonNameList |
                    filterSelectInput : reasonNameCtrl.value : 'viewValue'" [value]="item.value">
                    {{item.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <!-- if others -->
            <div class="col-sm-4" *ngIf='isOthers'>
              <mat-form-field class="full-width">
                <textarea matInput class="textarea" name="reasonOfCancelation" formControlName="reasonOfCancelation"
                  placeholder="Reason Of Cancelation" required>
                </textarea>
              </mat-form-field>
            </div>

          </div>
        </div>
      </div>

      <!-- cheque information -->
      <div class="box box-primary">
        <div class="box-header"> Cheque Information </div>
        <div class="box-body">
          <!-- table start -->
          <table mat-table [dataSource]="chequeDataSource" class="mat-elevation-z8" aria-describedby="chequeInfo">

            <!-- sr no -->
            <ng-container matColumnDef="srNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Select</th>
              <td mat-cell *matCellDef="let element; let i= index" class="centerAlign">
                <mat-checkbox (click)="billDetails()"></mat-checkbox>
              </td>
            </ng-container>

            <!-- cheque type -->
            <ng-container matColumnDef="chequeType">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Type
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field>
                  <mat-select name="chequeTypes" formControlName="chequeTypes">
                    <mat-option *ngFor="let item of chequeTypeList" [value]="item.value">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </td>
            </ng-container>

            <!-- in favour of -->
            <ng-container matColumnDef="inFavourof">
              <th mat-header-cell *matHeaderCellDef scope="row"> In Favour Of</th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never">
                  <input matInput [value]="element.inFavourof" [(ngModel)]="element.inFavourof"
                    [ngModelOptions]="{standalone: true}" required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>

            <!-- account no -->
            <ng-container matColumnDef="accountNo">
              <th mat-header-cell *matHeaderCellDef scope="row"> Account NO.
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never">
                  <input matInput [value]="element.accountNo" [(ngModel)]="element.accountNo"
                    [ngModelOptions]="{standalone: true}" numbersOnly required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>

            <!-- cheque amount -->
            <ng-container matColumnDef="chequeAmount">
              <th mat-header-cell *matHeaderCellDef scope="row"> Cheque Amount</th>
              <td mat-cell *matCellDef="let element">
                <mat-form-field floatLabel="never" class="rightAlign">
                  <input matInput [value]="element.chequeAmount" [(ngModel)]="element.chequeAmount"
                    [ngModelOptions]="{standalone: true}" numbersOnly required [disabled]='toggleButton'>
                </mat-form-field>
              </td>
            </ng-container>

            <!-- action -->
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row"> Action</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                    aria-hidden="true" title="delete">delete_forever</i></a>
              </td>
            </ng-container>

            <!-- Header Section Of table -->
            <tr mat-header-row *matHeaderRowDef="chequeDisplayedColumns"></tr>
            <!-- Data Fetch From .TS File to table -->
            <tr mat-row *matRowDef="let row; columns: chequeDisplayedColumns;"></tr>

          </table>
          <!-- table end -->
        </div>
      </div>

      <!-- action buttons -->
      <div class="form-action-button">

        <button mat-raised-button type="submit" class="green" title="Submit">
          <i class="material-icons" aria-hidden="true">
            done
          </i> Submit
        </button>

        <button type="button" mat-raised-button color="warn" title="Discard">
          <i class="material-icons" aria-hidden="true">
            restore
          </i>
          Discard
        </button>

        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose" title="Close">
          <i class="material-icons" aria-hidden="true">
            close
          </i>
          Close
        </button>

      </div>
      <!-- End action buttons -->

    </div>
  </form>
</div>