<div class="container">
    <div class="form-wrapper">
      <div class="heading-section ng-star-inserted">
        <div>Challan Detail Posting</div>
  
        <div class="font-heading"><b>Reference No:</b> 19-20/EA/STCDP/001</div>
        <div class="font-heading"><b>Reference Date:</b> {{ initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
      </div>
      <!-- Navigations Starts -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item"><a href="#">EA</a></li>
          <li class="breadcrumb-item active" aria-current="page">Challan Detail Posting</li>
        </ol>
      </nav>
      <!-- Navigations Ends-->
      <form [formGroup]="challanDetailPostingForm">
        <div class="box-body">
          <div class="row">
            <div class="col-sm-4">
              <mat-form-field class="full-width">
                <input matInput type="text" placeholder="Branch-Wise Major-HeadWise Total (In RS.)" numbersOnly
                  formControlName="bwMajorHeadTotal" readonly>
              </mat-form-field>
            </div>
  
            <div class="col-sm-4">
              <mat-form-field class="full-width">
                <input matInput type="text" placeholder="Total" numbersOnly formControlName="total" readonly>
              </mat-form-field>
            </div>
  
            <div class="col-sm-4">
              <mat-form-field class="full-width">
                <input matInput type="text" placeholder="Total By User" numbersOnly formControlName="totalByUser"
                  readonly>
              </mat-form-field>
            </div>
          </div>
        </div>
        <!-- Challan Detail Posting starts -->
        <div class="panel-group">
          <div class="box box-primary">
            <div class="box-header">Challan Detail Posting</div>
            <div class="box-body">
              <div class="row">
                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Receipt No" numbersOnly formControlName="receiptNo">
                  </mat-form-field>
                </div>
                <div class="col-sm-3">
                  <mat-form-field>
                    <input matInput formControlName="receivedByBankDate" [max]='maxDate'
                      [matDatepicker]="receivedByBankDate" placeholder="Received By Bank Date" readonly required>
                    <mat-datepicker-toggle matSuffix [for]="receivedByBankDate">
                    </mat-datepicker-toggle>
                    <mat-datepicker #receivedByBankDate></mat-datepicker>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.receivedByBankDate.touched || (challanDetailPostingForm.controls.receivedByBankDate.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.receivedByBankDate.errors?.required">
                        {{errorMessages.RECEIVED_BY_BANK_DATE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field>
                    <input matInput formControlName="scrollDate" [matDatepicker]="scrollDate" placeholder="Scroll Date"
                      [max]='maxDate' readonly required>
                    <mat-datepicker-toggle matSuffix [for]="scrollDate">
                    </mat-datepicker-toggle>
                    <mat-datepicker #scrollDate></mat-datepicker>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.scrollDate.touched || (challanDetailPostingForm.controls.scrollDate.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.scrollDate.errors?.required">
                        {{errorMessages.SCROLL_DATE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field>
                    <mat-select name='challanType' formControlName='challanType' placeholder='Challan type' required>
                      <mat-option>
                        <ngx-mat-select-search [formControl]='challanTypeCtrl'
                          [placeholderLabel]="'Select Challan Type ...'"
                          [noEntriesFoundLabel]="'no matching challan type found'">
                        </ngx-mat-select-search>
                      </mat-option>
  
                      <mat-option
                        *ngFor="let challan of challanType_list | filterSelectInput : challanTypeCtrl.value : 'viewValue'"
                        [value]="challan.value" matTooltip="{{challan.viewValue}}" (click)="selectChallan(challan.value)">
  
                        {{challan.viewValue}}
                      </mat-option>
                    </mat-select>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.challanType.touched || (challanDetailPostingForm.controls.challanType.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.challanType.errors?.required">
                        {{errorMessages.CHALLAN_TYPE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <input #inputBranchCode matInput type="text" placeholder="Branch Code" maxlength="11" numbersOnly
                      (blur)='branchCode(inputBranchCode.value)' formControlName="branchCode" required>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.branchCode.touched || (challanDetailPostingForm.controls.branchCode.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.branchCode.errors?.required">
                        {{errorMessages.BRANCH_CODE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field>
                    <mat-select name='bank' formControlName='bank' placeholder='Bank'
                      (selectionChange)="bankChange($event)" required>
                      <mat-option>
                        <ngx-mat-select-search [formControl]='bankCtrl' [placeholderLabel]="'Select Bank ...'"
                          [noEntriesFoundLabel]="'no matching Bank found'">
                        </ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of bank_list | filterSelectInput : bankCtrl.value : 'viewValue'"
                        [value]="item.value" matTooltip="{{item.viewValue}}">
                        {{item.viewValue}}
                      </mat-option>
                    </mat-select>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.bank.touched || (challanDetailPostingForm.controls.bank.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.bank.errors?.required">
                        {{errorMessages.BANK}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Branch" formControlName="branch" readonly required>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.branch.touched || (challanDetailPostingForm.controls.branch.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.branch.errors?.required">
                        {{errorMessages.BRANCH}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field>
                    <mat-select name='demand' formControlName='demand' placeholder='Demand' disabled required>
                      <mat-option>
                        <ngx-mat-select-search [formControl]='demandCtrl' [placeholderLabel]="'Select Demand Type ...'"
                          [noEntriesFoundLabel]="'no matching Demand type found'">
                        </ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let demand of demand_list | filterSelectInput : demandCtrl.value : 'viewValue'"
                        [value]="demand.value" matTooltip="{{demand.viewValue}}">
                        {{demand.viewValue}}
                      </mat-option>
                    </mat-select>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.demand.touched || (challanDetailPostingForm.controls.demand.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.demand.errors?.required">
                        {{errorMessages.DEMAND}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Major Head" formControlName="majorHead" required
                      maxlength="4" numbersOnly>
                  </mat-form-field>
                  <div class="error-wrapper"
                    *ngIf="challanDetailPostingForm.controls.majorHead.touched || (challanDetailPostingForm.controls.majorHead.errors && isSubmitted)">
                    <mat-error *ngIf="challanDetailPostingForm.controls.majorHead.errors?.required">
                      {{errorMessages.MAJOR_HEAD}}
                    </mat-error>
                  </div>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedLc">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="LC A/c Code" formControlName="lcCode" required
                      (change)="enterLcDescription()">
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.lcCode.touched || (challanDetailPostingForm.controls.lcCode.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.lcCode.errors?.required">
                        {{errorMessages.LC_CODE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="!isSelectedLc && !isSelectedMajorHead && !isSeletedOther &&  !isSelectedProfessional && !isSelectedRto  && !isSelectedSalesTax && !isSelectedStamp && !isSelectedVat && !isSelectedNps">
                  <mat-form-field class="full-width" >
                    <input matInput type="text" placeholder="Party Name" formControlName="partyName">
                  </mat-form-field>
                </div>
                <div class="col-sm-3" *ngIf="isSelectedLc">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="LC A/C Description" formControlName="lcDesc" required>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.lcDesc.touched || (challanDetailPostingForm.controls.lcDesc.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.lcDesc.errors?.required">
                        {{errorMessages.LC_DESCRIPTION}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedLc">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameLc">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Particulars" formControlName="particulars">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Designation" formControlName="desi">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="A/c No." formControlName="acNo">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Deduction Month" formControlName="deductMonth" required>
                  </mat-form-field>
                  <div class="error-wrapper"
                    *ngIf="challanDetailPostingForm.controls.deductMonth.touched || (challanDetailPostingForm.controls.deductMonth.errors && isSubmitted)">
                    <mat-error *ngIf="challanDetailPostingForm.controls.deductMonth.errors?.required">
                      {{errorMessages.DEDUCT_MONTH}}
                    </mat-error>
                  </div>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="DDO Name" formControlName="ddoName">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedNps">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Schedule No: " formControlName="schdNo"
                      (change)="enterScheduleAmount()" required>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedNps">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Schedule Amount" formControlName="schdAmt" required>
                  </mat-form-field>
                  <div class="error-wrapper"
                    *ngIf="challanDetailPostingForm.controls.schdAmt.touched || (challanDetailPostingForm.controls.schdAmt.errors && isSubmitted)">
                    <mat-error *ngIf="challanDetailPostingForm.controls.schdAmt.errors?.required">
                      {{errorMessages.AMOUNT}}
                    </mat-error>
                  </div>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedSalesTax">
                  <mat-form-field>
                    <input matInput formControlName="fromDate" [matDatepicker]="fromDate" placeholder="From Period"
                      required>
                    <mat-datepicker-toggle matSuffix [for]="fromDate">
                    </mat-datepicker-toggle>
                    <mat-datepicker #fromDate></mat-datepicker>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.fromDate.touched || (challanDetailPostingForm.controls.fromDate.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.fromDate.errors?.required">
                        {{errorMessages.DATE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedSalesTax">
                  <mat-form-field>
                    <input matInput formControlName="toDate" [matDatepicker]="toDate" placeholder="To Period" required>
                    <mat-datepicker-toggle matSuffix [for]="toDate">
                    </mat-datepicker-toggle>
                    <mat-datepicker #toDate></mat-datepicker>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.toDate.touched || (challanDetailPostingForm.controls.toDate.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.toDate.errors?.required">
                        {{errorMessages.DATE}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedSalesTax">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Sales Tax No" maxLength="11" formControlName="salesTax"
                      (change)="enterPartyName()">
                  </mat-form-field>
                </div>
  
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Enfacement No." formControlName="enfacNo">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Bank Refrence No." formControlName="bankNo">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field>
                    <mat-select name='vendor' formControlName='vendor' placeholder='Vendor'>
                      <mat-option>
                        <ngx-mat-select-search [formControl]='vendorCtrl' [placeholderLabel]="'Select Vendor ...'"
                          [noEntriesFoundLabel]="'no matching Vendor found'">
                        </ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of vendor_list | filterSelectInput : vendorCtrl.value : 'viewValue'"
                        [value]="item.value" matTooltip="{{item.viewValue}}">
                        {{item.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Vendor Code" formControlName="venderCode">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Vendor Name" formControlName="venderName">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Register No." formControlName="regiNo">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Stamp Gross Amount" formControlName="grossAmount">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Stamp Discount Amount" formControlName="discountAmount">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedVat">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Tin No" formControlName="tinNo">
                  </mat-form-field>
                </div>
  
                
  
              
  
                <div class="col-sm-3" *ngIf="isSelectedNps">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameNps">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedMajorHead">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameMajorHead">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSeletedOther">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameOthers">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedProfessional">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameProfessionalTax">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedRto">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameRtoTax">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedSalesTax">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameSalesTax">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3" *ngIf="isSelectedStamp">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameStamp">
                  </mat-form-field>
                </div>
  
                <div class="col-sm-3"*ngIf="isSelectedVat">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Party Name" formControlName="partyNameVatTax">
                  </mat-form-field>
                </div>
  
  
                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <input matInput type="text" placeholder="Challan Value" maxlength="16" numbersOnly
                      formControlName="challanValue" required>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.challanValue.touched || (challanDetailPostingForm.controls.challanValue.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.challanValue.errors?.required">
                        {{errorMessages.CHALLAN_DETAIL}}
                      </mat-error>
                    </div>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Challan Detail Posting ends -->
        <!-- Insert Head Detail starts -->
        <div class="panel-group">
          <div class="box box-primary">
            <div class="box-header">Insert Head Detail</div>
            <div class="box-body">
              <!-- Table List Starts-->
              <table mat-table [dataSource]="insertDataSource" class="mat-elevation-z8 "
                aria-describedby="challanDetailPosting">
                <ng-container matColumnDef="srNo">
                  <th mat-header-cell *matHeaderCellDef scope="row"> Sr No.</th>
                  <td mat-cell *matCellDef="let element; let i = index" class="centerAlign">{{i + 1}} </td>
                  <td mat-footer-cell *matFooterCellDef>Total Amount </td>
                </ng-container>
  
                <ng-container matColumnDef="insertSubMajorheads">
                  <th mat-header-cell *matHeaderCellDef scope="row">Sub-Major Head </th>
                  <td mat-cell *matCellDef="let element" class="centerAlign">
                    <mat-form-field>
                      <mat-select name="mlaName" formControlName="submajorHead" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="submajorHeadCtrl"
                            [placeholderLabel]="'Select Notification No. ...'"
                            [noEntriesFoundLabel]="'no matching Tange type found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option
                          *ngFor="let nm of subMajorHead_list | filterSelectInput : submajorHeadCtrl.value : 'viewValue'"
                          [value]="nm.value" matTooltip="{{nm.viewValue}}">
                          {{nm.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="challanDetailPostingForm.controls.submajorHead.touched || (challanDetailPostingForm.controls.submajorHead.errors && isSubmitted)">
                        <mat-error *ngIf="challanDetailPostingForm.controls.submajorHead.errors?.required">
                          {{errorMessages.SUB_MAJOR_HEAD}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
  
                <ng-container matColumnDef="insertMinorheads">
                  <th mat-header-cell *matHeaderCellDef scope="row">Minor Head </th>
                  <td mat-cell *matCellDef="let element" class="centerAlign">
                    <div class="dropdown-status">
                      <mat-form-field>
                        <mat-select formControlName="insertMinorhead" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="insertMinorheadCtrl"
                              [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of minorHead_list |
                            filterSelectInput: insertMinorheadCtrl.value : 'viewValue'" [value]="item.value"
                            matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="challanDetailPostingForm.controls.insertMinorhead.touched || (challanDetailPostingForm.controls.insertMinorhead.errors && isSubmitted)">
                          <mat-error *ngIf="challanDetailPostingForm.controls.insertMinorhead.errors?.required">
                            {{errorMessages.MINOR_HEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                  </td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
  
                <ng-container matColumnDef="insertSubHeads">
                  <th mat-header-cell *matHeaderCellDef scope="row">Sub Head </th>
                  <td mat-cell *matCellDef="let element" class="centerAlign">
                    <div class="dropdown-status">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="insertSubHead" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="insertSubHeadCtrl"
                              [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of subHead_list |
                            filterSelectInput: insertSubHeadCtrl.value : 'viewValue'" [value]="item.value"
                            matTooltip="{{item.viewValue}}">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="challanDetailPostingForm.controls.insertSubHead.touched || (challanDetailPostingForm.controls.insertSubHead.errors && isSubmitted)">
                          <mat-error *ngIf="challanDetailPostingForm.controls.insertSubHead.errors?.required">
                            {{errorMessages.SUB_HEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                  </td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
  
                <ng-container matColumnDef="insertAmount">
                  <th mat-header-cell *matHeaderCellDef scope="row">Amount (Rs)</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput [(ngModel)]="element.insertAmount" (keypress)="decimalKeyPress($event)"
                        value="{{element.insertAmount}}" (blur)="decimalPoint(element,'insertAmount')"
                        [ngModelOptions]="{standalone: true}" type="text">
                    </mat-form-field>
                    <div class="error-wrapper"
                      *ngIf="challanDetailPostingForm.controls.insertAmount.touched || (challanDetailPostingForm.controls.insertAmount.errors && isSubmitted)">
                      <mat-error *ngIf="challanDetailPostingForm.controls.insertAmount.errors?.required">
                        {{errorMessages.AMOUNT}}
                      </mat-error>
                    </div>
                  </td>
                  <td mat-footer-cell *matFooterCellDef class="rightAlign">
                    {{totalExpeAmount() | number:'1.2-2'}}</td>
                </ng-container>
  
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef [ngStyle]="{'width':'4%'}" scope="row">Action</th>
                  <td mat-cell *matCellDef="let element; let i=index">
                    <table class="iconTable" aria-describedby="actionBtn">
                      <tbody>
                        <tr>
                          <td width="30" (click)="add();">
                            <i class="material-icons plus add" aria-hidden="true"
                              *ngIf="(i==insertDataSource.data.length-1)">
                              add
                            </i>
                          </td>
                          <td width="30">
                            <i class="material-icons plus delete" aria-hidden="true" (click)="delete(i)" *ngIf="(i>=1)">
                              delete
                            </i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <!-- Display Table Columns -->
                <tr mat-header-row *matHeaderRowDef="insertDisplayedColumns"></tr>
                <!-- Data Fetch From .TS File to table -->
                <tr mat-row *matRowDef="let row; columns: insertDisplayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="insertDisplayedColumns"></tr>
              </table>
              <!-- Table List Ends -->
            </div>
          </div>
        </div>
        <!-- Insert Head Detail ends -->
        <!-- Common Action Button Starts -->
        <div class="form-action-button">
          <button type="submit" mat-raised-button color="primary" (click)='onSave()'>
            <i class="material-icons" aria-hidden="true" title="Save">
              save
            </i>
            Save
          </button>
          <button type="reset" mat-raised-button color="accent">
            <i aria-hidden="true" class="material-icons">restore</i> Scan QR Code </button>
  
          <button type="button" mat-raised-button class="btnClose" (click)="onClose()">
            <i class="material-icons" aria-hidden="true" title="close">
              close
            </i>
            Close
          </button>
        </div>
        <!-- Common Action Button Ends-->
      </form>
    </div>
  </div>