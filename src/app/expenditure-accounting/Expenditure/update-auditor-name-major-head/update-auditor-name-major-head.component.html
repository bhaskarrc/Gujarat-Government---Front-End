<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Update Auditor Name And Major Head</div>
      <div class="font-heading"><b>Reference No:</b> 19-20/EA/UAN/001</div>
      <div class="font-heading"><b>Reference Date:</b> {{ initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <!-- Navigations Starts -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item " aria-current="page">EA</li>
        <li class="breadcrumb-item active" aria-current="page">Update Auditor Name And Major Head </li>
      </ol>
    </nav>
    <!-- Navigations Ends-->
    <br>
    <div class="panel-group">
      <form [formGroup]="updateAuditorMajorForm" (ngSubmit)="updateAuditorMajorFormData()">
        <!-- Audit Configuration search starts -->
        <div class="box box-primary">
          <div class="box-header">Audit Configuration</div>
          <div class="box-body">
            <div class="row">
              <div class="col-sm-3">
                <mat-form-field>
                  <mat-select name="autiors" formControlName="autiorctrlk" placeholder="Auditor  Names ">
                    <mat-option *ngFor="let autior of autior_list" [value]="autior.value">
                      {{autior.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="form-action-button">
                <button mat-raised-button (click)="addBrowse()" color="primary"> + Add Auditor </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Audit Configuration search ends -->
        <!--  Audit Mapped starts -->
        <div class="box box-primary">
          <div class="box-header">Audit Mapped </div>
          <div class="box-body">

            <!-- Table List Starts-->
            <div class="mat-elevation-z8  mt-2">
              <table mat-table [dataSource]="newdataSource" class="mat-elevation-z8 " aria-describedby="auditorMapping">
                <ng-container matColumnDef="select">
                  <th mat-header-cell *matHeaderCellDef scope="row">
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                    </mat-checkbox>
                  </th>
                  <td mat-cell *matCellDef="let row" class="centerAlign">
                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                      [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                    </mat-checkbox>
                  </td>
                </ng-container>



                <ng-container matColumnDef="mhead">
                  <th mat-header-cell *matHeaderCellDef scope="row"> Major Head</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field floatLabel="never" class="">
                      <input matInput [value]="element.mhead" [(ngModel)]="element.mhead"
                        [ngModelOptions]="{standalone: true}" required [disabled]='toggleButton'>
                    </mat-form-field>
                  </td>
                </ng-container>


                <ng-container matColumnDef="section_s">
                  <th mat-header-cell *matHeaderCellDef scope="row">Section</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field>
                      <mat-select name="sections" formControlName="sections" [disabled]='toggleButton'>
                        <mat-option *ngFor="let section of section_list" [value]="section.value">
                          {{section.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </ng-container>

                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef scope="row"> Action </th>
                  <td mat-cell *matCellDef="let element;let i = index;" class="action-btn-i centerAlign">

                    <a> <i class="material-icons plus edit-icon" aria-hidden="true" title="Edit">
                        edit
                      </i></a>
                    <a><i class="material-icons plus delete" aria-hidden="true" (click)="deleteEntry(i)" title="Delete">
                        delete
                      </i></a>

                  </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="newdisplayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: newdisplayedColumns;"></tr>
              </table>
            </div>
            <!-- Table List Ends -->

            <!-- on click Audit Mapped -Table list Starts -->
            <div class="mat-elevation-z8  mt-2" *ngIf="isSearch">
              <br>
              <table mat-table [dataSource]="insertataSource" class="mat-elevation-z8 "
                aria-describedby="auditorMapped">

                <ng-container matColumnDef="select">
                  <th mat-header-cell *matHeaderCellDef scope="row">
                    <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                    </mat-checkbox>
                  </th>
                  <td mat-cell *matCellDef="let row" class="centerAlign">
                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                      [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                    </mat-checkbox>
                  </td>
                </ng-container>



                <ng-container matColumnDef="mhead">
                  <th mat-header-cell *matHeaderCellDef scope="row"> Major Head</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field>
                      <mat-select name="mhead" formControlName="mhead">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="majorheadCtrl"
                            [placeholderLabel]="'Select Major Headr...'"
                            [noEntriesFoundLabel]="'no matching Tange type found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option
                          *ngFor="let major of major_list | filterSelectInput : majorheadCtrl.value : 'viewValue'"
                          [value]="major.value">
                          {{major.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </ng-container>



                <ng-container matColumnDef="section_s">
                  <th mat-header-cell *matHeaderCellDef scope="row">Section</th>
                  <td mat-cell *matCellDef="let element">
                    <mat-form-field>
                      <mat-select name="sectionns" formControlName="sectionns">
                        <mat-option *ngFor="let section of section_list" [value]="section.value">
                          {{section.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </ng-container>

                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef scope="row"> Action </th>
                  <td mat-cell *matCellDef="let element;let i = index;" class="action-btn-i centerAlign">

                    <a> <i class="material-icons plus view-icon" aria-hidden="true" title="Save">
                        save
                      </i></a>


                  </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="insertisplayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: insertisplayedColumns;"></tr>
              </table>
            </div>
            <!-- on click Audit Mapped -Table list ends -->

          </div>
          <!-- Common Action Button Starts -->
          <div class="form-action-button">
            <button mat-raised-button type="button" class="green">
              <i class="material-icons" aria-hidden="true">
                done
              </i> Submit</button>

            <button type="button" mat-raised-button class="btnClose">
              <i class="material-icons" aria-hidden="true" title="close">
                close
              </i>
              Close
            </button>
          </div>
          <!-- Common Action Button Ends-->
        </div>
        <!-- Audit Mapped ends -->
      </form>
    </div>
  </div>
</div>
