<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div> Bank Configuration Master</div>
      <div class="font-heading"><b>Reference No:</b> 19-20/EA/BCM/001</div>
      <div class="font-heading"><b>Reference Date:</b> {{ initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <!-- Navigations Starts -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">EA</a></li>
        <li class="breadcrumb-item active" aria-current="page"> Bank Configuration Master </li>
      </ol>
    </nav>
    <!-- Navigations Ends-->
    <!-- Insert Data Form Starts -->
    <!-- <form [formGroup]="bankConfigurationMasterForm"> -->
      <div class="box box-primary">
        <div class="box-header">Insert Data</div>
        <div class="box-body">
          <!-- Table List Starts-->
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 " aria-describedby="bcmInsertData">

            <ng-container matColumnDef="ifscCode">
              <th mat-header-cell *matHeaderCellDef scope="row">IfSC Code</th>
              <td mat-cell *matCellDef="let element;let i =index;" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.ifscCode" numberOnly [ngModelOptions]="{standalone: true}"
                    type="text" (change)="enterDetails(element,index)">
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="bankName">
              <th mat-header-cell *matHeaderCellDef scope="row">Bank Name</th>
              <td mat-cell *matCellDef="let element">
                <div class="dropdown-status">
                  <mat-form-field class="full-width">
                    <mat-select [(ngModel)]="element.bankName">
                      <mat-option>
                        <ngx-mat-select-search [formControl]="bankNameCtrl" [placeholderLabel]="'Find Sub Bank Name...'"
                          [noEntriesFoundLabel]="'no matching Bank Name found'">
                        </ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let item of bankName_list | filterSelectInput: bankNameCtrl.value"
                        [value]="item.value">
                        {{item.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </td>
            </ng-container>

            <ng-container matColumnDef="bankCode">
              <th mat-header-cell *matHeaderCellDef scope="row">Bank Code</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.bankCode" [ngModelOptions]="{standalone: true}" type="text">
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="branchName">
              <th mat-header-cell *matHeaderCellDef scope="row">Branch Name</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.branchName" [ngModelOptions]="{standalone: true}" type="text">
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="branchCode">
              <th mat-header-cell *matHeaderCellDef scope="row">Branch Code</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.branchCode" numbersOnly [ngModelOptions]="{standalone: true}"
                    type="text">
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="branchAddress">
              <th mat-header-cell *matHeaderCellDef scope="row">Branch Address</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.branchAddress" [ngModelOptions]="{standalone: true}" type="text">
                </mat-form-field>
              </td>
            </ng-container>

            <ng-container matColumnDef="ePaymentFlag">
              <th mat-header-cell *matHeaderCellDef scope="row">EPayment Flag</th>
              <td mat-cell *matCellDef="let element" class="centerAlign">
                <mat-form-field floatLabel="never">
                  <input matInput [(ngModel)]="element.ePaymentFlag" [ngModelOptions]="{standalone: true}" type="text">
                </mat-form-field>
              </td>
            </ng-container>


            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'4%'}">Action</th>
              <td mat-cell *matCellDef="let element; let i=index">
                <table class="iconTable" aria-describedby="actionBtn"
                  aria-describedby="inwardPhysicalBillAuditLevelDataButton">
                  <tbody>
                    <tr>
                      <td width="30" (click)="add();">
                        <i class="material-icons plus add" aria-hidden="true" *ngIf="(i==dataSource.data.length-1)">
                          add
                        </i>
                      </td>
                      <td width="30" (click)="delete(i)">
                        <i class="material-icons plus delete" aria-hidden="true" *ngIf="(i>=1)">
                          delete
                        </i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>

            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          </table>
          <!-- Table List Ends -->
          <!-- Common Action Button Starts -->
          <div class="form-action-button">

            <button type="submit" mat-raised-button color="primary" (click)="openSaveDialog()" >
              <i class="material-icons" aria-hidden="true" title="Save">
                save
              </i>
              Save
            </button>

            <button type="button" [routerLink]="'../bank-configuration-master-list'" mat-raised-button color="warn">
              <i class="material-icons" aria-hidden="true" title="Listing">
                list
              </i>
              Listing
            </button>


            <button type="button" mat-raised-button class="btnClose" (click)="directiveObject.onClose()">
              <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                close
              </i>
              Close
            </button>
          </div>
          <!-- Common Action Button Ends-->
        </div>
      </div>
    <!-- </form> -->
    <!-- Insert Data Form Ends -->
  </div>
</div>
