<div class="container">
    <div class="form-wrapper">

        <div class="heading-section ng-star-inserted">
            <div>Create Account AG Level</div>
            <div class="font-heading"><b>Reference No:</b> 19-20/PDPLA/CA/001</div>
            <div class="font-heading"><b>Reference Date:</b> {{ initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
        </div>

        <!-- Navigation -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item " aria-current="page">PD/PLA</li>
                <li class="breadcrumb-item active" aria-current="page">Create Account AG Level</li>
            </ol>
        </nav>

        <div class="panel-group">

            <mat-tab-group mat-stretch-tabs [selectedIndex]="selectedIndex" (selectedIndexChange)="getTabIndex($event)">
                <!-- Account Creation Detail -->
                <mat-tab>
                    <form [formGroup]="agLevelForm">
                        <ng-template mat-tab-label>
                            Account Creation Detail
                        </ng-template>
                        <!-- DDO Requirement Letter Detail -->
                        <div class="box box-primary">
                            <div class="box-header">DDO Requirement Letter Detail</div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput formControlName="sactionOrder"
                                                placeholder="DDO Request Sanction order No" value="DDO/01" required>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.sactionOrder.touched && agLevelForm.controls.sactionOrder.errors">
                                                <mat-error *ngIf="agLevelForm.controls.sactionOrder.errors.required">
                                                    {{errorMessages.SACTION_ORDER}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput value="1-May-2020"
                                                placeholder="DDO Request Sanction Order Date" required readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Account Details -->
                        <div class="box box-primary">
                            <div class="box-header">Account Details</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" formControlName="cardexNo"
                                                placeholder="Cardex No" value="4" readOnly required>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.cardexNo.touched && agLevelForm.controls.cardexNo.errors">
                                                <mat-error *ngIf="agLevelForm.controls.cardexNo.errors.required">
                                                    {{errorMessages.CARDEX_NO}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" formControlName="ddoNo" placeholder="DDO No"
                                                value="543">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" formControlName="officeName"
                                                placeholder="Office Name" value="Road and Transport">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="Office Contact No"
                                                formControlName="officeContactNo" numbersOnly>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="Email Id" formControlName="emailId">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="Major-Head" formControlName="majorHead"
                                                placeholder="Major Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="majorCtrl"
                                                        [placeholderLabel]="'Select Major Head ...'"
                                                        [noEntriesFoundLabel]="'no matching Major Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let major of majorHead_list | filterSelectInput : majorCtrl.value : 'viewValue'"
                                                    [value]="major.value" [matTooltip]="major.viewValue">
                                                    {{major.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.majorHead.touched && agLevelForm.controls.majorHead.errors">
                                                <mat-error *ngIf="agLevelForm.controls.majorHead.errors.required">
                                                    {{errorMessages.MAJOR_HEAD}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>


                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="sub-Major-Head" formControlName="subMajorHead"
                                                placeholder="Sub-Major Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subMajorCtrl"
                                                        [placeholderLabel]="'Select Sub-Major Head ...'"
                                                        [noEntriesFoundLabel]="'no matching Sub-Major Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let submajor of subMajorHead_list | filterSelectInput : subMajorCtrl.value : 'viewValue'"
                                                    [value]="submajor.value" [matTooltip]="submajor.viewValue">
                                                    {{submajor.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.subMajorHead.touched && agLevelForm.controls.subMajorHead.errors">
                                                <mat-error *ngIf="agLevelForm.controls.subMajorHead.errors.required">
                                                    {{errorMessages.SUB_MAJOR_HEAD}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="sub-Major-Head" formControlName="minorHead"
                                                placeholder="Minor Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="minorHeadCtrl"
                                                        [placeholderLabel]="'Select Minor Head ...'"
                                                        [noEntriesFoundLabel]="'no matching Minor Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let minor of minorHead_list | filterSelectInput : minorHeadCtrl.value : 'viewValue'"
                                                    [value]="minor.value" [matTooltip]="minor.viewValue">
                                                    {{minor.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.minorHead.touched && agLevelForm.controls.minorHead.errors">
                                                <mat-error *ngIf="agLevelForm.controls.minorHead.errors.required">
                                                    {{errorMessages.MINOR_HEAD}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>


                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="sub-Head" formControlName="subHead" placeholder="Sub Head"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subHeadCtrl"
                                                        [placeholderLabel]="'Select Sub Head ...'"
                                                        [noEntriesFoundLabel]="'no matching Sub Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let subHead of subHead_list | filterSelectInput : subHeadCtrl.value : 'viewValue'"
                                                    [value]="subHead.value" [matTooltip]="subHead.viewValue">
                                                    {{subHead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.subHead.touched && agLevelForm.controls.subHead.errors">
                                                <mat-error *ngIf="agLevelForm.controls.subHead.errors.required">
                                                    {{errorMessages.SUB_HEAD}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="pdpla" formControlName="pdplaType"
                                                placeholder="PD/PLA Type" (selectionChange)='pdplaTypeChanged($event)'>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="pdplaCtrl"
                                                        [placeholderLabel]="'Select PD/PLA Type ...'"
                                                        [noEntriesFoundLabel]="'no matching PD/PLA Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let pdpla of pdplaType_list | filterSelectInput : pdplaCtrl.value : 'viewValue'"
                                                    [value]="pdpla.value" [matTooltip]="pdpla.viewValue">
                                                    {{pdpla.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="{{purpose}}"
                                                value="New PD/PLA office created">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select formControlName="authority"
                                                placeholder="Authority by whom the Audit will be conducted" multiple
                                                (selectionChange)="authorityChanged($event)">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="authorityCtrl"
                                                        [placeholderLabel]="'Select Authority ...'"
                                                        [noEntriesFoundLabel]="'no matching Authority found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let item of authority_list | filterSelectInput : authorityCtrl.value : 'viewValue'"
                                                    [value]="item.value" [matTooltip]="item.viewValue">
                                                    {{item.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3" *ngIf="showOtherAuthority">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Audit Authority"
                                                formControlName="otherAuthority">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select formControlName="treasuryName" placeholder="Treasury Name"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="treasuryNameCtrl"
                                                        [placeholderLabel]="'Select Treasury Name ...'"
                                                        [noEntriesFoundLabel]="'no matching Treasury Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let item of treasuryName_list | filterSelectInput : treasuryNameCtrl.value : 'viewValue'"
                                                    [value]="item.value" [matTooltip]="item.viewValue">
                                                    {{item.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select name="Sub-Treasury" formControlName="subTresury"
                                                placeholder="Sub-Treasury Account"
                                                (selectionChange)="showSubTreasuryName($event.value)">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subTresuryCtrl"
                                                        [placeholderLabel]="'Select Sub-Treasury Account ...'"
                                                        [noEntriesFoundLabel]="'no matching Sub-Treasury Account found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let sub of subTresury_list | filterSelectInput : subTresuryCtrl.value : 'viewValue'"
                                                    [value]="sub.value" [matTooltip]="sub.viewValue">
                                                    {{sub.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3" *ngIf="isSelectedSubtreasuryYes">
                                        <mat-form-field>
                                            <mat-select formControlName="subTreasuryName"
                                                placeholder=" Sub Treasury Name">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subTreasuryNameCtrl"
                                                        [placeholderLabel]="'Select Sub Treasury Name ...'"
                                                        [noEntriesFoundLabel]="'no matching Sub Treasury Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let item of subTreasuryName_list | filterSelectInput : subTreasuryNameCtrl.value : 'viewValue'"
                                                    [value]="item.value" [matTooltip]="item.viewValue">
                                                    {{item.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div>Conditions:-</div>
                                        <mat-checkbox formControlName="checkOptionOne">Balance in the P.L.A should not
                                            be over drawn at any time
                                        </mat-checkbox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <mat-checkbox formControlName="checkOptionTwo">Balance as on 31st March to be
                                            surrendered by deduct debit to service head
                                        </mat-checkbox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <mat-checkbox formControlName="checkOptionThree">Account will be maintained
                                            properly and subject to audit
                                        </mat-checkbox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <mat-checkbox formControlName="checkOptionFour">Whether proposal routed through
                                            Finance Department with its concurrence
                                        </mat-checkbox>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--  HOD Letter Detail -->
                        <div class="box box-primary">
                            <div class="box-header"> HOD Letter Detail</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="HOD Sanction Order No" value="HOD/03"
                                                formControlName="hodSanctionOrderNo">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput value="3-May-2020" placeholder="HOD Sanction Order Date"
                                                required readonly formControlName="hodSanctionOrderDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">

                                            <textarea matInput formControlName="remarks1" placeholder="Remark"
                                                value="We advice PD/PLA account can be opened as the details are correct"
                                                required></textarea>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.remarks1.touched && agLevelForm.controls.remarks1.errors">
                                                <mat-error *ngIf="agLevelForm.controls.remarks1.errors.required">
                                                    {{errorMessages.REMARKS}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- Parent Dept. Letter Detail -->
                        <div class="box box-primary">
                            <div class="box-header"> Parent Dept. Letter Detail</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="Parent Department Sanction order No"
                                                value="DEPT/01" formControlName="parentDeptSanctionOrderNo">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">

                                        <mat-form-field>
                                            <input matInput value="5-May-2020"
                                                placeholder="Parent Dept. Sanction Order Date" required readonly
                                                formControlName="parentDeptOrderSanctionDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">

                                            <textarea matInput formControlName="remarks2" placeholder="Remark"
                                                value="We advice PD/PLA account can be opened as the details are correct"
                                                required></textarea>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.remarks2.touched && agLevelForm.controls.remarks2.errors">
                                                <mat-error *ngIf="agLevelForm.controls.remarks.errors.required">
                                                    {{errorMessages.REMARKS}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- FD Letter Detail -->
                        <div class="box box-primary">
                            <div class="box-header"> FD Letter Detail</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="FD Sanction order No" value="FD/02"
                                                formControlName="fdSanctionOrderNo">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">

                                        <mat-form-field>
                                            <input matInput value="7-May-2020" placeholder="FD Sanction order Date"
                                                required readonly formControlName="fdSanctionOrderDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>

                                    </div>
                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">

                                            <textarea matInput formControlName="remarks3" placeholder="Remark"
                                                value="We advice PD/PLA account can be opened as the details are correct"
                                                required></textarea>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.remarks3.touched && agLevelForm.controls.remarks3.errors">
                                                <mat-error *ngIf="agLevelForm.controls.remarks3.errors.required">
                                                    {{errorMessages.REMARKS}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- DAT Office Opinion (Optional) -->
                        <div class="box box-primary">
                            <div class="box-header">DAT Office Opinion (Optional)</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-3">

                                        <mat-form-field>
                                            <input matInput value="9-May-2020" placeholder="Opinion Date" required
                                                readonly formControlName="opinionDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">

                                            <textarea matInput formControlName="remarks" placeholder="Remark"
                                                value="We advice PD/PLA account can be opened as the details are correct"
                                                required></textarea>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.remarks.touched && agLevelForm.controls.remarks.errors">
                                                <mat-error *ngIf="agLevelForm.controls.remarks.errors.required">
                                                    {{errorMessages.REMARKS}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- AG Letter Detail -->
                        <div class="box box-primary">
                            <div class="box-header"> AG Letter Detail</div>
                            <div class="box-body">
                                <div class="row">

                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="AG Sanction order No" value="AG/01">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">

                                        <mat-form-field>
                                            <input matInput value="11-May-2020" placeholder="AG Sanction order Date"
                                                required readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6 col-md-3">
                                        <mat-form-field class="full-width">

                                            <textarea matInput formControlName="remarks4" placeholder="Remark"
                                                value="We advice PD/PLA account can be opened as the details are correct"
                                                required></textarea>

                                            <div class="error-wrapper"
                                                *ngIf="agLevelForm.controls.remarks4.touched && agLevelForm.controls.remarks4.errors">
                                                <mat-error *ngIf="agLevelForm.controls.remarks.errors.required">
                                                    {{errorMessages.REMARKS}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-action-button">

                            <button mat-raised-button type="submit" class="green"
                                (click)="directiveObject.workflowDetails()">
                                <i class="material-icons" aria-hidden="true" title="done">
                                    done
                                </i> Submit</button>


                            <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                                <i class="material-icons" aria-hidden="true" title="Listing">
                                    list
                                </i>
                                Listing
                            </button>

                            <button type="button" mat-raised-button class="btnClose">
                                <i class="material-icons" aria-hidden="true" title="close">
                                    close
                                </i>
                                Close
                            </button>
                        </div>

                    </form>
                </mat-tab>

                <!-- Attachments Tab -->
                <mat-tab label="Attachments">

                    <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>


                    <div class="form-action-button">

                        <button mat-raised-button type="submit" class="green"
                            (click)="directiveObject.workflowDetails()">
                            <i class="material-icons" aria-hidden="true" title="done">
                                done
                            </i> Submit</button>


                        <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                            <i class="material-icons" aria-hidden="true" title="Listing">
                                list
                            </i>
                            Listing
                        </button>

                        <button type="button" mat-raised-button class="btnClose">
                            <i class="material-icons" aria-hidden="true" title="close">
                                close
                            </i>
                            Close
                        </button>
                    </div>
                </mat-tab>
            </mat-tab-group>



        </div>

    </div>
</div>