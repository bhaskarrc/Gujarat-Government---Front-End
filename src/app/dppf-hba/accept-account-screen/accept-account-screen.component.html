<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted">
            <div>Accept Account </div>
            <div class="font-heading"><strong>Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}
            </div>
        </div>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">DPPF-HBA</a></li>
                <li class="breadcrumb-item active" aria-current="page">Accept Account Screen </li>
            </ol>
        </nav>
        <!-- Accept Account Screen Fields Starts -->
        <mat-accordion class="search-accordian">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <div class="heading-section">
                        Accept Account Screen Fields
                    </div>
                </mat-expansion-panel-header>
                <div class="form-datatable-list">
                    <div class="box-body">
                        <form [formGroup]="acceptAccountScreenForm">
                            <div class="row">

                                <div class="col-sm-3">
                                    <mat-form-field class="full-width">
                                        <mat-select formControlName="inwardType" placeholder="Inward Type" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="inwardTypeCtrl"
                                                    [placeholderLabel]="'Find Inward Types...'"
                                                    [noEntriesFoundLabel]="'no matching Inward Types found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option
                                                *ngFor="let inwardType of inwardType_list | filterSelectInput: inwardTypeCtrl.value"
                                                [value]="inwardType.value">
                                                {{inwardType.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.inwardType.touched && acceptAccountScreenForm.controls.inwardType.errors">
                                            <mat-error
                                                *ngIf="acceptAccountScreenForm.controls.inwardType.errors.required">
                                                {{ errorMessage.INWARDTYPE }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field>
                                        <mat-select formControlName="hbaMcz" placeholder="HBA/MCA" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="hbaMcaCtrl"
                                                    [placeholderLabel]="'Find HBA/MCA...'"
                                                    [noEntriesFoundLabel]="'no matching   found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option
                                                *ngFor=" let CE of hbaMca_list| filterSelectInput: hbaMcaCtrl.value"
                                                [value]="CE.value">
                                                {{ CE.viewValue }}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.hbaMcz.touched && acceptAccountScreenForm.controls.hbaMcz.errors">
                                            <mat-error *ngIf="acceptAccountScreenForm.controls.hbaMcz.errors.required">
                                                {{ errorMessage.HBA }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field class="full-width">
                                        <mat-select formControlName="month" placeholder="Month" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="typeOfMonthCtrl"
                                                    [placeholderLabel]="'Find Month...'"
                                                    [noEntriesFoundLabel]="'no matching Class found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option *ngFor="
              let CE of classTypeOfMonth
                | filterSelectInput: typeOfMonthCtrl.value
            " [value]="CE.value">
                                                {{ CE.viewValue }}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.month.touched && acceptAccountScreenForm.controls.month.errors">
                                            <mat-error *ngIf="acceptAccountScreenForm.controls.month.errors.required">
                                                {{ errorMessage.MONTH }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field class="full-width">
                                        <mat-select formControlName="year" placeholder="Year" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="typeOfYearCtrl"
                                                    [placeholderLabel]="'Find Year...'"
                                                    [noEntriesFoundLabel]="'no matching Class found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option *ngFor="
              let CE of classTypeOfYear
                | filterSelectInput: typeOfYearCtrl.value
            " [value]="CE.value">
                                                {{ CE.viewValue }}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper" *ngIf="
          acceptAccountScreenForm.controls.year.touched &&
          acceptAccountScreenForm.controls.year.errors
        ">
                                            <mat-error *ngIf="
            acceptAccountScreenForm.controls.year.errors.required
          ">
                                                {{ errorMessage.YEAR }}
                                            </mat-error>
                                        </div>

                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field>
                                        <mat-select formControlName="creditDebit" placeholder="Credit/Debit" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="creditDebitCtrl"
                                                    [placeholderLabel]="'Find Credit/Debit...'"
                                                    [noEntriesFoundLabel]="'no matching   found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option *ngFor=" let item of creditDebit_list| filterSelectInput: creditDebitCtrl.value
    " [value]="item.value">
                                                {{ item.viewValue }}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.creditDebit.touched && acceptAccountScreenForm.controls.creditDebit.errors">
                                            <mat-error
                                                *ngIf="acceptAccountScreenForm.controls.creditDebit.errors.required">
                                                {{ errorMessage.CREDIT_DEBIT }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field class="full-width">
                                        <mat-select formControlName="district" placeholder="District" required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="districtCtrl"
                                                    [placeholderLabel]="'Find District...'"
                                                    [noEntriesFoundLabel]="'No matching District found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option *ngFor="let item of districtList |
                filterSelectInput:districtCtrl.value" [value]="item.value" matTooltip="{{item.viewValue}}">
                                                {{item.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.district.touched && acceptAccountScreenForm.controls.district.errors">
                                            <mat-error
                                                *ngIf="acceptAccountScreenForm.controls.district.errors.required">
                                                {{ errorMessage.DISTRICT }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-3">
                                    <mat-form-field class="full-width">
                                        <mat-select formControlName="treasuryPao" placeholder="Treasury No/PAO"
                                            required>
                                            <mat-option>
                                                <ngx-mat-select-search [formControl]="typeOfTreasuryPaoCtrl"
                                                    [placeholderLabel]="'Find Treasury/PAO...'"
                                                    [noEntriesFoundLabel]="'no matching Class found'">
                                                </ngx-mat-select-search>
                                            </mat-option>
                                            <mat-option *ngFor="
          let CE of classTypeOfTreasuryPao | filterSelectInput: typeOfTreasuryPaoCtrl.value" [value]="CE.value"
                                                matTooltip="{{ CE.viewValue }}">
                                                {{ CE.viewValue }}
                                            </mat-option>
                                        </mat-select>
                                        <div class="error-wrapper"
                                            *ngIf="acceptAccountScreenForm.controls.treasuryPao.touched && acceptAccountScreenForm.controls.treasuryPao.errors">
                                            <mat-error
                                                *ngIf="acceptAccountScreenForm.controls.treasuryPao.errors.required">
                                                {{ errorMessage.TYPE_OF_TREASURY_PAO }}
                                            </mat-error>
                                        </div>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-12">
                                    <div class="form-action-button">
                                        <button type="button" mat-raised-button color="primary" title="Save As Draft"
                                            (click)="onFatchData()">
                                            Fetch Data
                                        </button>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>

            </mat-expansion-panel>
        </mat-accordion>
        <!-- Accept Account Screen Fields Ends -->
        <br>
        <!-- Table starts -->
        <div *ngIf="isFatched">
            <div class="mat-elevation-z8 mt-2">

                <table mat-table [dataSource]="dataSource" matSort aria-describedby="acceptAccountTable">

                    <ng-container matColumnDef="srno">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            Serial No
                        </th>
                        <td mat-cell *matCellDef="let element; let i=index" class="centerAlign">
                            {{i+1 }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef scope="row">
                            <mat-checkbox (change)="$event ? directiveObject.masterToggle(ELEMENT_DATA) : null"
                                [checked]="directiveObject.selection.hasValue() && directiveObject.isAllSelected(ELEMENT_DATA)"
                                [indeterminate]="directiveObject.selection.hasValue() && !directiveObject.isAllSelected(ELEMENT_DATA)"
                                [aria-label]="directiveObject.checkboxLabel(ELEMENT_DATA)">
                            </mat-checkbox>
                        </th>
                        <td mat-cell *matCellDef="let row" class="text-center">
                            <mat-checkbox (click)="$event.stopPropagation()"
                                (change)="$event ? directiveObject.selection.toggle(row) : null"
                                [checked]="directiveObject.selection.isSelected(row) "
                                [aria-label]="directiveObject.checkboxLabel(ELEMENT_DATA, row)">
                            </mat-checkbox>
                        </td>

                    </ng-container>

                    <ng-container matColumnDef="majorHead">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            Major Head
                        </th>
                        <td mat-cell *matCellDef="let element; let i = index">
                            <mat-label>{{ element.majorHead }}
                            </mat-label>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="creditDebit">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            Credit/Debit
                        </th>
                        <td mat-cell *matCellDef="let element; let i = index">
                            <mat-label>{{ element.creditDebit }}
                            </mat-label>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="noOfDocuments">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            No of Documents
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.noOfDocuments }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="amount">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            Challan Amount (Rs.)
                        </th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                            {{ element.amount }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="tcAmount">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            TC Amount
                        </th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                            {{ element.tcAmount }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="grossAmount">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
                            Gross Amount (in Rs.)
                        </th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                            {{ element.grossAmount }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                        <td mat-cell *matCellDef="let element; let i = index" class="action-btn-i centerAlign">

                            <a [routerLink]="'../accept-account-screen/book-transfer-register'"><i
                                    class="material-icons plus view-icon" title="View"
                                    aria-hidden="true">remove_red_eye</i></a>
                        </td>
                    </ng-container>
                    <!-- Header Section Of table -->
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <!-- Data Fetch From .TS File to table -->
                    <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns"></tr>
                </table>

            </div>
        </div>
        <!-- Table Ends -->

        <!-- Action buttons -->
        <div class="form-action-button" *ngIf="isFatched">
            <button type="submit" mat-raised-button color="primary" title="Save As Draft" (click)="onAccept()">
                Accept
            </button>
            <button type="submit" mat-raised-button color="primary" title="Save As Draft" (click)="onNonAccept()">
                Non Accept
            </button>
        </div>

    </div>
</div>