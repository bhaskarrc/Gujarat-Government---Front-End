<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div> List of ppr for your Action </div>
    </div>
    <div class=" form-datatable-list">
      <form class="col-sm-12" [formGroup]="pprDashboardForm" (ngSubmit)="leaveSubmit()">
        <div class="row">
          <div class="box box-primary">
            <div class="box-header">Search</div>
            <div class="box-body">
              <div class="row">
                <div class="col-sm-3">
                  <!-- PPR NO. search-->
                  <mat-form-field class="full-width">
                    <input matInput placeholder="PPR NO."  [formControl]="PprNoControl">
                    <mat-icon matSuffix class="searchIcon">search</mat-icon>
                    <mat-error *ngIf="PprNoControl.hasError('required')">
                      PPR NO. is <strong>required</strong>
                      
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-sm-3">
                  <!-- Project Name search-->
                  <mat-form-field class="full-width">
                    <input matInput placeholder="PROJECT NAME" [formControl]="ProjectNameControl">
                    <mat-icon matSuffix class="searchIcon">search</mat-icon>
                    <mat-error *ngIf="ProjectNameControl.hasError('required')">
                      Project Name is <strong>required</strong>                      
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="form-action-button">
                  <button type="submit" mat-raised-button color="primary" (click)="search()">
                    <i class="material-icons">search</i> Search </button>
                  <button type="reset" mat-raised-button color="accent" (click)="clearForm();">
                    <i class="material-icons">restore</i>Reset</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="mat-elevation-z8 table-responsive mt-2" *ngIf="!isSearch">
      <table mat-table #table [dataSource]="dataSourcepprDashboard" class="responsive-table"  aria-describedby="pprdashboardList">
        <!-- srnumber -->
        <ng-container matColumnDef="srNo">
          <th mat-header-cell *matHeaderCellDef class="srnumber" scope="row">Sr. No. </th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{i+1}}
          </td>
        </ng-container>
        <!-- PPR ID  -->
        <ng-container matColumnDef="pprid">
          <th mat-header-cell *matHeaderCellDef scope="row">PPR ID </th>
          <td mat-cell *matCellDef="let element;let i= index;">
            <a [routerLink]="'#table'">{{element.pprid}}</a>
          </td>
        </ng-container>
        <!-- Uploading Date -->
        <ng-container matColumnDef="updatingdate">
          <th mat-header-cell *matHeaderCellDef scope="row">Uploading Date</th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{element.updatingdate}}
          </td>
        </ng-container>
        <!-- Submitted BY-->
        <ng-container matColumnDef="submittedby">
          <th mat-header-cell *matHeaderCellDef scope="row">Submitted by</th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{element.submittedby}}
          </td>
        </ng-container>
        <!-- Project Name-->
        <ng-container matColumnDef="projectname">
          <th mat-header-cell *matHeaderCellDef scope="row">Project Name</th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{element.projectname}}
          </td>
        </ng-container>
        <!-- Sectoral Area-->
        <ng-container matColumnDef="sectrolarea">
          <th mat-header-cell *matHeaderCellDef scope="row">Sectoral Area </th>
          <td mat-cell *matCellDef="let element;let i= sectrolarea;">
            {{element.sectrolarea}}
          </td>
        </ng-container>
        <!--status-->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef  scope="row">Status</th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{element.status}}
          </td>
        </ng-container>
        <!--PPR TYPE -->
        <ng-container matColumnDef="pprtype">
          <th mat-header-cell *matHeaderCellDef  scope="row">PPR type</th>
          <td mat-cell *matCellDef="let element;let i= index;">
            {{element.pprtype}}
          </td>
        </ng-container>
        <!--Actions -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef  scope="row">action</th>
          <td mat-cell *matCellDef="let element;let i = index;" class="action-btn-i centerAlign">
            <a [routerLink]="'#table'"><i class="material-icons plus view-icon" aria-hidden="true" title="View">remove_red_eye</i></a>
            <a class="comment"><i class="material-icons plus" aria-hidden="true" title="Save AS Draft">saveasdraft</i></a>
            <a class="delete"><i class="material-icons plus delete" aria-hidden="true" title="Responded">delete</i></a>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; let i = index;columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>
</div>
