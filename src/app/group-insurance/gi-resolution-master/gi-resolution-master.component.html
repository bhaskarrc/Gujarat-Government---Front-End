<div class="container">
  <div class="form-wrapper">

    <!-- heading section -->
    <div class="heading-section ng-star-inserted">
      <div>Resolution Master</div>
      <div class="font-heading"><strong>Reference No:</strong> 19-20/GI/EM/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>

    <!-- navigation -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
        <li class="breadcrumb-item " aria-current="page"><a href="javascript:void(0)">Group Insurance</a></li>
        <li class="breadcrumb-item active" aria-current="page">Resolution Master</li>
      </ol>
    </nav>

    <div class="panel-group">
      <!-- form -->
      <form [formGroup]="resolutionMasterForm" (ngSubmit)="resolutionMasterFormData()">
        <div class="box box-primary">
          <div class="box-header">Resolution Details</div>
          <div class="box-body">

            <div class="row">

              <!-- resolution date -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="resolutionDate" [matDatepicker]="picker1"
                    placeholder="Resolution Date" required>
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1 [disabled]="false"></mat-datepicker>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.resolutionDate.touched && resolutionMasterForm.controls.resolutionDate.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.resolutionDate.errors.required">
                      {{errorMessages.RESOLUTION_DATE}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- applicable date -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="applicatbleDate" [matDatepicker]="picker2"
                    placeholder="Applicable/Improve Rate Date" required>
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2 [disabled]="false"></mat-datepicker>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.applicatbleDate.touched && resolutionMasterForm.controls.applicatbleDate.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.applicatbleDate.errors.required">
                      {{errorMessages.APPLICABLE_DATE}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- group a -->
              <div class="col-md-3">
                <mat-form-field>
                  <input matInput placeholder="Group A" formControlName="groupA" numbersOnly required>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.groupA.touched && resolutionMasterForm.controls.groupA.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.groupA.errors.required">
                      {{errorMessages.GROUP_A}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- group b -->
              <div class="col-md-3">
                <mat-form-field>
                  <input matInput placeholder="Group B" formControlName="groupB" numbersOnly required>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.groupB.touched && resolutionMasterForm.controls.groupB.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.groupB.errors.required">
                      {{errorMessages.GROUP_B}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- group c -->
              <div class="col-md-3">
                <mat-form-field>
                  <input matInput placeholder="Group C" formControlName="groupC" numbersOnly required>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.groupC.touched && resolutionMasterForm.controls.groupC.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.groupC.errors.required">
                      {{errorMessages.GROUP_C}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- group d -->
              <div class="col-md-3">
                <mat-form-field>
                  <input matInput placeholder="Group D" formControlName="groupD" numbersOnly required>
                  <div class="error-wrapper"
                    *ngIf="resolutionMasterForm.controls.groupD.touched && resolutionMasterForm.controls.groupD.errors">
                    <mat-error *ngIf="resolutionMasterForm.controls.groupD.errors.required">
                      {{errorMessages.GROUP_D}}</mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- action button -->
              <div class="col-sm-12">
                <div class="form-action-button">
                  <button type="save" mat-raised-button class="green" title="Save" (click)="submit()">
                    <i class="material-icons" aria-hidden="true">done</i> Save
                  </button>
                  <button type="reset" mat-raised-button color="accent" title="Reset">
                    <i class="material-icons" aria-hidden="true">
                      restore
                    </i>
                    Reset
                  </button>
                </div>
              </div>
              <!-- action button end -->

            </div>

          </div>
        </div>
      </form>

      <div class="mat-elevation-z8 mt-2" *ngIf="showTable">

        <!-- table start -->
        <table mat-table [dataSource]="resolutionMasterDataSource" width="100%" aria-describedby="resolutionMaster"
          matSort>

          <!-- sr no -->
          <ng-container matColumnDef="srno">
            <th mat-header-cell *matHeaderCellDef scope="row">
              Serial No.
            </th>
            <td mat-cell *matCellDef="let element; let i = index" class="centerAlign">
              {{ i + 1 }}
            </td>
          </ng-container>

          <!-- resolution date -->
          <ng-container matColumnDef="resolutionDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Resolution Date</th>
            <td mat-cell *matCellDef="let element">
              {{element.resolutionDate | date : 'dd-MMM-yyyy'}}
            </td>
          </ng-container>

          <!-- applicable date -->
          <ng-container matColumnDef="applicableDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Applicable Date</th>
            <td mat-cell *matCellDef="let element">
              {{element.applicableDate | date : 'dd-MMM-yyyy'}}
            </td>
          </ng-container>

          <!-- group a -->
          <ng-container matColumnDef="groupA">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Group A</th>
            <td mat-cell *matCellDef="let element">
              {{element.groupA}}
            </td>
          </ng-container>

          <!-- group b -->
          <ng-container matColumnDef="groupB">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Group B</th>
            <td mat-cell *matCellDef="let element">
              {{element.groupB}}
            </td>
          </ng-container>

          <!-- group c -->
          <ng-container matColumnDef="groupC">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Group C</th>
            <td mat-cell *matCellDef="let element">
              {{element.groupC}}
            </td>
          </ng-container>

          <!-- group d -->
          <ng-container matColumnDef="groupD">
            <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Group D</th>
            <td mat-cell *matCellDef="let element">
              {{element.groupD}}
            </td>
          </ng-container>

          <!-- Header Section Of table -->
          <tr mat-header-row *matHeaderRowDef="resolutionMasterDataSourceColumn"></tr>
          <!-- Data Fetch From .TS File to table -->
          <tr mat-row *matRowDef="let row; columns: resolutionMasterDataSourceColumn;"></tr>
        </table>
        <!-- table ends -->

        <!-- paginator -->
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </div>

    </div>
  </div>
</div>