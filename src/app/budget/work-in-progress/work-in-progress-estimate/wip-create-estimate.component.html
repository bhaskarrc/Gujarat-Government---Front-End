<div class="container-fluid">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted text-center">
            Work in Progress Budget Estimates - Form I
            <div class="font-heading"><strong>Reference Number:</strong>19-20/BUD/WIP/001</div>
            <div class="font-heading"><strong>Reference Date:</strong> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div>
        </div>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Budget</a></li>
                <li class="breadcrumb-item"><a href="#">Expenditure Estimate</a></li>
                <li class="breadcrumb-item active" aria-current="page">Work in Progress Budget Estimates - Form I</li>
            </ol>
        </nav>
        <div>
            <div #parentGrids>
                <mat-tab-group mat-stretch-tabs [selectedIndex]="selectedindex">
                    <!-- Header -->
                    <mat-tab label="Header">
                        <div class=" form-datatable-list">
                            <!-- Header Section Starts-->
                            <form class="col-sm-12" [formGroup]="EstimateForm" (ngSubmit)="saveEstimate()">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="financialYear" placeholder="Financial Year"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="financialYearCtrl"
                                                        [placeholderLabel]="'Find financial Year...'"
                                                        [noEntriesFoundLabel]="'no matching financial Year found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let financialYear of financialYear_list | filterSelectInput: financialYearCtrl.value"
                                                    [value]="financialYear.value">
                                                    {{financialYear.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="departmentCode" placeholder="Department"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                                                        [placeholderLabel]="'Find Department...'"
                                                        [noEntriesFoundLabel]="'no matching Department found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>

                                                <mat-option
                                                    *ngFor="let department of department_list | filterSelectInput: departmentCodeCtrl.value"
                                                    [value]="department.value">
                                                    {{department.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="demandCode" placeholder="Demand" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="demandCodeCtrl"
                                                        [placeholderLabel]="'Find Demand Code...'"
                                                        [noEntriesFoundLabel]="'no matching Demand Code found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let demand of demand_list | filterSelectInput: demandCodeCtrl.value"
                                                    [value]="demand.value">
                                                    {{demand.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="majorHeadCode" placeholder="Major Head"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="majorHeadCodeCtrl"
                                                        [placeholderLabel]="'Find Major Head...'"
                                                        [noEntriesFoundLabel]="'no matching Major Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let majorhead of majorHead_list | filterSelectInput: majorHeadCodeCtrl.value"
                                                    [value]="majorhead.value">
                                                    {{majorhead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="revenueCapital" placeholder="Revenue/Capital"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                                                        [placeholderLabel]="'Find Revenue/Capital...'"
                                                        [noEntriesFoundLabel]="'no matching Revenue/Capital found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let revenueCapital of revenueCapital_list | filterSelectInput: revenueCapitalCtrl.value"
                                                    [value]="revenueCapital.value">
                                                    {{revenueCapital.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="subMajorHeadCode" placeholder="Sub Major Head"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subMajorHeadCodeCtrl"
                                                        [placeholderLabel]="'Find Major Head...'"
                                                        [noEntriesFoundLabel]="'no matching Major Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let majorhead of subMajorHead_list | filterSelectInput: majorHeadCodeCtrl.value"
                                                    [value]="majorhead.value">
                                                    {{majorhead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="minorHeadCode" placeholder="Minor Head"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="minorHeadCodeCtrl"
                                                        [placeholderLabel]="'Find Minor Head...'"
                                                        [noEntriesFoundLabel]="'no matching Minor Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let minorhead of minorHead_list | filterSelectInput: minorHeadCodeCtrl.value"
                                                    [value]="minorhead.value">
                                                    {{minorhead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="subHeadCode" placeholder="Sub Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subHeadCodeCtrl"
                                                        [placeholderLabel]="'Find Sub Head...'"
                                                        [noEntriesFoundLabel]="'no matching Sub Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let subhead of subHead_list | filterSelectInput: subHeadCodeCtrl.value"
                                                    [value]="subhead.value">
                                                    {{subhead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="detailHeadCode" placeholder="Detailed Head"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="detailHeadCodeCtrl"
                                                        [placeholderLabel]="'Find Detailed Head...'"
                                                        [noEntriesFoundLabel]="'no matching Detailed Head found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let detailhead of detailHead_list | filterSelectInput: detailHeadCodeCtrl.value"
                                                    [value]="detailhead.value">
                                                    {{detailhead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="proposalType" placeholder="Proposal Type"
                                                #proposalType required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="proposalTypeCtrl"
                                                        [placeholderLabel]="'Find Proposal Type...'"
                                                        [noEntriesFoundLabel]="'no matching Proposal Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let proposalType of proposalType_list | filterSelectInput: proposalTypeCtrl.value"
                                                    [value]="proposalType.value">
                                                    {{proposalType.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="majorCategory" placeholder="Major Category"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="majorCategoryCtrl"
                                                        [placeholderLabel]="'Find Major Category...'"
                                                        [noEntriesFoundLabel]="'no matching Major Category found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let majorCategory of majorCategory_list | filterSelectInput: majorCategoryCtrl.value"
                                                    [value]="majorCategory.value">
                                                    {{majorCategory.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="proposalCategory"
                                                placeholder="Proposal Category" #proposalCategory required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="proposalCategoryCtrl"
                                                        [placeholderLabel]="'Find Proposal Category...'"
                                                        [noEntriesFoundLabel]="'no matching Proposal Category found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let proposalCategory of proposalCategory_list| filterSelectInput: proposalCategoryCtrl.value; let i = index "
                                                    [value]="proposalCategory.value"
                                                    (selectionChange)="onItemCategorySelect( i, proposalCategory);">
                                                    {{proposalCategory.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="schemeType" placeholder="Scheme Type" required
                                                (selectionChange)="showSchemeRatio()">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="schemeTypeCtrl"
                                                        [placeholderLabel]="'Find Scheme Type...'"
                                                        [noEntriesFoundLabel]="'no matching Scheme Typefound'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let schemeType of schemeType_list | filterSelectInput: schemeTypeCtrl.value"
                                                    [value]="schemeType.value">
                                                    {{schemeType.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="% Percentage"
                                                formControlName="schemeTypeRatio" maxlength="3">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="chargedVoted" placeholder="Charged Voted"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="chargedVotedCtrl"
                                                        [placeholderLabel]="'Find Charged Voted...'"
                                                        [noEntriesFoundLabel]="'no matching Charged Voted found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let chargedVoted of chargedVoted_list | filterSelectInput: chargedVotedCtrl.value"
                                                    [value]="chargedVoted.value">
                                                    {{chargedVoted.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="objectHead" placeholder="Object Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="objectHeadCtrl"
                                                        [placeholderLabel]="'Find Object Head...'"
                                                        [noEntriesFoundLabel]="'no matching Object Head'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let objectHead of objectHead_list | filterSelectInput: objectHeadCtrl.value"
                                                    [value]="objectHead.value">
                                                    {{objectHead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <!-- Action Buttons -->
                                <div class="form-action-button next-button">
                                    <button type="submit" mat-raised-button color="primary">
                                        Save & Proceed
                                        <i class="material-icons" aria-hidden="true" title="Next">
                                            chevron_right
                                        </i>
                                    </button>
                                </div>
                            </form>
                            <!-- Header Section Ends-->
                        </div>
                    </mat-tab>
                    <!-- Work Selection -->
                    <mat-tab label="Second">
                        <ng-template mat-tab-label>
                            Work Selection
                        </ng-template>

                        <!-- Work Selection Table Section -->
                        <table aria-describedby="cssTable" mat-table #table multiTemplateDataRows
                            [dataSource]="exeDataSource" class="responsive-table">
                            <!-- Rows With Data -->
                            <ng-container matColumnDef="{{column.value}}" *ngFor="let column of displayedColumnsExecel">

                                <ng-container
                                    *ngIf="column.viewValue != 'Action' && column.value != 'districtName' && column.value != 'state' && column.value != 'css' && column.viewValue != 'Provision Proposed For 2019-2020' ">
                                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" scope="row">
                                        {{column.viewValue}} </th>
                                    <td mat-cell [ngClass]="column.class" *matCellDef="let element">
                                        <ng-container *ngIf="column.class !== 'rightAlign'">{{element[column.value]}}
                                        </ng-container>
                                    </td>
                                </ng-container>

                                <ng-container *ngIf="column.viewValue == 'Provision Proposed For 2019-2020' ">
                                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">
                                        {{column.viewValue}} </th>
                                </ng-container>

                                <ng-container *ngIf="column.value == 'districtName'">
                                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" scope="row">
                                        {{column.viewValue}} <br>
                                        {{column.viewValue2}}
                                    </th>
                                    <td mat-cell [ngClass]="column.class" *matCellDef="let element">
                                        <div class="rightAlign">
                                            {{element[column.value]}} <br>
                                            {{element[column.value2]}}
                                        </div>
                                    </td>
                                </ng-container>


                                <ng-container *ngIf="column.value == 'state' || column.value == 'css'">
                                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="1" scope="row">
                                        {{column.viewValue}} </th>
                                    <td mat-cell [ngClass]="column.class" *matCellDef="let element">
                                        <div class="rightAlign">
                                            {{element[column.value] | number : '1.2-2'}}
                                        </div>
                                    </td>
                                </ng-container>

                                <!-- Action -->
                                <ng-container *ngIf="column.value == 'action'">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2"
                                        class="gray-color">Action</th>
                                    <td mat-cell (click)="$event.stopPropagation();"
                                        *matCellDef="let element;let i = index;" class="action-btn-i centerAlign">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td width="30">
                                                        <button type="submit" mat-raised-button width="30"
                                                            color="primary"
                                                            (click)="expandedElement = (expandedElement === element) ? null : element">
                                                            Process
                                                        </button>
                                                    </td>
                                                    <td width=30>
                                                        |
                                                    </td>
                                                    <td width="30">
                                                        <i aria-hidden="true" class="material-icons plus delete">
                                                            edit
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>

                            </ng-container>

                            <!-- Rows with Expansion Table -->
                            <ng-container matColumnDef="expandedDetail" expandedElement=null>
                                <tr>
                                    <td mat-cell *matCellDef="let element" [attr.colspan]="7">
                                        <div class="element-detail"
                                            [@expandRow]="element === expandedElement ? 'expanded' : 'collapsed'"
                                            [style.height]="element.expanded ? 'unset' : '0 !important'">
                                            <div class="row">
                                                <div class="col-sm-2">

                                                </div>

                                                <div class="col-sm-8">
                                                    <div class="rsClass"> (₹ in Lakhs) </div>
                                                    <table mat-table [dataSource]="dataSource1" width="100%"
                                                        aria-describedby="workDetailTable">

                                                        <!-- Work Details -->
                                                        <ng-container matColumnDef="workDetails">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">Work Details</th>
                                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                                                {{element.workDetails}}
                                                            </td>
                                                        </ng-container>


                                                        <!-- Amount -->
                                                        <ng-container matColumnDef="amount">
                                                            <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"
                                                                scope="row">Amount</th>
                                                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                                                <mat-form-field floatLabel="never">
                                                                    <input matInput [value]="element.amount"
                                                                        [(ngModel)]="element.amount"
                                                                        (keypress)="decimalKeyPress($event)"
                                                                        (blur)="decimalPoint(element,'amount')"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                </mat-form-field>
                                                            </td>
                                                        </ng-container>

                                                        <!-- Total -->
                                                        <ng-container matColumnDef="total">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">Total</th>
                                                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                                                {{element.amount | number:'1.2-2'}}
                                                            </td>
                                                        </ng-container>

                                                        <!-- Header Row -->
                                                        <tr mat-header-row
                                                            *matHeaderRowDef="['workDetails','amount','total']"></tr>
                                                        <!-- Data Fetch From .TS File to table -->
                                                        <tr mat-row
                                                            *matRowDef="let row; let i = index;columns: ['workDetails','amount','total'];">
                                                        </tr>
                                                    </table>

                                                </div>

                                                <div class="col-sm-2">

                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-2">

                                                </div>

                                                <div class="col-sm-8">
                                                    <table mat-table [dataSource]="dataSource" width="100%"
                                                        aria-describedby="workDetailTable">


                                                        <!-- Work Details -->
                                                        <ng-container matColumnDef="workDetails">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">Work Details</th>
                                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                                                {{element.workDetails}}
                                                            </td>
                                                            <td mat-footer-cell *matFooterCellDef>Total</td>
                                                        </ng-container>


                                                        <!-- State -->
                                                        <ng-container matColumnDef="state">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                                                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                                                <mat-form-field floatLabel="never">
                                                                    <input matInput [value]="element.state"
                                                                        [(ngModel)]="element.state"
                                                                        (keypress)="decimalKeyPress($event)"
                                                                        (blur)="decimalPoint(element,'state')"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                </mat-form-field>
                                                            </td>
                                                            <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                                {{totalState() | number:'1.2-2'}}</td>
                                                        </ng-container>


                                                        <!-- CSS -->
                                                        <ng-container matColumnDef="css">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                                                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                                                <mat-form-field floatLabel="never">
                                                                    <input matInput [value]="element.css"
                                                                        [(ngModel)]="element.css"
                                                                        (keypress)="decimalKeyPress($event)"
                                                                        (blur)="decimalPoint(element,'css')"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                </mat-form-field>
                                                            </td>
                                                            <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                                {{totalCss() | number:'1.2-2'}}</td>
                                                        </ng-container>
                                                        <!-- [value]="{{(element.total+element.css).toFixed(2)}}" -->

                                                        <!-- Total -->
                                                        <ng-container matColumnDef="total">
                                                            <th mat-header-cell *matHeaderCellDef scope="row">Total</th>
                                                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                                                {{getTotal(element) | number:'1.2-2'}}
                                                            </td>
                                                            <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                                {{totalAll() | number:'1.2-2'}}</td>
                                                        </ng-container>

                                                        <!-- Header Row -->
                                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

                                                       <!-- Data Fetch From .TS File to table -->
                                                        <tr mat-row
                                                            *matRowDef="let row; let i = index;columns: displayedColumns;">
                                                        </tr>
                                                        <!-- Footer Row -->
                                                        <tr mat-footer-row *matFooterRowDef="displayedColumns">
                                                        </tr>
                                                    </table>

                                                </div>

                                                <div class="col-sm-2">

                                                </div>
                                            </div>

                                            <div class="row">

                                                <div class="col-sm-2">

                                                </div>
                                                <div class="col-sm-8">
                                                    <mat-form-field floatLabel="never">
                                                        <input matInput placeholder="Remark">
                                                    </mat-form-field>
                                                </div>

                                                <div class="col-sm-2">

                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </ng-container>

                            <ng-container matColumnDef="1">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                            </ng-container>
                            <ng-container matColumnDef="2">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                            </ng-container>
                            <ng-container matColumnDef="3">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                            </ng-container>
                            <ng-container matColumnDef="4">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                            </ng-container>
                            <ng-container matColumnDef="5">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                            </ng-container>
                            <ng-container matColumnDef="6">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                            </ng-container>
                            <ng-container matColumnDef="7">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
                            </ng-container>
                            <ng-container matColumnDef="8">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
                            </ng-container>
                            <ng-container matColumnDef="9">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
                            </ng-container>
                            <ng-container matColumnDef="10">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
                            </ng-container>
                            <ng-container matColumnDef="11">
                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
                            </ng-container>

                            <!-- Header Row -->
                            <tr mat-header-row *matHeaderRowDef="displayedColumnsHeaders"></tr>
                            <!-- Sub Header Row -->
                            <tr mat-header-row *matHeaderRowDef="displayedColumnsHeaders1"></tr>

                            <!-- Number Header Row -->
                            <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7']">
                            </tr>
                            <!-- Data Fetch From .TS File to table -->
                            <tr mat-row class="workIDs" *matRowDef="let element; columns: displayedColumnsHeadersVal;">
                            </tr>
                            <!-- Data Fetch From .TS File to table -->
                            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row">
                            </tr>
                        </table>
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                            <button type="submit" mat-raised-button color="primary">
                                <i class="material-icons" aria-hidden="true" title="Save">
                                    save
                                </i>
                                Save
                            </button>
                        </div>
                    </mat-tab>
                    <!-- Detail -->
                    <mat-tab label="Third">
                        <ng-template mat-tab-label>
                            Detail
                        </ng-template>

                        <mat-tab-group mat-stretch-tabs class="new-item-est-tabing">
                            <!-- CSS Tab -->
                            <mat-tab label="CSS" *ngIf="showCSS">

                                <div style="width: 100%; overflow: auto;">
                                    <div class="expenditure-estimate-work-in-progress">
                                        <!-- Table Section Starts -->
                                        <table mat-table aria-describedby="cssTable"
                                            [dataSource]="dataSourceWorkInProgress">
                                            <!-- District Id -->
                                            <ng-container matColumnDef="districtId">
                                                <th mat-header-cell *matHeaderCellDef scope="row">District Id</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" readonly [value]="0">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef>Total</td>
                                            </ng-container>

                                            <!-- District Name -->
                                            <ng-container matColumnDef="districtName">
                                                <th mat-header-cell *matHeaderCellDef scope="row">District Name</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" readonly
                                                            [value]="element.districtName">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Workd Id -->
                                            <ng-container matColumnDef="workId">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Workd Id</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" readonly
                                                            [value]="element.workId">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Item No. -->
                                            <ng-container matColumnDef="workNo">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Item No.</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" readonly
                                                            [value]="element.workNo">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Work Description -->
                                            <ng-container matColumnDef="workName">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Work Description</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" readonly
                                                            [value]="element.workName">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Amount of Sanctioned Estimates -->
                                            <ng-container matColumnDef="val1">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Amount of Sanctioned Estimates</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val1"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val1')" readonly
                                                            [value]="element.val1">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcAmtSancCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Last year actual expenditure 2017-2018 -->
                                            <ng-container matColumnDef="val2">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Last year actual expenditure 2017-2018</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val2"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val2')" readonly
                                                            [value]="element.val2">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcActExpenCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Total Progressive Expenditure -->
                                            <ng-container matColumnDef="val3">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Total Progressive 
                                                    Expenditure upto the End of the last year 2017-2018
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val3"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val3')" readonly
                                                            [value]="element.val3">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotProgCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Budget provision for the current year 2018-2019 -->
                                            <ng-container matColumnDef="val4">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Budget provision for
                                                    the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val4"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val4')" readonly
                                                            [value]="element.val4">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcBudEstCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Actual for the first four months of the current year 2018-2019 -->
                                            <ng-container matColumnDef="val5">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Actual for the first
                                                    four months of the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val5"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val5')" readonly
                                                            [value]="element.val5">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcActFourMonCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Probably expenditure for the last eight months -->
                                            <ng-container matColumnDef="val6">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Probably expenditure
                                                    for the last eight months of the
                                                    current year 2018-2019
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val6"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val6')" [value]="element.val6"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcExpEightMonthCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Total probable expenditure -->
                                            <ng-container matColumnDef="val7">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Total probable
                                                    expenditure for the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput
                                                            [value]="(element.val5 - 0) + (element.val6 - 0) | number:'1.2-2'"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val7')" readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotFourEightCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- Provision proposed for 2019-2020 -->
                                            <ng-container matColumnDef="total">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Provision proposed for 2019-2020</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAlign text-right"
                                                        [ngStyle]="{'width': '70%'}">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.total"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'total')"
                                                            [value]="element.total" readonly>
                                                    </mat-form-field>
                                                    <i class="material-icons btn-history" title="View History"
                                                        (click)="openHistory(element)">history</i>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotalCss() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <!-- CSS -->
                                            <ng-container matColumnDef="css">
                                                <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput [value]="'YES'" readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Remarks -->
                                            <ng-container matColumnDef="remarks">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Enter Remarks Here"
                                                            [value]="element.remarks">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <!-- Action -->
                                            <ng-container matColumnDef="action">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                                <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                                    <table class="iconTable">
                                                        <tbody>
                                                            <tr>
                                                                <!-- <td width="30">
                                                                    <i aria-hidden="true" class="material-icons plus"
                                                                        *ngIf="dataSourceWorkInProgress && dataSourceWorkInProgress.data && (i == dataSourceWorkInProgress.data.length - 1)"
                                                                        (click)="addRecord()">
                                                                        add
                                                                    </i>
                                                                </td> -->
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus edit"
                                                                        title="Edit">edit</i>
                                                                </td>
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus view-icon"
                                                                        title="View">remove_red_eye</i>
                                                                </td>
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus delete"
                                                                        (click)="deleteRecord(i)">
                                                                        delete
                                                                    </i>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="1">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="2">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="3">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="4">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="5">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="6">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="7">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="8">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="9">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="10">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    10</th>
                                            </ng-container>
                                            <ng-container matColumnDef="12">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    12</th>
                                            </ng-container>
                                            <ng-container matColumnDef="11">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    11</th>
                                            </ng-container>
                                            <ng-container matColumnDef="13">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    13</th>
                                            </ng-container>
                                            <ng-container matColumnDef="14">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    14</th>
                                            </ng-container>
                                            <ng-container matColumnDef="15">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    15</th>
                                            </ng-container>
                                            <ng-container matColumnDef="16">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    16</th>
                                            </ng-container>

                                            <!-- Main Header -->
                                            <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns"></tr>

                                            <!-- Number Header -->
                                            <tr mat-header-row class="unsetHeight"
                                                *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13']">
                                            </tr>
                                            <!-- Data Fetch From .TS File to table -->
                                            <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns;">
                                            </tr>
                                            <!-- Footer Section -->
                                            <tr mat-footer-row *matFooterRowDef="displayedAttachmentColumns"></tr>
                                        </table>
                                        <!-- Table Section Ends -->
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- State Tab -->
                            <mat-tab label="State" *ngIf="showState">
                                <div style="width: 100%; overflow: auto;">
                                    <div class="expenditure-estimate-work-in-progress">
                                        <table mat-table aria-describedby="stateTable"
                                            [dataSource]="dataSourceWorkInProgress">
                                            <ng-container matColumnDef="districtId">
                                                <th mat-header-cell *matHeaderCellDef scope="row">District Id</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" [value]="element.districtId"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef>Total</td>
                                            </ng-container>

                                            <ng-container matColumnDef="districtName">
                                                <th mat-header-cell *matHeaderCellDef scope="row">District Name</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input"
                                                            [value]="element.districtName" readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="workId">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Workd Id</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" [value]="element.workId"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="workNo">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Item No.</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" [value]="element.workNo"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="workName">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Work Description</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="leftAlign">
                                                        <input matInput placeholder="Input" [value]="element.workName"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="val1">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Amount of Sanctioned
                                                    Estimates</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val1"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val1')" [value]="element.val1"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcAmtSanc() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val2">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Last year actual
                                                    expenditure 2017-2018</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val2"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val2')" [value]="element.val2"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcActExpen() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val3">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Total Progressive
                                                    Expenditure upto the End of the last year 2017-2018
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val3"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val3')" [value]="element.val3"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotProg() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val4">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Budget provision for
                                                    the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val4"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val4')" [value]="element.val4"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcBudEst() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val5">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Actual for the first
                                                    four months of the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val5"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val5')" [value]="element.val5"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcActFourMon() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val6">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Probably expenditure
                                                    for the last eight months of the
                                                    current year 2018-2019
                                                </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.val6"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val6')" [value]="element.val6"
                                                            readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcExpEightMonth() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="val7">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Total probable
                                                    expenditure for the current year 2018-2019</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput
                                                            [value]="(element.val5 - 0) + (element.val6 - 0) | number:'1.2-2'"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'val7')" readonly>
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotFourEight() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="total">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Provision proposed for
                                                    2019-2020</th>
                                                <!-- <td mat-cell *matCellDef="let element">                                          
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Input" [value]="element.val7">
                                                    </mat-form-field>
                                                </td> -->
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right"
                                                        [ngStyle]="{'width': '70%'}">
                                                        <input matInput placeholder="Input" [(ngModel)]="element.total"
                                                            (keypress)="decimalKeyPress($event)"
                                                            (blur)="decimalPoint(element,'total')"
                                                            [value]="element.total" readonly>
                                                    </mat-form-field>
                                                    <i class="material-icons btn-history" title="View History"
                                                        (click)="openHistory(element)">history</i>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                                                    {{calcTotal() | number : '1.2-2'}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="css">
                                                <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Enter CSS Here"
                                                            [value]="element.css">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="remarks">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <mat-form-field floatLabel="never" class="rightAllign text-right">
                                                        <input matInput placeholder="Enter Remarks Here"
                                                            [value]="element.remarks">
                                                    </mat-form-field>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="action">
                                                <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                                <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                                    <table class="iconTable">
                                                        <tbody>
                                                            <tr>
                                                                <!-- <td width="30">
                                                                    <i aria-hidden="true" class="material-icons plus"
                                                                        *ngIf="dataSourceWorkInProgress && dataSourceWorkInProgress.data && (i == dataSourceWorkInProgress.data.length - 1)"
                                                                        (click)="addRecord()">
                                                                        add
                                                                    </i>
                                                                </td> -->
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus edit"
                                                                        title="Edit">edit</i>
                                                                </td>
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus view-icon"
                                                                        title="View">remove_red_eye</i>
                                                                </td>
                                                                <td width="30">
                                                                    <i aria-hidden="true"
                                                                        class="material-icons plus delete"
                                                                        *ngIf="dataSourceWorkInProgress && dataSourceWorkInProgress.data && dataSourceWorkInProgress.data.length > 1"
                                                                        (click)="deleteRecord(i)">
                                                                        delete
                                                                    </i>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td mat-footer-cell *matFooterCellDef></td>
                                            </ng-container>

                                            <ng-container matColumnDef="1">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="2">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="3">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="4">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="5">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="6">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="7">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="8">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="9">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9
                                                </th>
                                            </ng-container>
                                            <ng-container matColumnDef="10">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    10</th>
                                            </ng-container>
                                            <ng-container matColumnDef="12">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    12</th>
                                            </ng-container>
                                            <ng-container matColumnDef="11">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    11</th>
                                            </ng-container>
                                            <ng-container matColumnDef="13">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    13</th>
                                            </ng-container>
                                            <ng-container matColumnDef="14">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    14</th>
                                            </ng-container>
                                            <ng-container matColumnDef="15">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    15</th>
                                            </ng-container>
                                            <ng-container matColumnDef="16">
                                                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">
                                                    16</th>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns"></tr>

                                            <tr mat-header-row class="unsetHeight"
                                                *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13']">
                                            </tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns;"></tr>
                                            <tr mat-footer-row *matFooterRowDef="displayedAttachmentColumns"></tr>
                                        </table>


                                    </div>
                                </div>
                            </mat-tab>
                        </mat-tab-group>
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                            <button type="submit" mat-raised-button color="primary">
                                <i class="material-icons" aria-hidden="true" title="Save">
                                    save
                                </i>
                                Save
                            </button>
                            <button mat-raised-button type="submit" class="green" (click)="submitToNextLevel()">
                                <i class="material-icons" aria-hidden="true">
                                    done
                                </i> Submit
                            </button>
                            <button type="reset" mat-raised-button color="accent">
                                <i class="material-icons" aria-hidden="true">
                                    restore
                                </i>
                                Reset
                            </button>
                            <button type="button" (click)="gotoListing()" mat-raised-button color="warn">
                                <i class="material-icons" aria-hidden="true" title="Listing">
                                    list
                                </i>
                                Listing
                            </button>
                            <button type="button" mat-raised-button class="btnClose">
                                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                                    close
                                </i>
                                Close
                            </button>
                            <button class="back-button" type="button" mat-raised-button (click)="goBack()">
                                <i class="material-icons">
                                    keyboard_return
                                </i>
                                Back
                            </button>
                        </div>

                    </mat-tab>
                    <!-- Attachments -->
                    <mat-tab label="Attachments">
                        <!-- Table Section Starts -->
                        <table mat-table aria-describedby="attachmentTable" [dataSource]="dataSourceBrowse" width="100%"
                            id="browseTable">
                            <!-- Sr. No. -->
                            <ng-container matColumnDef="position">
                                <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                                <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                    {{ i + 1 }}
                                </td>
                            </ng-container>
                            <!-- Attachment Type -->
                            <ng-container matColumnDef="dropdown">
                                <th mat-header-cell *matHeaderCellDef scope="row"><b>Attachment Type</b></th>
                                <td mat-cell *matCellDef="let item;let i = index;">
                                    <mat-select placeholder="Attachment Type" #singleSelect1 required
                                        [(ngModel)]="item.dropDown">
                                        <mat-option value="">Select Attachment Type</mat-option>
                                        <mat-option *ngFor="let FY of attachment_type" [value]="FY.value">
                                            {{FY.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </td>
                            </ng-container>
                            <!-- File name -->
                            <ng-container matColumnDef="fileName">
                                <th mat-header-cell *matHeaderCellDef scope="row"><b>File name</b></th>
                                <td mat-cell *matCellDef="let item">
                                    <mat-form-field floatLabel="never">
                                        <input matInput [value]="item.name" [(ngModel)]="item.name">
                                    </mat-form-field>
                                </td>
                            </ng-container>
                            <!-- Browse File -->
                            <ng-container matColumnDef="browse">
                                <th mat-header-cell *matHeaderCellDef scope="row"><b>Browse File</b></th>
                                <td mat-cell *matCellDef="let i = index">
                                    <button type="button" class="btn-browse" (click)="openFileSelector(i)">Browse
                                        Files</button>
                                </td>
                            </ng-container>
                            <!-- Uploaded file name -->
                            <ng-container matColumnDef="uploadedFileName">
                                <th mat-header-cell *matHeaderCellDef scope="row"><b>Uploaded file name</b></th>
                                <td mat-cell *matCellDef="let item">
                                    <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
                                </td>
                            </ng-container>

                            <!-- Uploaded By -->
                            <ng-container matColumnDef="uploadedBy">
                                <th mat-header-cell *matHeaderCellDef scope="row">Uploaded By</th>
                                <td mat-cell *matCellDef="let item">
                                    <mat-label>Mr. Pratik Shah</mat-label>
                                </td>
                            </ng-container>

                            <!-- Action -->
                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef scope="row"><b>Action</b></th>
                                <td mat-cell *matCellDef="let item; let i = index">
                                    <table class="iconTable">
                                        <tbody>
                                            <tr>
                                                <td width="30">
                                                    <i aria-hidden="true" class="material-icons plus"
                                                        *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i == dataSourceBrowse.data.length - 1)"
                                                        (click)="addBrowse()">
                                                        add
                                                    </i>
                                                </td>
                                                <td width="30">
                                                    <i aria-hidden="true" class="material-icons plus delete"
                                                        *ngIf="dataSourceBrowse && dataSourceBrowse.data && dataSourceBrowse.data.length > 1"
                                                        (click)="deleteBrowse(i)">
                                                        delete
                                                    </i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </ng-container>
                            <!-- Header Section -->
                            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
                            <!-- Data Fetch From .TS File to table -->
                            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
                        </table>
                        <!-- Table Section Ends -->
                        <input type="file" id="fileBrowse" style="visibility: hidden;"
                            (change)="onFileSelection($event)" />

                        <div class="legend">
                            1. Total File size should be under 2MB<br> 2. File type supported are: 'jpg', 'jpeg', 'png',
                            'pdf', JPG’,
                            ‘JPEG’, ‘PNG’, ‘PDF’.
                        </div>
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                            <button type="submit" mat-raised-button color="primary">
                                <i class="material-icons" aria-hidden="true" title="Save">
                                    save
                                </i>
                                Upload
                            </button>
                            <button (click)="gotoListing()" type="button" mat-raised-button color="warn">
                                <i class="material-icons" aria-hidden="true" title="Listing">
                                    list
                                </i>
                                Listing
                            </button>
                            <button class="btnClose" type="button" mat-raised-button>
                                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                                    close
                                </i>
                                Close
                            </button>
                            <button class="back-button" type="button" mat-raised-button (click)="goBack()">
                                <i class="material-icons">
                                    keyboard_return
                                </i>
                                Back
                            </button>
                        </div>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
</div>