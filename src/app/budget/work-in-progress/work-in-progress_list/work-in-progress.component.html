<div class="container-fluid">
  <div class="form-wrapper">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Budget</a></li>
        <li class="breadcrumb-item"><a href="#">Expenditure Estimate</a></li>
        <li class="breadcrumb-item active" aria-current="page">Update Estimate - Correction</li>
      </ol>
    </nav>
    <div class="heading-section ng-star-inserted text-center">
      Search Estimates
    </div>
    <div>
      <div #parentGrids>
        <div class="form-datatable-list">
          <form class="col-sm-12" [formGroup]="searchEstimateForm">
            <div class="row">
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="financialYear" placeholder="Financial Year" #singleSelect1>
              
                    <mat-option>
                      <ngx-mat-select-search [formControl]="financialYearCtrl" [placeholderLabel]="'Find Financial Year...'"
                        [noEntriesFoundLabel]="'no matching financial year found'">
                      </ngx-mat-select-search>
                    </mat-option>
              
                    <mat-option *ngFor="let finYear of filteredFinancialYear | async" [value]="finYear.value">
                      {{finYear.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="department" placeholder="Department" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="departmentCtrl"
                        [placeholderLabel]="'Find Department...'"
                        [noEntriesFoundLabel]="'no matching department found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let department of filteredDepartment | async" [value]="department.value">
                      {{department.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="estimationForm" placeholder="Estimation Form" #singleSelect1>
              
                    <mat-option>
                      <ngx-mat-select-search [formControl]="estimationCtrl" [placeholderLabel]="'Find Estimation Form...'"
                        [noEntriesFoundLabel]="'no matching estimation form found'">
                      </ngx-mat-select-search>
                    </mat-option>
              
                    <mat-option *ngFor="let esForm of filteredEstimation | async" [value]="esForm.value">
                      {{esForm.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="branchName" placeholder="Branch Name" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="branchCtrl" [placeholderLabel]="'Find Branch...'"
                        [noEntriesFoundLabel]="'no matching branch found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let branch of filteredBranch | async" [value]="branch.value">
                      {{branch.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="demand" placeholder="Demand" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                        [noEntriesFoundLabel]="'no matching demand found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let demand of filteredDemand | async" [value]="demand.value">
                      {{demand.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="majorHead" placeholder="Major Head" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="majorHeadCtrl" [placeholderLabel]="'Find Majo Head...'"
                        [noEntriesFoundLabel]="'no matching major head found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option matTooltip="{{majHead.viewValue}}" *ngFor="let majHead of filteredMajorHead | async" [value]="majHead.value">
                      {{majHead.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                        [placeholderLabel]="'Find Sub Major Head...'"
                        [noEntriesFoundLabel]="'no matching sub major head found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let subMajHead of filteredSubMajorHead | async" [value]="subMajHead.value">
                      {{subMajHead.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="minorHead" placeholder="Minor Head" #singleSelect1>

                    <mat-option>
                      <ngx-mat-select-search [formControl]="minorHeadCtrl" [placeholderLabel]="'Find minor head...'"
                        [noEntriesFoundLabel]="'no matching minor head found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let minorHead of filteredMinorHead | async" [value]="minorHead.value">
                      {{minorHead.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="formType" placeholder="Form Type" #singleSelect1>
                    <mat-option *ngFor="let form of form_list" [value]="form.value">
                      {{form.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </form>
        </div>
        <div class="search-result text-center">
          <div style="margin-bottom: 10px;">Select Values and Search to view Estimates</div>
          <button [disabled]="searchEstimateForm.invalid" type="submit" mat-raised-button color="primary" style="margin-right: 10px;">
            Search
          </button>
          <button disabled type="button" (click)="goToNext()" mat-raised-button color="primary" style="margin-right: 10px;">
            Delete
          </button>
          <button routerLink="../work-in-progress-estimate" type="submit" mat-raised-button color="primary" style="margin-right: 10px;">
            Create Estimate
          </button>
          <button disabled type="submit" mat-raised-button color="primary">
            Create Correction
          </button>
        </div>
      </div>
    </div>
  </div>
</div>