<div cdkDrag ngResizable id="history-section" cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: grab;">
  <div class="history-table-list">
    <table mat-table [dataSource]="mergedDataSource" class="mat-elevation-z8 historyDataSource">
      <ng-container matColumnDef="mCheckbox">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox [checked]="mCheckbox" [(ngModel)]="mCheckbox" title="Select All"
            (change)="selectMergedAll()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox [value]="element.mCheckbox" [checked]="element.mCheckbox"
            [(ngModel)]="element.mCheckbox" title="Select" (change)="checkboxMergeValueChange()">
          </mat-checkbox>
        </td>
      </ng-container>
      <ng-container matColumnDef="mDdoName">
        <th mat-header-cell *matHeaderCellDef>DDO Name</th>
        <td mat-cell *matCellDef="let element"> {{element.mDdoName}} </td>
      </ng-container>
      <ng-container matColumnDef="mItemCategory">
        <th mat-header-cell *matHeaderCellDef>Item Category</th>
        <td mat-cell *matCellDef="let element"> {{element.mItemCategory}} </td>
      </ng-container>
      <ng-container matColumnDef="mItemName">
        <th mat-header-cell *matHeaderCellDef>Item Name</th>
        <td mat-cell *matCellDef="let element"> {{element.mItemName}} </td>
      </ng-container>
      <ng-container matColumnDef="mWriteUpEn">
        <th mat-header-cell *matHeaderCellDef>Write-up (En-Gj)</th>
        <td mat-cell *matCellDef="let element" class="centerAlign">
          <i class="material-icons rotate-90 writeup" (click)="openBottomSheet()">
            swap_vertical_circle
          </i>
        </td>
      </ng-container>
      <!-- <ng-container matColumnDef="mWriteUpGj">
        <th mat-header-cell *matHeaderCellDef>Write-up (Gj)</th>
        <td mat-cell *matCellDef="let element"> {{element.mWriteUpGj}} </td>
      </ng-container> -->
      <ng-container matColumnDef="mDdoProposedAmt">
        <th mat-header-cell *matHeaderCellDef>Proposed Amount by DDO</th>
        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.mDdoProposedAmt | number : '1.2-2'}} </td>
      </ng-container>
      <ng-container matColumnDef="mDdoReferenceNo">
        <th mat-header-cell *matHeaderCellDef>Reference No.</th>
        <td mat-cell *matCellDef="let element"> {{element.mDdoReferenceNo}} </td>
      </ng-container>
      <ng-container matColumnDef="mDdoTransactionDate">
        <th mat-header-cell *matHeaderCellDef>Transaction Date</th>
        <td mat-cell *matCellDef="let element"> {{element.mDdoTransactionDate}} </td>
      </ng-container>
      <ng-container matColumnDef="mStatus">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element"> {{element.mStatus}} </td>
      </ng-container>
      
      <tr mat-header-row *matHeaderRowDef="mergedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: mergedColumns;"></tr>
    </table>
    <div class="form-action-button">
      <!-- <button mat-raised-button color="primary" [disabled]="!istransferBranch" (click)="transferToBranch(element)">
        <i class="material-icons" aria-hidden="true">
          launch
        </i>
        Transfer To Other Branch
      </button> -->
      <button mat-raised-button color="primary" [disabled]="!isUnMergeEnable" (click)="mergeRecord()">
        <i class="material-icons" aria-hidden="true" title="Un Merged Items">
          device_hub
        </i>
        Un-Consolidate Items
      </button>
      <!-- <button mat-button (click)="goToNewItemConsolidation()" mat-raised-button color="primary" class="back-button">
        <mat-icon aria-label="icon-button">
          keyboard_return
        </mat-icon>
        Back
      </button> -->
    </div>
  </div>  
</div>