<div class="container">
  <div class="form-wrapper">
 
         <div class="heading-section ng-star-inserted">
                 <div>Scheme Type Mapping</div>
          </div>
 
                 <nav aria-label="breadcrumb">
                     <ol class="breadcrumb">
                         <li class="breadcrumb-item"><a href="#">Home</a></li>
                         <li class="breadcrumb-item"><a href="#">Budget</a></li>
                         <li class="breadcrumb-item active" aria-current="page">Scheme Type Mapping</li>
                     </ol>
                 </nav>
          
                 <div class="panel-group">               

                          <div class="box box-primary">
                              <div class="box-header">Scheme Type Mapping</div>
                              <div class="box-body">
                                <!-- Scheme Type Mapping Entry Section Starts-->
                                  <form [formGroup]="schemeForm" >
                                    <div class="row">
                                        <div class="col-sm-3">                                            
                                            <mat-form-field class="full-width" >
                                              <mat-select formControlName="fYear" placeholder="Financial Year" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="fYearCtrl" [placeholderLabel]="'Find Demand...'" [noEntriesFoundLabel]="'no matching Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let fYear of fYear_list | filterSelectInput: fYearCtrl.value" 
                                                matTooltip="{{fYear.viewValue}}" [value]="fYear.value">
                                                    {{fYear.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper" *ngIf="schemeForm.controls.fYear.touched && (schemeForm.controls.fYear.errors)">
                                              <mat-error *ngIf="schemeForm.controls.fYear.errors.required">
                                                  {{errorMessages.FIN_YEAR}}
                                              </mat-error>
                                            </div>
                                            </mat-form-field>
                                        </div>                                        
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width" >
                                              <mat-select formControlName="dept" placeholder="Department" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="deptCtrl" [placeholderLabel]="'Find Demand...'" [noEntriesFoundLabel]="'no matching Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let dept of dept_list | filterSelectInput: deptCtrl.value" 
                                                matTooltip="{{dept.viewValue}}" [value]="dept.value">
                                                    {{dept.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper" *ngIf="schemeForm.controls.dept.touched && (schemeForm.controls.dept.errors)">
                                              <mat-error *ngIf="schemeForm.controls.dept.errors.required">
                                                  {{errorMessages.DEPARTMENT}}
                                              </mat-error>
                                            </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">                                         
                                          <mat-form-field class="full-width" >
                                            <mat-select formControlName="demand" placeholder="Demand" required>
                                              <mat-option>
                                                  <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'" [noEntriesFoundLabel]="'no matching Type found'">
                                                  </ngx-mat-select-search>
                                              </mat-option>
                                              <mat-option *ngFor="let demand of demand_list | filterSelectInput: demandCtrl.value" 
                                              matTooltip="{{demand.viewValue}}" [value]="demand.value">
                                                  {{demand.viewValue}}
                                              </mat-option>
                                          </mat-select>
                                          <div class="error-wrapper" *ngIf="schemeForm.controls.demand.touched && (schemeForm.controls.demand.errors)">
                                            <mat-error *ngIf="schemeForm.controls.demand.errors.required">
                                                {{errorMessages.DEMAND}}
                                            </mat-error>
                                          </div>
                                          </mat-form-field>
                                      </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                              <mat-select formControlName="mHead" placeholder="Major Head" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="mHeadCtrl" [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let mHead of mHead_list | filterSelectInput: mHeadCtrl.value" 
                                                matTooltip="{{mHead.viewValue}}" [value]="mHead.value">
                                                    {{mHead.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                            <div class="error-wrapper" *ngIf="schemeForm.controls.mHead.touched && (schemeForm.controls.mHead.errors)">
                                              <mat-error *ngIf="schemeForm.controls.mHead.errors.required">
                                                  {{errorMessages.MAJOR_HEAD}}
                                              </mat-error>
                                            </div>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                  </form>
                                <!-- Scheme Type Mapping Entry Section Ends-->
                              </div>

                              <!-- Action Buttons -->
                                <div class="form-action-button">
                                    <button (click)="afterSearch()" type="submit" mat-raised-button color="primary" > 
                                        <i class="material-icons" aria-hidden="true">search</i>
                                        Search
                                    </button>

                                    <button type="reset" mat-raised-button color="accent" (click)="clearForm();">
                                        <i class="material-icons" aria-hidden="true">  restore </i>
                                        Reset
                                    </button>
                                </div>
                          </div>
                          
                          <div class="mat-elevation-z8 " *ngIf="showTable">
                            <!-- Table Section Starts -->                    
                              <table mat-table aria-describedby="schemeTypeMapTable" [dataSource]="dataSource" width="100%" matSort>

                                <!-- Sr. No. -->
                                  <ng-container matColumnDef="position">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Sr. No.</th>
                                      <td mat-cell *matCellDef="let element;let i = index;" class="centerAlign"> {{element.position}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="bhNormal">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Budget Head (Normal)</th>

                                      
                                      <td mat-cell  *matCellDef="let element;let i = index;">
                                              {{element.bhNormal1}}
                                        </td>
                                      
                                  </ng-container>

                                  <!-- Budget Head (TASP) -->
                                  <ng-container matColumnDef="bhTasp">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Budget Head (TASP)</th>

                                      <td mat-cell  *matCellDef="let element;let i = index;">
                                        <div *ngIf="i===0">
                                          <div *ngIf="!showVal3">  
                                            <a (click)="mappingFunc3()">{{element.bhTasp}} </a>
                                            </div>
                                            <div *ngIf="showVal3">
                                              {{element.bhTasp1}}
                                            </div>
                                        </div>
                                        <div *ngIf="i===1">
                                          <div *ngIf="!showVal4">  
                                            <a (click)="mappingFunc4()">{{element.bhTasp}} </a>
                                            </div>
                                            <div *ngIf="showVal4">
                                              {{element.bhTasp1}}
                                            </div>
                                        </div>
                                        </td>

                                  </ng-container>

                                  <!-- Budget Head (SCSP) -->
                                  <ng-container matColumnDef="bhScsp">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Budget Head (SCSP)</th>

                                      <td mat-cell  *matCellDef="let element;let i = index;">
                                        <div *ngIf="i===0">
                                          <div *ngIf="!showVal5">  
                                            <a (click)="mappingFunc5()">{{element.bhScsp}} </a>
                                            </div>
                                            <div *ngIf="showVal5">
                                              {{element.bhScsp1}}
                                            </div>
                                        </div>
                                        <div *ngIf="i===1">
                                          <div *ngIf="!showVal6">  
                                            <a (click)="mappingFunc6()">{{element.bhScsp}} </a>
                                            </div>
                                            <div *ngIf="showVal6">
                                              {{element.bhScsp1}}
                                            </div>
                                        </div>
                                        </td>

                                  </ng-container>

                                  <!-- Budget Head (Works) -->
                                  <ng-container matColumnDef="bhWorks">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Budget Head (Works)</th>

                                      <td mat-cell  *matCellDef="let element;let i = index;">
                                        <div *ngIf="i===0">
                                          <div *ngIf="!showVal7">  
                                            <a (click)="mappingFunc7()">{{element.bhWorks}} </a>
                                            </div>
                                            <div *ngIf="showVal7">
                                              {{element.bhWorks1}}
                                            </div>
                                        </div>
                                        <div *ngIf="i===1">
                                          <div *ngIf="!showVal8">  
                                            <a (click)="mappingFunc8()">{{element.bhWorks}} </a>
                                            </div>
                                            <div *ngIf="showVal8">
                                              {{element.bhWorks1}}
                                            </div>
                                        </div>
                                        </td>

                                  </ng-container>                  

                                  <!-- Budget Head (Earth Quake) -->
                                  <ng-container matColumnDef="bhEarthQuake">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Budget Head (Earth Quake)</th>

                                      <td mat-cell  *matCellDef="let element;let i = index;">
                                        <div *ngIf="i===0">
                                          <div *ngIf="!showVal9">  
                                            <a (click)="mappingFunc9()">{{element.bhEarthQuake}} </a>
                                            </div>
                                            <div *ngIf="showVal9">
                                              {{element.bhEarthQuake1}}
                                            </div>
                                        </div>
                                        <div *ngIf="i===1">
                                          <div *ngIf="!showVal10">  
                                            <a (click)="mappingFunc10()">{{element.bhEarthQuake}} </a>
                                            </div>
                                            <div *ngIf="showVal10">
                                              {{element.bhEarthQuake1}}
                                            </div>
                                        </div>
                                        </td>
                                  </ng-container>                  

                                  <!-- Action -->
                                  <ng-container matColumnDef="action">
                                      <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Action</th>
                                      <td mat-cell *matCellDef="let element;let i = index;" class="centerAlign"> 
                                        <a (click)="mappingFunc()"><i class="material-icons plus edit-icon"
                                          title="Edit"> edit </i></a>  
                                      </td>
                                  </ng-container>

                                  <!-- Header Section Of table -->
                                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                  <!-- Data Fetch From .TS File to table -->
                                  <tr mat-row *matRowDef="let row; let i = index;columns: displayedColumns;" ></tr>
                              </table>
                              <!-- Table Section Ends -->
                              <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                          </div>
                  </div>

  </div>
</div>
