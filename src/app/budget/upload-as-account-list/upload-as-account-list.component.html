<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted">
            <div>Upload AG Accounts List
            </div>
        </div>

        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Budget</a></li>
            <li class="breadcrumb-item active">Upload AG Accounts List</li>
          </ol>
        </nav>
        <!-- Search Section Starts-->
        <mat-accordion class="search-accordian">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <div class="heading-section">
                        Search
                    </div>
                </mat-expansion-panel-header>
                <div class=" form-datatable-list">
                    <form class="col-sm-12" [formGroup]="uplaodAccountlistForm" (ngSubmit)="saveuploadAccount()">
                        <div class="row">

                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="financialYear" placeholder="Financial Year">
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="finYearCtrl" [placeholderLabel]="'Find Financial Year...'" [noEntriesFoundLabel]="'no matching Financial Year found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option>-- None --</mat-option>
                                        <mat-option *ngFor="let finYear of finYear_list | filterSelectInput: finYearCtrl.value" [value]="finYear.value">
                                            {{finYear.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            
                            <div class="col-sm-3">
                                <mat-form-field>
                                    <mat-select formControlName="bpnCode" #bpnVal placeholder="BPN Code">
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="bpnCodeCtrl" [placeholderLabel]="'Find BPN Code...'" [noEntriesFoundLabel]="'no matching BPN Code found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option>-- None --</mat-option>
                                        <mat-option *ngFor="let bpn of bpnList| filterSelectInput:bpnCodeCtrl.value" matTooltip="{{bpn.viewValue}}"
                                         [value]="bpn.value">
                                            {{bpn.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-sm-3" *ngIf="bpnVal.value=='1'">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="accountType" placeholder="Type of Accounts">
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="accountTypeCtrl" [placeholderLabel]="'Find Type Of Accounts...'" [noEntriesFoundLabel]="'no matching Type Of Accounts found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option>-- None --</mat-option>
                                        <mat-option *ngFor="let account of accountTypeList| filterSelectInput:accountTypeCtrl.value" [value]="account.value">
                                            {{account.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-sm-3" *ngIf="bpnVal.value!=null && bpnVal.value!='1'">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="accountType2" placeholder="Type of Accounts">
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="accountTypeCtrl2" [placeholderLabel]="'Find Type Of Accounts...'"
                                             [noEntriesFoundLabel]="'no matching Type Of Accounts found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option>-- None --</mat-option>
                                        <mat-option *ngFor="let account of accountTypeList2| filterSelectInput:accountTypeCtrl2.value"
                                         [value]="account.value">
                                            {{account.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                        </div>
                    </form>
                </div>
                <!-- Action Buttons -->
                <div class="form-action-button">
                    <button type="submit" mat-raised-button color="primary">
                    <i class="material-icons" aria-hidden="true" title="search">search</i>
                    Search
                </button>
                    <button type="reset" mat-raised-button color="accent" (click)="clearForm();">
                    <i class="material-icons" aria-hidden="true" title="reset">
                        restore
                    </i>
                    Reset
                </button>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
        <!-- Search Section Ends-->

        <div class="mat-elevation-z8 mt-2">
            <!-- Table Section Starts -->
            <table mat-table [dataSource]="dataSource" aria-describedby="uplaodaccount" aria-describedby="upAccountlaodlist">

                <!-- Sr. No. -->
                <ng-container matColumnDef="srNO">
                    <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                    <td mat-cell *matCellDef="let element;let i= index;" class="centerAlign">
                        {{ i + 1}}
                    </td>
                </ng-container>

                <!-- Financal Year -->
                <ng-container matColumnDef="financialYear">
                    <th mat-header-cell *matHeaderCellDef scope="row">Financal Year</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.financialYear}}
                    </td>
                </ng-container>

                <!-- Department -->
                <ng-container matColumnDef="department">
                    <th mat-header-cell *matHeaderCellDef scope="row">Department</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.department}}
                    </td>
                </ng-container>

                <!-- BPN code -->
                <ng-container matColumnDef="bpnCode">
                    <th mat-header-cell *matHeaderCellDef scope="row">BPN code</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.bpnCode}}
                    </td>
                </ng-container>

                <!-- Type of Account -->
                <ng-container matColumnDef="accType">
                    <th mat-header-cell *matHeaderCellDef scope="row">Type of Account</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.accType}}
                    </td>
                </ng-container>

                <!-- Status -->
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef scope="row">Status</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.status}}
                    </td>
                </ng-container>

                <!-- action -->
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                        <a [routerLink]="'../upload-ag-accounts'">
                            <i class="material-icons plus edit-icon mr-2" title="Edit" aria-hidden="true">
                        edit
                    </i></a>
                        <a class="delete-icon"><i 
                             class="material-icons plus delete mr-2" title="delete" aria-hidden="true">delete</i></a>
                    </td>
                </ng-container>
                <!-- Header Section Of table -->
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <!-- Data Fetch From .TS File to table -->
                <tr mat-row *matRowDef="let row; columns: displayedColumns;let i= index;"></tr>
            </table>
            <!-- Table Section Ends -->
            <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
        </div>
    </div>
</div>