<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted">
            <div>New Item Estimate List
            </div>
        </div>
        <div class="row header-detail" *ngIf="isConsolidateVisible">
            <div class="col-sm-6 colPadding" *ngFor="let item of headerJson">
                <div class="col-sm-4 labelCSS">{{item.label}}<span class="floatRight">:</span></div>
                <div class="col-sm-8 paddingUnset">{{item.value}}</div>
            </div>
        </div>

        <mat-accordion class="search-accordian" *ngIf="isSchemeListVisible">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                    <div class="heading-section">
                        Search New Item Estimate
                    </div>
                </mat-expansion-panel-header>
                <div class=" form-datatable-list">
                    <form class="col-sm-12" [formGroup]="searchListForm" (ngSubmit)="saveEstimate()">
                        <div class="row">
                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="finYear" placeholder="Financial Year" #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="finYearCtrl"
                                                [placeholderLabel]="'Find Financial Year...'"
                                                [noEntriesFoundLabel]="'no matching Financial Year found'">
                                            </ngx-mat-select-search>
                                        </mat-option>

                                        <mat-option *ngFor="let FY of filteredFinYear | async" [value]="FY.value">
                                            {{FY.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="departmentCode" placeholder="Department"
                                        #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                                                [placeholderLabel]="'Find Department...'"
                                                [noEntriesFoundLabel]="'no matching Department found'">
                                            </ngx-mat-select-search>
                                        </mat-option>

                                        <mat-option *ngFor="let department of filteredDepartmentCode | async"
                                            [value]="department.value">
                                            {{department.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>


                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="demandCode" placeholder="Demand" #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="demandCodeCtrl"
                                                [placeholderLabel]="'Find Demand Code...'"
                                                [noEntriesFoundLabel]="'no matching Demand Code found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let demand of filteredDemandCode | async"
                                            [value]="demand.value"
                                            matTooltip="{{demand.viewValue}}">
                                            {{demand.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="majorHeadCode" placeholder="Major Head" #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="majorHeadCodeCtrl"
                                                [placeholderLabel]="'Find Major Head...'"
                                                [noEntriesFoundLabel]="'no matching Major Head found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option matTooltip="{{majorhead.viewValue}}" *ngFor="let majorhead of filteredMajorHeadCode | async"
                                            [value]="majorhead.value">
                                            {{majorhead.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="subMajorHeadCode" placeholder="Sub Major Head"
                                        #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="subMajorHeadCodeCtrl"
                                                [placeholderLabel]="'Find Sub Major Head...'"
                                                [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let submajorhead of filteredSubMajorHeadCode | async"
                                            [value]="submajorhead.value"
                                            matTooltip="{{submajorhead.viewValue}}">
                                            {{submajorhead.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3">
                                <mat-form-field class="full-width">
                                    <mat-select formControlName="minorHeadCode" placeholder="Minor Head" #singleSelect1>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="minorHeadCodeCtrl"
                                                [placeholderLabel]="'Find Minor Head...'"
                                                [noEntriesFoundLabel]="'no matching Minor Head found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
                                        <mat-option *ngFor="let minorhead of filteredMinorHeadCode | async"
                                            [value]="minorhead.value"
                                            matTooltip="{{minorhead.viewValue}}">
                                            {{minorhead.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                        </div>
                    </form>
                </div>
                <div class="row displayBlock form-action-button">
                    <div class="centerAlign">
                        <button type="submit" mat-raised-button color="primary">
                            <i class="material-icons" aria-hidden="true">search</i>
                            Search
                        </button>
                        <button type="reset" mat-raised-button color="accent" (click)="clearForm();">
                            <i class="material-icons" aria-hidden="true">
                                restore
                            </i>
                            Reset
                        </button>
                    </div>

                </div>
            </mat-expansion-panel>
        </mat-accordion>

        <div class="mat-elevation-z8 mt-2" *ngIf="isSchemeListVisible">
            <table mat-table [dataSource]="dataSource" aria-describedby="newItemEstimateTable" width="100%" matSort>
                <div class="rsClass"> (â‚¹ in Lakhs) </div>
                <ng-container matColumnDef="position">
                    <div style="width: 10%;">
                        <th mat-header-cell *matHeaderCellDef scope="row">Sr No.</th>
                        <td mat-cell *matCellDef="let element" class="centerAlign"> {{element.position}} </td>
                    </div>
                </ng-container>

                <ng-container matColumnDef="finYear">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Financial Year</th>
                    <td mat-cell *matCellDef="let element"> {{element.finYear}} </td>
                </ng-container>

                <ng-container matColumnDef="demand">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Demand </th>
                    <td mat-cell *matCellDef="let element"> {{element.demand}} </td>
                </ng-container>

                <ng-container matColumnDef="majorHead">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Major Head </th>
                    <td mat-cell *matCellDef="let element"> {{element.majorHead}} </td>
                </ng-container>

                <ng-container matColumnDef="subMajorHead">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Sub Major Head </th>
                    <td mat-cell *matCellDef="let element"> {{element.subMajorHead}} </td>
                </ng-container>

                <ng-container matColumnDef="minorHead">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Minor Head </th>
                    <td mat-cell *matCellDef="let element"> {{element.minorHead}} </td>
                </ng-container>

                <ng-container matColumnDef="subHead">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Sub Head </th>
                    <td mat-cell *matCellDef="let element"> {{element.subHead}} </td>
                </ng-container>

                <ng-container matColumnDef="detailHead">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Detail Head </th>
                    <td mat-cell *matCellDef="let element"> {{element.detailHead}} </td>
                </ng-container>

                <!-- <ng-container matColumnDef="itemName">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Item Name</th>
                    <td mat-cell *matCellDef="" class="bigtd">
                        <mat-selection-list #shoes>
                            <mat-list-option *ngFor="let shoe of typesOfShoes">
                                {{shoe}}
                            </mat-list-option>
                        </mat-selection-list>
                    </td>
                </ng-container> -->

                <ng-container matColumnDef="citemName">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Consolidate Item Name</th>
                    <td mat-cell *matCellDef="let element" class="intabdis align-top ">
                        <mat-list-item role="listitem">Construction-Bulding</mat-list-item>
                        <mat-list-item role="listitem">Bridge </mat-list-item>
                        <mat-list-item role="listitem">Road </mat-list-item>
                        <mat-list-item role="listitem">Office </mat-list-item>
                    </td>
                </ng-container>

                <ng-container matColumnDef="estimatedby">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>No Of DDO's</th>
                    <td mat-cell *matCellDef="let element" class="align-top ">
                        <mat-list role="list">
                            <mat-list-item role="listitem"><a href="#" class="hyper-link">2</a></mat-list-item>
                            <mat-list-item role="listitem">1</mat-list-item>
                            <mat-list-item role="listitem">1</mat-list-item>
                            <mat-list-item role="listitem">1</mat-list-item>
                        </mat-list>
                    </td>
                </ng-container>


                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Proposed Amount</th>
                    <td mat-cell *matCellDef="let element" class="align-top ">
                        <mat-list role="list">
                            <mat-list-item role="listitem">90</mat-list-item>
                            <mat-list-item role="listitem">30</mat-list-item>
                            <mat-list-item role="listitem">20</mat-list-item>
                            <mat-list-item role="listitem">20</mat-list-item>
                        </mat-list>
                    </td>
                </ng-container>

                <ng-container matColumnDef="proposeedamount">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Proposed Amount By HOD </th>
                    <td mat-cell *matCellDef="let element" class="align-top ">
                        <mat-list role="list">
                            <mat-list-item role="listitem" >
                                <mat-form-field class="example-full-width rightAlign" >
                                    <input matInput placeholder="" value="">
                                </mat-form-field>
                            </mat-list-item>

                            <mat-list-item role="listitem">
                                <mat-form-field class="example-full-width rightAlign ">
                                    <input matInput placeholder="" value="">
                                </mat-form-field>
                            </mat-list-item>

                            <mat-list-item role="listitem">
                                <mat-form-field class="example-full-width rightAlign">
                                    <input matInput placeholder="" value="">
                                </mat-form-field>
                            </mat-list-item>

                            <mat-list-item role="listitem">
                                <mat-form-field class="example-full-width rightAlign">
                                    <input matInput placeholder="" value="">
                                </mat-form-field>
                            </mat-list-item>

                            <mat-list-item role="listitem">
                                <mat-form-field class="example-full-width rightAlign">
                                    <input matInput placeholder="" value="">
                                </mat-form-field>
                            </mat-list-item>

                        </mat-list>
                    </td>
                </ng-container>

                <ng-container matColumnDef="refNo">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Reference No. </th>
                    <td mat-cell *matCellDef="let element"  class="align-top "> {{element.refNo}} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header> Status </th>
                    <td mat-cell *matCellDef="let element; let i = index;let row;">
                        {{element.status}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef scope="row"> Action </th>
                    <td mat-cell *matCellDef="let item" class="centerAlign">
                        <i class="material-icons plus view-icon" title="Detail View"
                            (click)="loadConsolidateDetailView(item)" *ngIf="item.refNo !== '-'">
                            remove_red_eye
                        </i>
                        <i class="material-icons plus edit-icon" title="Consolidate" *ngIf="item.refNo === '-'">
                            merge_type
                        </i>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; let i = index;columns: displayedColumns;"
                    [ngClass]="{'completed': (row.position==1 || row.position==2 || row.position==6 || row.position==7),'incomplete': (row.position!=1 || row.position!=2 || row.position!=6 || row.position!=7)}">
                </tr>
            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>

        <div *ngIf="isConsolidateVisible">
            <mat-tab-group mat-stretch-tabs class="standing-est-tabing" [selectedIndex]="selectedIndex"
                *ngIf="!isBreakupVisible">

                <mat-tab label="Form C Statement 1">
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table [dataSource]="dataSourceFormCStmt1" class="responsive-table">

                        <!-- Position Column -->
                        <ng-container matColumnDef="designationEng">
                            <th mat-header-cell *matHeaderCellDef scope="row">Designation(Eng)</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.designationEng}}
                            </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="noOfPosts">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Posts</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.noOfPosts | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="payScale">
                            <th mat-header-cell *matHeaderCellDef scope="row">Pay-Scale</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.payScale | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="designationGuj">
                            <th mat-header-cell *matHeaderCellDef scope="row">Designation(Guj)</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.designationGuj}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="1">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                        </ng-container>
                        <ng-container matColumnDef="2">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                        </ng-container>
                        <ng-container matColumnDef="3">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                        </ng-container>
                        <ng-container matColumnDef="4">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                        </ng-container>

                        <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4']">
                        </tr>

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormCStmt1"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormCStmt1;let i= index;"></tr>
                    </table>
                </mat-tab>

                <mat-tab label="Form C Statement 2">
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table [dataSource]="dataSourceFormCStmt2" class="responsive-table">

                        <!-- Position Column -->
                        <ng-container matColumnDef="objecthead">
                            <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                <div *ngIf="!element.isBreakup; else hyperLink">
                                    {{element.objecthead}}
                                </div>
                                <ng-template #hyperLink>
                                    <a class="hyper-link" (click)="viewBreakupC(element)">{{element.objecthead}}</a>
                                </ng-template>
                            </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="recurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.recurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="nonRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.nonRecurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="budgetEstimateNextYear">
                            <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.budgetEstimateNextYear}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.ultimateAnnualRecurrentAmount}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="remarks">
                            <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.remarks}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="1">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                        </ng-container>
                        <ng-container matColumnDef="2">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                        </ng-container>
                        <ng-container matColumnDef="3">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                        </ng-container>
                        <ng-container matColumnDef="4">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                        </ng-container>
                        <ng-container matColumnDef="5">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                        </ng-container>
                        <ng-container matColumnDef="6">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                        </ng-container>

                        <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                        </tr>

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormCStmt2"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormCStmt2;let i= index;"></tr>
                    </table>
                </mat-tab>

                <mat-tab label="Form F">
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table [dataSource]="dataSourceFormF" class="responsive-table">

                        <!-- Position Column -->
                        <ng-container matColumnDef="objecthead">
                            <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                <div *ngIf="!element.isBreakup; else hyperLink">
                                    {{element.objecthead}}
                                </div>
                                <ng-template #hyperLink>
                                    <a class="hyper-link" (click)="viewBreakupF(element)">{{element.objecthead}}</a>
                                </ng-template>
                            </td>

                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="recurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.recurrentAmount | number : '1.2-2'}}
                            </td>

                        </ng-container>

                        <ng-container matColumnDef="nonRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.nonRecurrentAmount | number : '1.2-2'}}
                            </td>

                        </ng-container>

                        <ng-container matColumnDef="budgetEstimateNextYear">
                            <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.budgetEstimateNextYear}}
                            </td>

                        </ng-container>

                        <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.ultimateAnnualRecurrentAmount}}
                            </td>

                        </ng-container>

                        <ng-container matColumnDef="remarks">
                            <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.remarks}}
                            </td>

                        </ng-container>

                        <ng-container matColumnDef="1">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                        </ng-container>
                        <ng-container matColumnDef="2">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                        </ng-container>
                        <ng-container matColumnDef="3">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                        </ng-container>
                        <ng-container matColumnDef="4">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                        </ng-container>
                        <ng-container matColumnDef="5">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                        </ng-container>
                        <ng-container matColumnDef="6">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                        </ng-container>

                        <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                        </tr>

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormF"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormF;let i= index;"></tr>
                        <!-- <tr mat-footer-row *matFooterRowDef="displayedColumnsFormF"></tr> -->
                    </table>
                </mat-tab>

                <mat-tab label="Attachment">
                    <table mat-table [dataSource]="dataSourceBrowse" width="100%" id="browseTable">

                        <ng-container matColumnDef="attachmentType">
                            <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
                            <td mat-cell *matCellDef="let item;let i = index;">
                                {{item.attachmentType}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="fileName">
                            <th mat-header-cell *matHeaderCellDef scope="row">File name</th>
                            <td mat-cell *matCellDef="let item">
                                {{item.fileName}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                            <td mat-cell *matCellDef="let item; let i = index">
                                <table class="iconTable">
                                    <tbody>
                                        <tr>
                                            <td width="30">
                                                <i class="material-icons plus view-icon" (click)="view()" title="view">
                                                    visibility
                                                </i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
                    </table>
                </mat-tab>


            </mat-tab-group>

            <mat-tab-group mat-stretch-tabs class="standing-est-tabing" *ngIf="isBreakupVisible && isFormC">
                <mat-tab label="Form C Statement 2">
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table [dataSource]="readOnlyDetailDataSource" class="responsive-table">

                        <ng-container matColumnDef="objecthead">
                            <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.objecthead}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="recurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.recurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="nonRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.nonRecurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="budgetEstimateNextYear">
                            <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.budgetEstimateNextYear}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.ultimateAnnualRecurrentAmount}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="remarks">
                            <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.remarks}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="1">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                        </ng-container>
                        <ng-container matColumnDef="2">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                        </ng-container>
                        <ng-container matColumnDef="3">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                        </ng-container>
                        <ng-container matColumnDef="4">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                        </ng-container>
                        <ng-container matColumnDef="5">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                        </ng-container>
                        <ng-container matColumnDef="6">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                        </ng-container>

                        <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                        </tr>

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormCStmt2"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormCStmt2;let i= index;"></tr>
                    </table>

                    <mat-tab-group mat-stretch-tabs class="mt-2">
                        <mat-tab label="Object Head Wise Breakup">
                            <div
                                *ngIf="objectBreakupDataSource && objectBreakupDataSource.data && objectBreakupDataSource.data.length > 0">
                                <div class="rsClass"> (â‚¹ in Lakhs) </div>
                                <table mat-table #table [dataSource]="objectBreakupDataSource">
                                    <ng-container matColumnDef="objecthead">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                                        <td mat-cell *matCellDef="let element;let i= index;">
                                            {{element.objecthead}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="recurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                            {{element.recurrentAmount | number : '1.2-2'}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="nonRecurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                            {{element.nonRecurrentAmount | number : '1.2-2'}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="budgetEstimateNextYear">
                                        <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                            {{element.budgetEstimateNextYear}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                            {{element.ultimateAnnualRecurrentAmount}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="remarks">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                        <td mat-cell *matCellDef="let element;let i= index;">
                                            {{element.remarks}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="1">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                                    </ng-container>
                                    <ng-container matColumnDef="2">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                                    </ng-container>
                                    <ng-container matColumnDef="3">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                                    </ng-container>
                                    <ng-container matColumnDef="4">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                                    </ng-container>
                                    <ng-container matColumnDef="5">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                                    </ng-container>
                                    <ng-container matColumnDef="6">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                                    </ng-container>

                                    <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                                    </tr>
                                    <tr mat-header-row *matHeaderRowDef="objectHeadBreakupColumns"></tr>

                                    <tr mat-row *matRowDef="let row; columns: objectHeadBreakupColumns;let i= index;"
                                        (click)="getRowData(i);">
                                    </tr>
                                </table>
                            </div>
                        </mat-tab>

                        <mat-tab label="Grant-in-Aid">
                            <div class="rsClass"> (â‚¹ in Lakhs) </div>
                            <table mat-table #districtTable [dataSource]="districtDataSource" id="districtTable">
                                <ng-container matColumnDef="position">
                                    <div style="width: 10%;">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Sr No.</th>
                                        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                                    </div>
                                </ng-container>

                                <ng-container matColumnDef="district">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Name of District</th>
                                    <td mat-cell *matCellDef="let element">
                                        {{ element.districtName }}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="expendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">District (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.expendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="talukaexpendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Taluka (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.talukaexpendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="gramexpendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Gram (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.gramexpendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="districtColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: districtColumns;let i= index;"></tr>
                            </table>
                        </mat-tab>
                    </mat-tab-group>
                </mat-tab>
            </mat-tab-group>

            <mat-tab-group mat-stretch-tabs class="standing-est-tabing" *ngIf="isBreakupVisible && isFormF">
                <mat-tab label="Form F">
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table [dataSource]="readOnlyDetailDataSource" class="responsive-table">

                        <ng-container matColumnDef="objecthead">
                            <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.objecthead}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="recurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.recurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="nonRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element" class="rightAlign">
                                {{element.nonRecurrentAmount | number : '1.2-2'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="budgetEstimateNextYear">
                            <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.budgetEstimateNextYear}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                            <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                            <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                {{element.ultimateAnnualRecurrentAmount}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="remarks">
                            <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                            <td mat-cell *matCellDef="let element;let i= index;">
                                {{element.remarks}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="1">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                        </ng-container>
                        <ng-container matColumnDef="2">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                        </ng-container>
                        <ng-container matColumnDef="3">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                        </ng-container>
                        <ng-container matColumnDef="4">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                        </ng-container>
                        <ng-container matColumnDef="5">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                        </ng-container>
                        <ng-container matColumnDef="6">
                            <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                        </ng-container>

                        <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                        </tr>

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFormCStmt2"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFormCStmt2;let i= index;"></tr>
                    </table>
                    <mat-tab-group mat-stretch-tabs class="mt-2">
                        <mat-tab label="Object Head Wise Breakup">
                            <div
                                *ngIf="objectBreakupDataSource && objectBreakupDataSource.data && objectBreakupDataSource.data.length > 0">
                                <div class="rsClass"> (â‚¹ in Lakhs) </div>
                                <table mat-table #table [dataSource]="objectBreakupDataSource">
                                    <ng-container matColumnDef="objecthead">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                                        <td mat-cell *matCellDef="let element;let i= index;">
                                            {{element.objecthead}}
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="recurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                            {{element.recurrentAmount | number : '1.2-2'}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="nonRecurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Non Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                            {{element.nonRecurrentAmount | number : '1.2-2'}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="budgetEstimateNextYear">
                                        <th mat-header-cell *matHeaderCellDef scope="row">B.E. for Next Year</th>
                                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                            {{element.budgetEstimateNextYear}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="ultimateAnnualRecurrentAmount">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Ultimate Annual Recurrent Amount</th>
                                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                                            {{element.ultimateAnnualRecurrentAmount}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="remarks">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                        <td mat-cell *matCellDef="let element;let i= index;">
                                            {{element.remarks}}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="1">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                                    </ng-container>
                                    <ng-container matColumnDef="2">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                                    </ng-container>
                                    <ng-container matColumnDef="3">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                                    </ng-container>
                                    <ng-container matColumnDef="4">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                                    </ng-container>
                                    <ng-container matColumnDef="5">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                                    </ng-container>
                                    <ng-container matColumnDef="6">
                                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                                    </ng-container>

                                    <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6']">
                                    </tr>
                                    <tr mat-header-row *matHeaderRowDef="objectHeadBreakupColumns"></tr>

                                    <tr mat-row *matRowDef="let row; columns: objectHeadBreakupColumns;let i= index;"
                                        (click)="getRowData(i);">
                                    </tr>
                                </table>
                            </div>
                        </mat-tab>

                        <mat-tab label="Grant-in-Aid">
                            <div class="rsClass"> (â‚¹ in Lakhs) </div>
                            <table mat-table #districtTable [dataSource]="districtDataSource" id="districtTable">
                                <ng-container matColumnDef="position">
                                    <div style="width: 10%;">
                                        <th mat-header-cell *matHeaderCellDef scope="row">Sr No.</th>
                                        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                                    </div>
                                </ng-container>

                                <ng-container matColumnDef="district">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Name of District</th>
                                    <td mat-cell *matCellDef="let element">
                                        {{ element.districtName }}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="expendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">District (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.expendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="talukaexpendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Taluka (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.talukaexpendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="gramexpendature">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Gram (proposed Amount)</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        {{element.gramexpendature | number : '1.2-2'}}
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="districtColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: districtColumns;let i= index;"></tr>
                            </table>
                        </mat-tab>
                    </mat-tab-group>
                </mat-tab>
            </mat-tab-group>
        </div>
        
    </div>
</div>
`