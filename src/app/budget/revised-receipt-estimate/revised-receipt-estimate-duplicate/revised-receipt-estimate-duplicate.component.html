<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted row mx-auto">
            <div class="col-sm-12 col-md-12 col-lg-4">Revised Receipt Estimates</div>
            <div class="font-heading  4"><strong>Reference Number:</strong> 19-20/BUD/RRE/001</div>
            <div class="font-heading col-sm-6 col-md-6 col-lg-4 text-right"><strong>Reference Date:</strong> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div>
        </div>
  
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Budget</a></li>
                <li class="breadcrumb-item active" aria-current="page">Revised Receipt Estimates</li>
            </ol>
        </nav>
        <div>
            <div #parentGrids>
                <mat-tab-group mat-stretch-tabs class="standing-est-tabing" [selectedIndex]="selectedIndex">
                    <!-- Detail Tab -->
                    <mat-tab label="Detail">
                    <!-- Revised Receipt Estimates Entry Section Starts-->
                      <form [formGroup]="revisedReceiptSecondForm" (ngSubmit)="saveEstimate()">
                        <div class="row">
                          <div class="col-sm-3">
                              <mat-form-field class="full-width">
                                  <mat-select formControlName="subMajorHeadCode" placeholder="Sub Major Head" required>
                                      <mat-option>
                                          <ngx-mat-select-search [formControl]="subMajorHeadCodeCtrl" 
                                          [placeholderLabel]="'Find Sub Major Head...'" [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                                          </ngx-mat-select-search>
                                      </mat-option>
                                      <mat-option *ngFor="let submajorhead of subMajorHeadCode_list | filterSelectInput: subMajorHeadCodeCtrl.value" 
                                      [value]="submajorhead.value" matTooltip="{{submajorhead.viewValue}}">
                                          {{submajorhead.viewValue}}
                                      </mat-option>
                                  </mat-select>
                                  <div class="error-wrapper"
                                    *ngIf="revisedReceiptSecondForm.controls.subMajorHeadCode.touched && revisedReceiptSecondForm.controls.subMajorHeadCode.errors">
                                    <mat-error *ngIf="revisedReceiptSecondForm.controls.subMajorHeadCode.errors.required">
                                      {{errorMessages.SUB_MAJOR_HEAD}}
                                    </mat-error>
                                  </div>
                              </mat-form-field>
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field class="full-width">
                                  <mat-select formControlName="minorHeadCode" placeholder="Minor Head" required>
                                      <mat-option>
                                          <ngx-mat-select-search [formControl]="minorHeadCodeCtrl" 
                                          [placeholderLabel]="'Find Minor Head...'" [noEntriesFoundLabel]="'no matching Minor Head found'">
                                          </ngx-mat-select-search>
                                      </mat-option>
                                      <mat-option *ngFor="let minorhead of minorHeadCode_list | filterSelectInput: minorHeadCodeCtrl.value" 
                                      [value]="minorhead.value" matTooltip="{{minorhead.viewValue}}">
                                          {{minorhead.viewValue}}
                                      </mat-option>
                                  </mat-select>
                                <div class="error-wrapper"
                                  *ngIf="revisedReceiptSecondForm.controls.minorHeadCode.touched && revisedReceiptSecondForm.controls.minorHeadCode.errors">
                                  <mat-error *ngIf="revisedReceiptSecondForm.controls.minorHeadCode.errors.required">
                                    {{errorMessages.MINOR_HEAD}}
                                  </mat-error>
                                </div>
                              </mat-form-field>
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field class="full-width">
                                  <mat-select formControlName="subHead" placeholder="Sub Head" required>
                                      <mat-option>
                                          <ngx-mat-select-search [formControl]="subHeadCtrl" 
                                          [placeholderLabel]="'Find Sub Head...'" [noEntriesFoundLabel]="'no matching Sub Head found'">
                                          </ngx-mat-select-search>
                                      </mat-option>
                                      <mat-option *ngFor="let sh of subHead_list | filterSelectInput: subHeadCtrl.value" 
                                      [value]="sh.value" matTooltip="{{sh.viewValue}}">
                                          {{sh.viewValue}}
                                      </mat-option>
                                  </mat-select>
                                <div class="error-wrapper"
                                  *ngIf="revisedReceiptSecondForm.controls.subHead.touched && revisedReceiptSecondForm.controls.subHead.errors">
                                  <mat-error *ngIf="revisedReceiptSecondForm.controls.subHead.errors.required">
                                    {{errorMessages.SUB_HEAD}}
                                  </mat-error>
                                </div>
                              </mat-form-field>
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field class="full-width">
                                  <mat-select formControlName="detHead" placeholder="Detailed Head" required>
                                      <mat-option>
                                          <ngx-mat-select-search [formControl]="detHeadCtrl" 
                                          [placeholderLabel]="'Find Detailed Head...'" [noEntriesFoundLabel]="'no matching Detailed Head found'">
                                          </ngx-mat-select-search>
                                      </mat-option>
                                      <mat-option *ngFor="let va of detHead_list | filterSelectInput: detHeadCtrl.value" 
                                      [value]="va.value" matTooltip="{{va.viewValue}}">
                                          {{va.viewValue}}
                                      </mat-option>
                                  </mat-select>
                                <div class="error-wrapper"
                                  *ngIf="revisedReceiptSecondForm.controls.detHead.touched && revisedReceiptSecondForm.controls.detHead.errors">
                                  <mat-error *ngIf="revisedReceiptSecondForm.controls.detHead.errors.required">
                                    {{errorMessages.DETAILED_HEAD}}
                                  </mat-error>
                                </div>
                              </mat-form-field>
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field class="full-width">
                                  <mat-select formControlName="objHead" placeholder="Object Head" required>
                                      <mat-option>
                                          <ngx-mat-select-search [formControl]="objHeadCtrl" 
                                          [placeholderLabel]="'Find Object Head...'" [noEntriesFoundLabel]="'no matching Object Head found'">
                                          </ngx-mat-select-search>
                                      </mat-option>
                                      <mat-option *ngFor="let va of objHead_list | filterSelectInput: objHeadCtrl.value" 
                                      [value]="va.value" matTooltip="{{va.viewValue}}">
                                          {{va.viewValue}}
                                      </mat-option>
                                  </mat-select>
                                <div class="error-wrapper"
                                  *ngIf="revisedReceiptSecondForm.controls.objHead.touched && revisedReceiptSecondForm.controls.objHead.errors">
                                  <mat-error *ngIf="revisedReceiptSecondForm.controls.objHead.errors.required">
                                    {{errorMessages.OBJECT_HEAD}}
                                  </mat-error>
                                </div>
                              </mat-form-field>
                          </div>
            
                        </div>
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                          <button type="submit" mat-raised-button color="primary" (click)="whenAddClick()" title="Add">
                            <i class="material-icons" aria-hidden="true">
                               add
                            </i>
                            Add
                         </button>
                        </div>
                      </form>
                      <!-- Revised Receipt Estimates Entry Section Ends-->
                      <div class="font-heading" *ngIf="onAdd"><strong>Major Head:</strong> 1601: Grants-in-aid from Central Government</div>
                        <div class="rsClass mt-3" *ngIf="onAdd"> (₹ in Lakhs) </div>
                        <div *ngIf="onAdd" class="mat-elevation-z8 customresponsive">
                            <!-- Table Section Starts -->
                            <table mat-table #table aria-describedby="revisedReceiptEstTable" [dataSource]="dataSource" class="responsive-table">
  

                                <!-- subMajorHead -->
                                <ng-container matColumnDef="subMajorHead">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Object Head Sub Major Head</th>
                                    <td mat-cell *matCellDef="let element;let i= index;">
                                        <span class="rightAlign">
                                        {{element.subMajorHead}}
                                    </span>
                                    </td>
                                </ng-container>

                                <!-- minorHead -->
                                <ng-container matColumnDef="minorHead">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Budget estimates for current year</th>
                                    <td mat-cell *matCellDef="let element">
                                        <span class="rightAlign">
                                        {{element.minorHead}}
                                    </span>
                                    </td>
                                </ng-container>

                                <!-- subHead -->
                                <ng-container matColumnDef="subHead">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Budget estimates for current year</th>
                                    <td mat-cell *matCellDef="let element">
                                        <span class="rightAlign">
                                        {{element.subHead}}
                                    </span>
                                    </td>
                                </ng-container>

                                <!-- detailHead -->
                                <ng-container matColumnDef="detailHead">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Detail Head</th>
                                    <td mat-cell *matCellDef="let element">
                                        <div class="rightAlign">
                                            {{element.detailHead}}
                                        </div>
                                    </td>
                                </ng-container>
  
                                <!-- objectHead -->
                                <ng-container matColumnDef="objectHead">
                                  <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" class="tdpadding">
                                      <span> Object Head </span>
                                    </th>
                                  <td mat-cell *matCellDef="let item">
                                    {{item.objectHead}}
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>  

                                <!-- receipt -->
                                <ng-container matColumnDef="receipt">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.receipt" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.receipt" (blur)="decimalPoint(element,'receipt')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- disbursement -->
                                <ng-container matColumnDef="disbursement">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.disbursement" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.disbursement" (blur)="decimalPoint(element,'disbursement')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- actualReceiptForLastYear -->
                                <ng-container matColumnDef="actualReceiptForLastYear">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Actual Receipt For Last Year </th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.actualReceiptForLastYear" 
                                            [(ngModel)]="element.actualReceiptForLastYear" (blur)="decimalPoint(element,'actualReceiptForLastYear')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>  

                                <!-- Receipt -->
                                <ng-container matColumnDef="receipt1">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.receipt1" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.receipt1" (blur)="decimalPoint(element,'receipt1')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="disbursement1">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.disbursement1" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.disbursement1" (blur)="decimalPoint(element,'disbursement1')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>  

                                <!-- Receipt (1a) -->
                                <ng-container matColumnDef="receipt2">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt (1a)</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.receipt2" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.receipt2" (blur)="decimalPoint(element,'receipt2')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement (1b) -->
                                <ng-container matColumnDef="disbursement2">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement (1b)</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.disbursement2" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.disbursement2" (blur)="decimalPoint(element,'disbursement2')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>  

                                <!-- Receipt (2a) -->
                                <ng-container matColumnDef="receipt3">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt (2a)</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.receipt3" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.receipt3" (blur)="decimalPoint(element,'receipt3')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement (2b) -->
                                <ng-container matColumnDef="disbursement3">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement (2b)</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.disbursement3" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.disbursement3" (blur)="decimalPoint(element,'disbursement3')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>  

                                <!-- Receipt ((1a) + (2a)) -->
                                <ng-container matColumnDef="receipt4">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt ((1a) + (2a))</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.receipt4" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.receipt4" (blur)="decimalPoint(element,'receipt4')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement ((1b) + (2b)) -->
                                <ng-container matColumnDef="disbursement4">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement ((1b) + (2b))</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.disbursement4" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.disbursement4" (blur)="decimalPoint(element,'disbursement4')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Receipt -->
                                <ng-container matColumnDef="receipt1M2">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt</th>
                                    <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                                        {{ covertToNumber(element) | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="disbursement1M2">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Disbursement</th>
                                    <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                                        {{ covertToNumber2(element) | number : '1.2-2'}}
                                    </td>
                                </ng-container>

                                <!-- Receipt -->
                                <ng-container matColumnDef="Provision4nYReceipt">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.Provision4nYReceipt" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.Provision4nYReceipt" (blur)="decimalPoint(element,'Provision4nYReceipt')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="Provision4nYdisbursement">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Disbursement</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.Provision4nYdisbursement" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.Provision4nYdisbursement" (blur)="decimalPoint(element,'Provision4nYdisbursement')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Receipt -->
                                <ng-container matColumnDef="PropoAmountReceipt">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.PropoAmountReceipt" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.PropoAmountReceipt" (blur)="decimalPoint(element,'PropoAmountReceipt')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="PropoAmountDisbu">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Disbursement</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.PropoAmountDisbu" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.PropoAmountDisbu" (blur)="decimalPoint(element,'PropoAmountDisbu')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Receipt -->
                                <ng-container matColumnDef="fDAcctOctNovCurrYearRec">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.fDAcctOctNovCurrYearRec" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.fDAcctOctNovCurrYearRec" (blur)="decimalPoint(element,'fDAcctOctNovCurrYearRec')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="fDAcctOctNovCurrYearDis">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Disbursement</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.fDAcctOctNovCurrYearDis" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.fDAcctOctNovCurrYearDis" (blur)="decimalPoint(element,'fDAcctOctNovCurrYearDis')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Receipt -->
                                <ng-container matColumnDef="FDLatestEt4castCurrYearRec">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Receipt</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.FDLatestEt4castCurrYearRec" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.FDLatestEt4castCurrYearRec" (blur)="decimalPoint(element,'FDLatestEt4castCurrYearRec')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Disbursement -->
                                <ng-container matColumnDef="FDLatestEt4castCurrYearDis">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Disbursement</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                            <input matInput [value]="element.FDLatestEt4castCurrYearDis" (keypress)="decimalKeyPress($event)" 
                                            [(ngModel)]="element.FDLatestEt4castCurrYearDis" (blur)="decimalPoint(element,'FDLatestEt4castCurrYearDis')">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <!-- Remarks -->
                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Remarks</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field>
                                            <textarea matInput [value]="element.remarks" [(ngModel)]="element.remarks"></textarea>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <!-- Deduct Refund Mapping -->
                                <ng-container matColumnDef="DeductRefundMap">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}"> Deduct Refund Mapping</th>
                                    <td mat-cell *matCellDef="let element" class="rightAlign">
                                        <mat-form-field floatLabel="never" class="rightAlign">
                                        <input matInput [value]="element.DeductRefundMap" [(ngModel)]="element.DeductRefundMap">
                                    </mat-form-field>
                                    </td>
                                </ng-container>
  

                                <!-- Sub Major Head -->
                                <ng-container matColumnDef="subMajorHead1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Sub Major Head</th>
                                </ng-container>

                                <!-- Minor Head  -->
                                <ng-container matColumnDef="minorHead1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2"> Minor Head </th>
                                </ng-container>
  
                                <!-- Sub head  -->
                                <ng-container matColumnDef="Subhead1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2"> Sub head </th>
                                </ng-container>  

                                <!-- Detail Head -->
                                <ng-container matColumnDef="detailHead1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Detail Head</th>
                                </ng-container>

                                <!-- Object Head -->
                                <ng-container matColumnDef="objecthead1">
                                  <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Object Head</th>
                                </ng-container>

                                <!-- Budget Estimate For Current Year -->
                                <ng-container matColumnDef="header1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Budget Estimate For Current Year {{loadCurrentYear()}}</th>                                   
                                </ng-container>  

                                <!-- Actual For last year -->
                                <ng-container matColumnDef="budgetEst1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actual For last year {{loadLastYear()}}</th>                                   
                                </ng-container>  

                                <!-- Actual For first 8 Months of Current Year -->
                                <ng-container matColumnDef="budgetEst2">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actual For first 8 Months of Current Year {{loadCurrentYear()}}</th>                                   
                                </ng-container>                                

                                <!-- Probable For Last four Months of Current Year -->
                                <ng-container matColumnDef="budgetEst3">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Probable For Last four Months of Current Year {{loadCurrentYear()}}</th>                                   
                                </ng-container>

                                <!-- Total -->
                                <ng-container matColumnDef="header2">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Total</th>
                                </ng-container>

                                <!-- Provision for Next Year -->
                                <ng-container matColumnDef="header3">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Provision for Next Year {{loadNextYear()}} </th>
                                </ng-container>

                                <!-- Proposed amount for R.E. -->
                                <ng-container matColumnDef="header4">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Proposed amount for R.E. {{loadCurrentYear()}}</th>
                                </ng-container>

                                <!-- (FD Only) Account Oct/Nov of Current Year  -->
                                <ng-container matColumnDef="header5">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">(FD Only) Account Oct/Nov of Current Year {{loadCurrentYear()}}</th>
                                </ng-container>

                                <!-- (FD Only) Latest Estimate as per Forecast Current Year  -->
                                <ng-container matColumnDef="header6">                                   
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2"> (FD Only) Latest Estimate as per Forecast Current Year {{loadCurrentYear()}}</th>
                                </ng-container>  

                                <!-- Provision Finally admitted by FD -->
                                <ng-container matColumnDef="header7">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Provision Finally admitted by FD</th>
                                </ng-container>  

                                <!-- Remarks -->
                                <ng-container matColumnDef="remarks1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Remarks</th>
                                </ng-container>

                                <!-- Deduct Refund Mapping -->
                                <ng-container matColumnDef="DeductRefundMap1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Deduct Refund Mapping</th>
                                </ng-container>
                                <ng-container matColumnDef="1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                                </ng-container>
                                <ng-container matColumnDef="2">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                                </ng-container>
                                <ng-container matColumnDef="3">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                                </ng-container>
                                <ng-container matColumnDef="4">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                                </ng-container>
                                <ng-container matColumnDef="5">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                                </ng-container>
                                <ng-container matColumnDef="6">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                                </ng-container>
                             <ng-container matColumnDef="7">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
                                </ng-container>
                                    <ng-container matColumnDef="8">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
                                </ng-container>
                                <ng-container matColumnDef="9">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
                                </ng-container>
                                <ng-container matColumnDef="10">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
                                </ng-container>
                                <ng-container matColumnDef="11">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
                                </ng-container>
  
                                <ng-container matColumnDef="12">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">12</th>
                                </ng-container>
                                <ng-container matColumnDef="13">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">13</th>
                                </ng-container>
                                <ng-container matColumnDef="14">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">14</th>
                                </ng-container>
                                <ng-container matColumnDef="15">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">15</th>
                                </ng-container>
                                <ng-container matColumnDef="16">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">16</th>
                                </ng-container>
                                <ng-container matColumnDef="17">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">17</th>
                                </ng-container>
                                <ng-container matColumnDef="18">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">18</th>
                                </ng-container>
                                <ng-container matColumnDef="19">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">19</th>
                                </ng-container>
                                <ng-container matColumnDef="20">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">20</th>
                                </ng-container>
                                <ng-container matColumnDef="21">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">21</th>
                                </ng-container>
                                <ng-container matColumnDef="22">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">22</th>
                                </ng-container>
                                <ng-container matColumnDef="23">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">23</th>
                                </ng-container>
                                <ng-container matColumnDef="24">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">24</th>
                                </ng-container>
                                <ng-container matColumnDef="25">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">25</th>
                                </ng-container>
                                <ng-container matColumnDef="26">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">26</th>
                                </ng-container>
                                <ng-container matColumnDef="27">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">27</th>
                                </ng-container>
  
                                <button mat-button (click)="saveStandCharge()">Back</button>
  
                                <!-- Main Header of Table -->
                                <tr mat-header-row *matHeaderRowDef="['subMajorHead1','minorHead1','Subhead1','detailHead1',
                                'objecthead1','header1', 'budgetEst1', 'budgetEst2','budgetEst3','header2','header3','header4',
                                'header5','header6','header7','remarks1','DeductRefundMap1']">
                                </tr>  
  
                                <!-- Sub Header of Table -->
                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  
                                <!-- Number Header of Table -->
                                <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12',
                                '13','14','15','16','17','18','19','20','21','22','23','24' ,'25','26','27']">
                                </tr>
                                <!-- Data Fetch From .TS File to table -->
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;let i= index;"></tr>
                            </table>
                            <!-- Table Section Ends -->
                        </div>
                        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                            <button type="submit" mat-raised-button color="primary">
                                <i class="material-icons" aria-hidden="true" title="Save">
                                    save
                                </i>
                                Save as Draft
                            </button>
                            <button mat-raised-button (click)="submit()" type="submit" class="green"><i class="material-icons" aria-hidden="true">
                                    done
                                </i> Submit</button>
                            <button type="reset" mat-raised-button color="accent">
                                <i class="material-icons" aria-hidden="true">
                                    restore
                                </i>
                                Reset
                            </button>
                            <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                                <i class="material-icons" aria-hidden="true" title="Listing">
                                    list
                                </i>
                                Listing
                            </button>
                            <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                                    close
                                </i>
                                Close
                            </button>
                        </div>
                    </mat-tab>

                    <!-- Attachments Tab -->
                    <mat-tab label="Attachments">
                        <!-- Table Section Starts -->
                        <table mat-table aria-describedby="attachmentTable" [dataSource]="dataSourceBrowse" width="100%" id="browseTable">

                            <!-- Sr. No. -->
                            <ng-container matColumnDef="position">
                                <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                                <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                {{ i + 1 }}
                                </td>
                            </ng-container>

                            <!-- Attachment Type -->
                            <ng-container matColumnDef="attachmentType">
                                <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
                                <td mat-cell *matCellDef="let item;let i = index;">
                                    <mat-select placeholder="Attachment Type" [(ngModel)]="item.attachmentType" #singleSelect1 required>
                                        <mat-option>
                                            <ngx-mat-select-search [formControl]="attachmentTypeCodeCtrl" [placeholderLabel]="'Find Attachment Type...'" [noEntriesFoundLabel]="'no matching Attachment Type found'">
                                            </ngx-mat-select-search>
                                        </mat-option>
  
                                        <mat-option *ngFor="let AT of filteredAttachmentTypeCode | async" [value]="AT.value">
                                            {{AT.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </td>
                            </ng-container>

                            <!-- File Name -->
                            <ng-container matColumnDef="fileName">
                                <th mat-header-cell *matHeaderCellDef scope="row">File Name</th>
                                <td mat-cell *matCellDef="let item">
                                    <mat-form-field floatLabel="never">
                                        <input matInput [value]="item.name" [(ngModel)]="item.name">
                                    </mat-form-field>
                                </td>
                            </ng-container>

                            <!-- Browse File -->
                            <ng-container matColumnDef="browse">
                                <th mat-header-cell *matHeaderCellDef scope="row">Browse File</th>
                                <td mat-cell *matCellDef="let i = index">
                                    <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse Files</button>
                                </td>
                            </ng-container>

                            <!-- Uploaded File Name -->
                            <ng-container matColumnDef="uploadedFileName">
                                <th mat-header-cell *matHeaderCellDef scope="row">Uploaded File Name</th>
                                <td mat-cell *matCellDef="let item">
                                    <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
                                </td>
                            </ng-container>

                            <!-- Uploaded By -->
                            <ng-container matColumnDef="uploadedBy">
                                <th mat-header-cell *matHeaderCellDef scope="row">Uploaded By</th>
                                <td mat-cell *matCellDef="let item">
                                    <mat-label>Mr. Pratik Shah</mat-label>
                                </td>
                            </ng-container>

                            <!-- Action -->
                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                <td mat-cell *matCellDef="let item; let i = index">
                                    <table class="iconTable">
                                        <tbody>
                                            <tr>
                                                <td width="30">
                                                    <i class="material-icons plus" *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i == dataSourceBrowse.data.length - 1)" (click)="addBrowse()">
                                                    add
                                                </i>
                                                </td>
                                                <td width="30">
                                                    <i class="material-icons plus delete" *ngIf="dataSourceBrowse && dataSourceBrowse.data && dataSourceBrowse.data.length > 1" (click)="deleteBrowse(i)">
                                                    delete
                                                </i>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </ng-container>
                            <!-- Header Section Of table -->
                            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
                            <!-- Data Fetch From .TS File to table -->
                            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
                        </table>
                        <!-- Table Section Ends -->
                        <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />
                        <div class="legend">
                          1. Total File size should be under 2MB<br> 2. File type supported are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
                          ‘JPEG’, ‘PNG’, ‘PDF’.
                        </div>
                        <!-- Action Buttons -->
                        <div class="form-action-button">
                            <button type="submit" mat-raised-button color="primary">
                            <i class="material-icons" aria-hidden="true" title="Save">
                                save
                            </i>
                            Upload
                        </button>
                            <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                            <i class="material-icons" aria-hidden="true" title="Listing">
                                list
                            </i>
                            Listing
                        </button>
                            <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                                close
                            </i>
                            Close
                        </button>
                        </div>
                    </mat-tab>
                </mat-tab-group>
  
                <div class="save" title="Save All" *ngIf="!tabDisable">
                    <button mat-mini-fab color="primary" class="saveFloatButton" (click)="saveAllData()">
                      <mat-icon aria-label="Example icon-button">save</mat-icon>
                  </button>
                </div>
            </div>
        </div>
    </div>
  </div>
  
  
  
  