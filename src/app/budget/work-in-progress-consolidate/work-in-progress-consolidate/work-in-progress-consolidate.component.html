<div class="container">
  <div class="form-wrapper">
      <div class="heading-section ng-star-inserted">
          <div>Work-In-progress Consolidation</div>
          <div class="font-heading"><strong>Reference Number:</strong> 19-20/BUD/WIP/001</div>
          <div class="font-heading"><strong>Reference Date:</strong> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div>
      </div>

      <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item"><a href="#">Budget</a></li>
              <li class="breadcrumb-item active" aria-current="page">Work-In-progress Consolidation
              </li>
          </ol>
      </nav>

      <div class="row header-detail">
          <div class="col-sm-6 colPadding" *ngFor="let item of headerJson">
              <div class="col-sm-4 labelCSS">{{item.label}}<span class="floatRight">:</span></div>
              <div class="col-sm-8 paddingUnset">{{item.value}}</div>
          </div>
      </div>

      <div>
          <mat-tab-group mat-stretch-tabs class="standing-est-tabing" [selectedIndex]="selectedIndex" (selectedIndexChange)="getTabIndex($event)">

              <mat-tab label="Consolidated View">
                <mat-tab-group mat-stretch-tabs class="new-item-est-tabing">
                  <mat-tab label="State">
                    <div style="width: 100%; overflow: auto;">
                        <div class="expenditure-estimate-work-in-progress">
                            <table mat-table aria-describedby="stateTable" [dataSource]="dataSourceWorkInProgress">
                                <ng-container matColumnDef="districtId">
                                    <th mat-header-cell *matHeaderCellDef scope="row">District Id</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="leftAlign">
                                            <input matInput placeholder="Input" [value]="element.districtId">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef>Total</td>
                                </ng-container>

                                <ng-container matColumnDef="districtName">
                                    <th mat-header-cell *matHeaderCellDef scope="row">District Name</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="leftAlign">
                                            <input matInput placeholder="Input" [value]="element.districtName">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="workId">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Workd Id</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="leftAlign">
                                            <input matInput placeholder="Input" [value]="element.workId">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="workNo">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Work No.</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="leftAlign">
                                            <input matInput placeholder="Input" [value]="element.workNo">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="workName">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Work Name</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="leftAlign">
                                            <input matInput placeholder="Input" [value]="element.workName">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="val1">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Amount Sanction for Estimated Cost</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val1" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val1')" [value]="element.val1">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtSanc() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val2">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Actual Expenditure for the year 2017-2018</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val2" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val2')" [value]="element.val2">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcActExpen() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val3">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Total Progressive Expenditure upto End of 2017-2018
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val3" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val3')" [value]="element.val3">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotProg() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val4">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Budget estimate for year 2018-2019</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val4" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val4')" [value]="element.val4">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcBudEst() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val5">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Actual for the first 4 months of 2018-2019</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val5" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val5')" [value]="element.val5">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcActFourMon() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val6">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Probable expenditure for the last 8 months of 2018-2019
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.val6" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val6')" [value]="element.val6">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcExpEightMonth() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="val7">
                                    <th mat-header-cell *matHeaderCellDef scope="row"> Total 8 & 4 Month</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput [value]="(element.val5 - 0) + (element.val6 - 0) | number:'1.2-2'" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'val7')" readonly>
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotFourEight() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="total">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Provision proposed for 2019-2020 Estimate towards </th>
                                    <!-- <td mat-cell *matCellDef="let element">                                          
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [value]="element.val7">
                                        </mat-form-field>
                                    </td> -->
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Input" [(ngModel)]="element.total" (keypress)="decimalKeyPress($event)"
                                            (blur)="decimalPoint(element,'total')" [value]="element.total">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotal() | number : '1.2-2'}}</td>
                                </ng-container>

                                <ng-container matColumnDef="css">
                                    <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Enter CSS Here" [value]="element.css">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-form-field floatLabel="never" class="rightAllign text-right">
                                            <input matInput placeholder="Enter Remarks Here" [value]="element.remarks">
                                        </mat-form-field>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td width="30">
                                                        <i aria-hidden="true" class="material-icons plus" *ngIf="dataSourceWorkInProgress && dataSourceWorkInProgress.data && (i == dataSourceWorkInProgress.data.length - 1)" (click)="addRecord()">
                                                            add
                                                        </i>
                                                    </td>
                                                    <td width="30">
                                                        <i aria-hidden="true" class="material-icons plus delete" *ngIf="dataSourceWorkInProgress && dataSourceWorkInProgress.data && dataSourceWorkInProgress.data.length > 1" (click)="deleteRecord(i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td mat-footer-cell *matFooterCellDef></td>
                                </ng-container>

                                <ng-container matColumnDef="1">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                                </ng-container>
                                <ng-container matColumnDef="2">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                                </ng-container>
                                <ng-container matColumnDef="3">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                                </ng-container>
                                <ng-container matColumnDef="4">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                                </ng-container>
                                <ng-container matColumnDef="5">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                                </ng-container>
                                <ng-container matColumnDef="6">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                                </ng-container>
                                <ng-container matColumnDef="7">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
                                </ng-container>
                                <ng-container matColumnDef="8">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
                                </ng-container>
                                <ng-container matColumnDef="9">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
                                </ng-container>
                                <ng-container matColumnDef="10">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
                                </ng-container>
                                <ng-container matColumnDef="12">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">12</th>
                                </ng-container>
                                <ng-container matColumnDef="11">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
                                </ng-container>
                                <ng-container matColumnDef="13">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">13</th>
                                </ng-container>
                                <ng-container matColumnDef="14">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">14</th>
                                </ng-container>
                                <ng-container matColumnDef="15">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">15</th>
                                </ng-container>
                                <ng-container matColumnDef="16">
                                    <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">16</th>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns"></tr>
    
                                <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14','15']">
                                </tr>
                                <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns;"></tr>
                                <tr mat-footer-row *matFooterRowDef="displayedAttachmentColumns"></tr>
                            </table>

                            
                        </div>
                    </div>
                    <div class="form-action-button">
                      <button type="submit" mat-raised-button color="primary">
                        <i class="material-icons" title="Save">
                     save
                     </i>
                Save as Draft
              </button>
                      <button mat-raised-button type="submit" class="green" (click)="submitToNextLevel()">
                <i class="material-icons" aria-hidden="true">
                  done
                </i>
                Submit
              </button>
                      <button type="reset" mat-raised-button color="accent">
                <i class="material-icons" aria-hidden="true">
                  restore
                </i>
                Reset
              </button>
                      <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                    list
                </i>
                Listing
            </button>
                      <button type="button" mat-raised-button class="btnClose">
                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                  close
                </i>
                Close
              </button>
                      <button mat-button mat-raised-button color="primary" (click)="backCharge()" class="back-button">
                <mat-icon aria-label="icon-button">
                  keyboard_return
                </mat-icon>
                Back
              </button>
                  </div>
                </mat-tab>
                <mat-tab label="CSS">
                                
                  <div style="width: 100%; overflow: auto;">
                      <div class="expenditure-estimate-work-in-progress">
                          <table mat-table aria-describedby="cssTable" [dataSource]="dataSourceWorkInProgress1">
                              <ng-container matColumnDef="districtId">
                                  <th mat-header-cell *matHeaderCellDef scope="row">District Id</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="leftAlign">
                                          <input matInput placeholder="Input" [value]="0">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef>Total</td>
                              </ng-container>

                              <ng-container matColumnDef="districtName">
                                  <th mat-header-cell *matHeaderCellDef scope="row">District Name</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="leftAlign">
                                          <input matInput placeholder="Input" [value]="element.districtName">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="workId">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Workd Id</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="leftAlign">
                                          <input matInput placeholder="Input" [value]="element.workId">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="workNo">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Work No.</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="leftAlign">
                                          <input matInput placeholder="Input" [value]="element.workNo">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="workName">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Work Name</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="leftAlign">
                                          <input matInput placeholder="Input" [value]="element.workName">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="val1">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Amount Sanction for Estimated Cost</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val1" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val1')" [value]="element.val1">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtSancCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val2">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Actual Expenditure for the year 2017-2018</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val2" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val2')" [value]="element.val2">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcActExpenCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val3">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Total Progressive Expenditure upto End of 2017-2018
                                  </th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val3" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val3')" [value]="element.val3">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotProgCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val4">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Budget estimate for year 2018-2019</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val4" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val4')" [value]="element.val4">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcBudEstCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val5">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Actual for the first 4 months of 2018-2019</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val5" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val5')" [value]="element.val5">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcActFourMonCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val6">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Probable expenditure for the last 8 months of 2018-2019
                                  </th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.val6" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val6')" [value]="element.val6">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcExpEightMonthCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="val7">
                                  <th mat-header-cell *matHeaderCellDef scope="row"> Total 8 & 4 Month</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput [value]="(element.val5 - 0) + (element.val6 - 0) | number:'1.2-2'" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'val7')" readonly>
                                      </mat-form-field> 
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotFourEightCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="total">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Provision proposed for 2019-2020 Estimate towards </th>
                                  <!-- <td mat-cell *matCellDef="let element">                                          
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [value]="element.val7">
                                      </mat-form-field>
                                  </td> -->
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Input" [(ngModel)]="element.total" (keypress)="decimalKeyPress($event)"
                                          (blur)="decimalPoint(element,'total')" [value]="element.total">
                                      </mat-form-field>
                                  </td>
                                   <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcTotalCss() | number : '1.2-2'}}</td>
                              </ng-container>

                              <ng-container matColumnDef="css">
                                  <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput [value]="'YES'" readonly>
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="remarks">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                                  <td mat-cell *matCellDef="let element">
                                      <mat-form-field floatLabel="never" class="rightAllign text-right">
                                          <input matInput placeholder="Enter Remarks Here" [value]="element.remarks">
                                      </mat-form-field>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="action">
                                  <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                  <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                                      <table class="iconTable">
                                          <tbody>
                                              <tr>
                                                  <td width="30">
                                                      <i aria-hidden="true" class="material-icons plus" *ngIf="dataSourceWorkInProgress1 && dataSourceWorkInProgress1.data && (i == dataSourceWorkInProgress1.data.length - 1)" (click)="addRecord1()">
                                                          add
                                                      </i>
                                                  </td>
                                                  <td width="30">
                                                      <i aria-hidden="true" class="material-icons plus delete" *ngIf="dataSourceWorkInProgress1 && dataSourceWorkInProgress1.data && dataSourceWorkInProgress1.data.length > 1" (click)="deleteRecord1(i)">
                                                          delete
                                                      </i>
                                                  </td>
                                              </tr>
                                          </tbody>
                                      </table>
                                  </td>
                                  <td mat-footer-cell *matFooterCellDef></td>
                              </ng-container>

                              <ng-container matColumnDef="1">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                              </ng-container>
                              <ng-container matColumnDef="2">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                              </ng-container>
                              <ng-container matColumnDef="3">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                              </ng-container>
                              <ng-container matColumnDef="4">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                              </ng-container>
                              <ng-container matColumnDef="5">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                              </ng-container>
                              <ng-container matColumnDef="6">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                              </ng-container>
                              <ng-container matColumnDef="7">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
                              </ng-container>
                              <ng-container matColumnDef="8">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
                              </ng-container>
                              <ng-container matColumnDef="9">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
                              </ng-container>
                              <ng-container matColumnDef="10">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
                              </ng-container>
                              <ng-container matColumnDef="12">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">12</th>
                              </ng-container>
                              <ng-container matColumnDef="11">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
                              </ng-container>
                              <ng-container matColumnDef="13">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">13</th>
                              </ng-container>
                              <ng-container matColumnDef="14">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">14</th>
                              </ng-container>
                              <ng-container matColumnDef="15">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">15</th>
                              </ng-container>
                              <ng-container matColumnDef="16">
                                  <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">16</th>
                              </ng-container>

                              <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns1"></tr>
  
                              <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16']">
                              </tr>
                              <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns1;"></tr>
                              <tr mat-footer-row *matFooterRowDef="displayedAttachmentColumns1"></tr>
                          </table>

                          
                      </div>
                  </div>
                  <div class="form-action-button">
                    <button type="submit" mat-raised-button color="primary">
                      <i class="material-icons" title="Save">
                   save
                   </i>
              Save as Draft
            </button>
                    <button mat-raised-button type="submit" class="green" (click)="submitToNextLevel()">
              <i class="material-icons" aria-hidden="true">
                done
              </i>
              Submit
            </button>
                    <button type="reset" mat-raised-button color="accent">
              <i class="material-icons" aria-hidden="true">
                restore
              </i>
              Reset
            </button>
                    <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
              <i class="material-icons" aria-hidden="true" title="Listing">
                  list
              </i>
              Listing
          </button>
                    <button type="button" mat-raised-button class="btnClose">
              <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                close
              </i>
              Close
            </button>
                    <button mat-button mat-raised-button color="primary" (click)="backCharge()"  class="back-button">
              <mat-icon aria-label="icon-button">
                keyboard_return
              </mat-icon>
              Back
            </button>
                </div>
              </mat-tab>
              
                </mat-tab-group>
              </mat-tab>
             
              <mat-tab label="Attachments">
                  <table mat-table aria-describedby="attachmentTable" [dataSource]="dataSourceBrowse" width="100%" id="browseTable">
                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef>Sr. No.</th>
                        <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                        {{ i + 1 }}
                        </td>
                    </ng-container>
                      <ng-container matColumnDef="attachmentType">
                          <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
                          <td mat-cell *matCellDef="let item;let i = index;">
                              <mat-select placeholder="Attachment Type" #singleSelect1 required [(ngModel)]="item.attachmentType">
                                  <mat-option>
                                      <ngx-mat-select-search [formControl]="attachmentTypeCodeCtrl" [placeholderLabel]="'Find Attachment Type...'" [noEntriesFoundLabel]="'no matching Attachment Type found'">
                                      </ngx-mat-select-search>
                                  </mat-option>

                                  <mat-option *ngFor="let AT of filteredAttachmentTypeCode | async" [value]="AT.value">
                                      {{AT.viewValue}}
                                  </mat-option>
                              </mat-select>
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="fileName">
                          <th mat-header-cell *matHeaderCellDef scope="row">File name</th>
                          <td mat-cell *matCellDef="let item">
                              <mat-form-field floatLabel="never">
                                  <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
                              </mat-form-field>
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="browse">
                          <th mat-header-cell *matHeaderCellDef scope="row">Browse File</th>
                          <td mat-cell *matCellDef="let i = index" class="centerAlign">
                              <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse
                        Files</button>
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="uploadedFileName">
                          <th mat-header-cell *matHeaderCellDef scope="row">Uploaded file name</th>
                          <td mat-cell *matCellDef="let item">
                              <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="action">
                          <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                          <td mat-cell *matCellDef="let item; let i = index">
                              <table class="iconTable">
                                  <tbody>
                                      <tr>
                                          <td width="30">
                                              <i aria-hidden="true" class="material-icons plus add" *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i == dataSourceBrowse.data.length - 1)" (click)="addBrowse()">
                                        add
                                    </i>
                                          </td>
                                          <td width="30">
                                              <i aria-hidden="true" class="material-icons plus delete" *ngIf="dataSourceBrowse && dataSourceBrowse.data && dataSourceBrowse.data.length > 1" (click)="deleteBrowse(i)">
                                        delete
                                    </i>
                                          </td>
                                      </tr>
                                  </tbody>
                              </table>
                          </td>
                      </ng-container>
                      <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
                  </table>
                  <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />
                  <div class="legend">
                    1. Total File size should be under 2MB<br> 2. File type supported are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
                    ‘JPEG’, ‘PNG’, ‘PDF’.
                  </div>
        <div class="form-action-button">
          <button type="submit" mat-raised-button color="primary">
            <i class="material-icons" aria-hidden="true" title="Save">
              save
            </i>
            Upload
          </button>
                  <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
            <i class="material-icons" aria-hidden="true" title="Listing">
                list
            </i>
            Listing
        </button>
                  <button type="button" mat-raised-button class="btnClose">
            <i class="material-icons" aria-hidden="true" title="Budget dashboard">
              close
            </i>
            Close
          </button>
                  <button mat-button mat-raised-button color="primary" (click)="backCharge()"  class="back-button">
            <mat-icon aria-label="icon-button">
              keyboard_return
            </mat-icon>
            Back
          </button>
      </div>
              </mat-tab>
              
          </mat-tab-group>

          
      </div>
  </div>
</div>