<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Standing Charges Estimate - Form B</div>
      <div class="font-heading"><b>Reference No:</b> 19-20/BUD/SCE/001</div>
      <div class="font-heading"><b>Reference Date:</b> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Budget</a></li>
        <li class="breadcrumb-item active" aria-current="page">Standing Charges Estimates - Form B</li>
      </ol>
    </nav>
    <div>
      <div #parentGrids>
        <mat-tab-group mat-stretch-tabs class="standing-est-tabing" [selectedIndex]="selectedIndex"
          (selectedIndexChange)="getTabIndex($event)">
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon class="example-tab-icon" *ngIf="doneHeader">check</mat-icon>
              Header
            </ng-template>

            <div class=" form-datatable-list">
              <form class="col-sm-12" [formGroup]="createEstimateForm" (ngSubmit)="saveEstimate()">
                <div class="row">
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="finYear" placeholder="Financial Year" required disabled>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="finYearCtrl"
                            [placeholderLabel]="'Find Financial Year...'"
                            [noEntriesFoundLabel]="'no matching Financial Year found'">
                          </ngx-mat-select-search>
                        </mat-option>

                        <mat-option *ngFor="let FY of filteredFinYear | async" [value]="FY.value"
                          matTooltip="{{FY.viewValue}}">
                          {{FY.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.finYear.touched && createEstimateForm.controls.finYear.errors">
                        <mat-error *ngIf="createEstimateForm.controls.finYear.errors.required">
                          {{errorMessages.FIN_YEAR}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="departmentCode" placeholder="Department" required disabled>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                            [placeholderLabel]="'Find Department...'"
                            [noEntriesFoundLabel]="'no matching Department found'">
                          </ngx-mat-select-search>
                        </mat-option>

                        <mat-option *ngFor="let department of filteredDepartmentCode | async" [value]="department.value"
                          matTooltip="{{department.viewValue}}">
                          {{department.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.departmentCode.touched && createEstimateForm.controls.departmentCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.departmentCode.errors.required">
                          {{errorMessages.DEPARTMENT}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="estimationFrom" placeholder="Estimation From" #singleSelect1
                        disabled>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="estimationFromCtrl"
                            [placeholderLabel]="'Find Estimation From...'"
                            [noEntriesFoundLabel]="'no matching Estimation From found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option
                          *ngFor="let estimation of estimation_list | filterSelectInput: estimationFromCtrl.value"
                          [value]="estimation.value">
                          {{estimation.viewValue}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="demandCode" placeholder="Demand" required
                        (selectionChange)="displayDemand();">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="demandCodeCtrl"
                            [placeholderLabel]="'Find Demand Code...'"
                            [noEntriesFoundLabel]="'no matching Demand Code found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let demand of filteredDemandCode | async" [value]="demand.value"
                          matTooltip="{{demand.viewValue}}">
                          {{demand.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.demandCode.touched && createEstimateForm.controls.demandCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.demandCode.errors.required">
                          {{errorMessages.DEMAND}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3" *ngIf="showBPNCode">
                    <mat-form-field class="full-width">

                      <mat-select formControlName="bpnCode" placeholder="BPN Code" disabled required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="bpnCodeCtrl" [placeholderLabel]="'Find BPN Code...'"
                            [noEntriesFoundLabel]="'no matching BPN Code found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let bpn of filteredBPNCode | async" [value]="bpn.value"
                          matTooltip="{{bpn.viewValue}}">
                          {{bpn.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.bpnCode.touched && createEstimateForm.controls.bpnCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.bpnCode.errors.required">
                          {{errorMessages.BPN}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">

                      <mat-select formControlName="majorHeadCode" placeholder="Major Head" required
                        (selectionChange)="displayRevCap();">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="majorHeadCodeCtrl"
                            [placeholderLabel]="'Find Major Head...'"
                            [noEntriesFoundLabel]="'no matching Major Head found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{majorhead.viewValue}}"
                          *ngFor="let majorhead of filteredMajorHeadCode | async" [value]="majorhead.value">
                          {{majorhead.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.majorHeadCode.touched && createEstimateForm.controls.majorHeadCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.majorHeadCode.errors.required">
                          {{errorMessages.MAJOR_HEAD}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3" *ngIf="showRevCap">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="revenueCapital" placeholder="Revenue/Capital" required disabled>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                            [placeholderLabel]="'Find Revenue/Capital...'"
                            [noEntriesFoundLabel]="'no matching Revenue/Capital'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{RCapital.viewValue}}"
                          *ngFor="let RCapital of filteredRevenueCapital | async" [value]="RCapital.value">
                          {{RCapital.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.revenueCapital.touched && createEstimateForm.controls.revenueCapital.errors">
                        <mat-error *ngIf="createEstimateForm.controls.revenueCapital.errors.required">
                          {{errorMessages.REVENUE_CAPITAL}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">

                      <mat-select formControlName="subMajorHeadCode" placeholder="Sub Major Head" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="subMajorHeadCodeCtrl"
                            [placeholderLabel]="'Find Sub Major Head...'"
                            [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{submajorhead.viewValue}}"
                          *ngFor="let submajorhead of filteredSubMajorHeadCode | async" [value]="submajorhead.value">
                          {{submajorhead.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.subMajorHeadCode.touched && createEstimateForm.controls.subMajorHeadCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.subMajorHeadCode.errors.required">
                          {{errorMessages.SUB_MAJOR_HEAD}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <!--matTooltip="{{createEstimateForm.get('minorHeadCode').value}}"-->
                      <mat-select formControlName="minorHeadCode" placeholder="Minor Head" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="minorHeadCodeCtrl"
                            [placeholderLabel]="'Find Minor Head...'"
                            [noEntriesFoundLabel]="'no matching Minor Head found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{minorhead.viewValue}}"
                          *ngFor="let minorhead of filteredMinorHeadCode | async" [value]="minorhead.value">
                          {{minorhead.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.minorHeadCode.touched && createEstimateForm.controls.minorHeadCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.minorHeadCode.errors.required">
                          {{errorMessages.MINOR_HEAD}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <!--matTooltip="{{createEstimateForm.get('subHeadCode').value}}"-->
                      <mat-select formControlName="subHeadCode" placeholder="Sub Head" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="subHeadCodeCtrl" [placeholderLabel]="'Find Sub Head...'"
                            [noEntriesFoundLabel]="'no matching Sub Head found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{subhead.viewValue}}"
                          *ngFor="let subhead of filteredSubHeadCode | async" [value]="subhead.value">
                          {{subhead.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.subHeadCode.touched && createEstimateForm.controls.subHeadCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.subHeadCode.errors.required">
                          {{errorMessages.SUB_HEAD}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <!--matTooltip="{{createEstimateForm.get('detailHeadCode').value}}"-->
                      <mat-select formControlName="detailHeadCode" placeholder="Detailed Head" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="detailHeadCodeCtrl"
                            [placeholderLabel]="'Find Detailed Head...'"
                            [noEntriesFoundLabel]="'no matching Detailed Head found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{detailhead.viewValue}}"
                          *ngFor="let detailhead of filteredDetailHeadCode | async" [value]="detailhead.value">
                          {{detailhead.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.detailHeadCode.touched && createEstimateForm.controls.detailHeadCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.detailHeadCode.errors.required">
                          {{errorMessages.DETAILED_HEAD}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="chargedVotedCode" placeholder="Charged/Voted" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="chargedVotedCodeCtrl"
                            [placeholderLabel]="'Find Charged/Voted...'"
                            [noEntriesFoundLabel]="'no matching Charged/Voted found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option matTooltip="{{chargedVoted.viewValue}}"
                          *ngFor="let chargedVoted of filteredchargedVotedCode | async" [value]="chargedVoted.value">
                          {{chargedVoted.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="createEstimateForm.controls.chargedVotedCode.touched && createEstimateForm.controls.chargedVotedCode.errors">
                        <mat-error *ngIf="createEstimateForm.controls.chargedVotedCode.errors.required">
                          {{errorMessages.CHARGED_VOTED}}</mat-error>
                      </div>
                    </mat-form-field>

                  </div>
                </div>
              </form>
            </div>
            <div class="form-action-button next-button" *ngIf="!doneHeader">
              <button type="submit" mat-raised-button color="primary" (click)="saveConfirmationPopup()">
                Save & Proceed
                <i class="material-icons" aria-hidden="true" title="Next">
                  chevron_right
                </i>
              </button>
            </div>
          </mat-tab>

          <mat-tab label="Detail" [disabled]="tabDisable">
            <mat-form-field class="ml-3 col-sm-3 mr-2" *ngIf="!expendCharges">
              <mat-select placeholder="Select Object Class">
                <mat-option>
                  <ngx-mat-select-search [formControl]="classOneCtrl" [placeholderLabel]="'Find Class...'"
                    [noEntriesFoundLabel]="'no matching Class found'">
                  </ngx-mat-select-search>
                </mat-option>
                <mat-option *ngFor="let C of classType | filterSelectInput:classOneCtrl.value" [value]="C.value">
                  {{C.viewValue}}
                </mat-option>
              </mat-select>

            </mat-form-field>

            <mat-form-field class="col-sm-3" *ngIf="!expendCharges">
              <mat-select class="selection-box" multiple placeholder="Select Object head"
                (selectionChange)="selectedObjectHead($event);">
                <mat-option>
                  <ngx-mat-select-search #codeInput [formControl]="codeCtrl" [placeholderLabel]="'Select Object head'"
                    [noEntriesFoundLabel]="'no matching object head found'">
                  </ngx-mat-select-search>
                </mat-option>
                <mat-option id="{{sObject.viewValue}}" *ngFor="let sObject of filteredCodes | async;let i = index"
                  [value]="sObject.value" matTooltip="{{sObject.viewValue}}">
                  {{sObject.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>


            <div class="newWidth">   
            <div class="rsClass" *ngIf="codes && codes.length > 0"> (â‚¹ in Lakhs) </div>           
            <table mat-table *ngIf="codes && codes.length > 0;" aria-describedby="standingChargeTable" #table
              [dataSource]="dataSource" class="responsive-table" aria-describedby="objectHeadHtable">

              <ng-container matColumnDef="objecthead">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">Object
                  Head</th>
                <td mat-cell *matCellDef="let element;let i= index;">
                  <span *ngIf="!expendCharges && element.isBreakUp">
                    <a matTooltip="{{element.toolTipData}}" href="javascript:void(0);"
                      (click)="showCharge($event, i, element);">
                      {{element.objecthead}}
                    </a>
                  </span>
                  <span *ngIf="!expendCharges && !element.isBreakUp">
                    <span matTooltip="{{element.toolTipData}}">
                      {{element.objecthead}}
                    </span>
                  </span>
                  <span matTooltip="{{element.objecthead}}" *ngIf="expendCharges">
                    {{element.objecthead}}
                  </span>
                </td>
                <td mat-footer-cell *matFooterCellDef>Gross Total </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="thirdlastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">{{loadThirdLastYear()}}</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.thirdlastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.thirdlastyear" (blur)="decimalPoint(element,'thirdlastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign" [ngStyle]="{'padding-left': '88px'}">
                    {{element.thirdlastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                  <span>{{calcThirdLastYear() | number : '1.2-2'}}</span></td>
              </ng-container>


              <ng-container matColumnDef="secondlastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">{{loadSecondLastYear()}}</th>
                <td mat-cell *matCellDef="let secondLastYearsVal">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="secondLastYearsVal.secondlastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="secondLastYearsVal.secondlastyear"
                      (input)="getBillNo(secondLastYearsVal.secondlastyear)"
                      (blur)="decimalPoint(secondLastYearsVal,'secondlastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign" [ngStyle]="{'padding-left': '91px'}">

                    {{secondLastYearsVal.secondlastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcSecondLastYear() | number : '1.2-2'}}
                </td>
              </ng-container>


              <ng-container matColumnDef="lastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">{{loadLastYear()}}</th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.lastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.lastyear" (blur)="decimalPoint(element,'lastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign" [ngStyle]="{'padding-left': '95px'}">
                    {{element.lastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcLastYear() | number : '1.2-2'}}</td>
              </ng-container>


              <ng-container matColumnDef="currentyear">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">Budget
                  estimates for
                  {{loadCurrentYear()}}</th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '11.5%'}">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput (keypress)="decimalKeyPress($event)" [value]="element.currentyear"
                      [(ngModel)]="element.currentyear" (blur)="decimalPoint(element,'currentyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.currentyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcCurrentYear() | number : '1.2-2'}}</td>
              </ng-container>

              <!-- Fav Column -->
              <ng-container matColumnDef="last8month">
                <th mat-header-cell *matHeaderCellDef scope="row">Last 8 month of the previous year {{loadLastYear()}}
                </th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.last8month" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.last8month" (blur)="decimalPoint(element,'last8month')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign" [ngStyle]="{'width': '8%'}">
                    {{element.lastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcLast8Month() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="first4month">
                <th mat-header-cell *matHeaderCellDef scope="row">First 4 month of the current year {{loadCurrentYear()}}
                </th>
                <td mat-cell *matCellDef="let element">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput (keypress)="decimalKeyPress($event)" [value]="element.first4month"
                      [(ngModel)]="element.first4month" (blur)="decimalPoint(element,'first4month')">
                  </mat-form-field>

                  <div *ngIf="expendCharges" class="rightAlign" [ngStyle]="{'width': '8%'}">
                    {{element.first4month | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcFirst4Month() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="totalof8and4month">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" class="gray-color"
                  scope="row">
                  Total of 8 & 4 month</th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign" [ngStyle]="{'width': '9%'}">
                  {{(element.last8month-0) + (element.first4month-0) | number:'1.2-2'}}
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign" [ngStyle]="{'width': '5%'}">
                  {{calcTotalof8and4Month() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="col6">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" class="gray-color">Col
                  6*1.5</th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                  {{ element.last8month * 1.5 | number : '1.2-2'}}
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcCol6_15() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="col7">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" class="gray-color"
                  scope="row">Col
                  7*3</th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                  {{ element.first4month * 3 | number : '1.2-2'}}
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcCol7_3() | number : '1.2-2'}}</td>
              </ng-container>



              <ng-container matColumnDef="amountproposedbyHOD">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">
                  Amount Proposed For {{loadNextYear()}}</th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '10.5%'}">


                  <!-- <mat-form-field floatLabel="never" style="width:90px">
                                                            <input  class="history" matInput (keypress)="decimalKeyPress($event)" >                                                        
                                                        </mat-form-field> -->
                  <mat-form-field floatLabel="never" class="rightAlign" style="width: 90px;">
                    <input matInput (keypress)="decimalKeyPress($event)" [value]="element.amountproposedbyHOD"
                      [(ngModel)]="element.amountproposedbyHOD">
                  </mat-form-field>

                  <i class="material-icons btn-history " title="View History" (click)="openHistory(element)">history</i>


                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtProposedByDDO() | number : '1.2-2'}}
                </td>
              </ng-container>


              <ng-container matColumnDef="remarks">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">Remarks
                </th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '8.5%'}">
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges">
                    <textarea matInput [value]="element.remarks" [(ngModel)]="element.remarks"></textarea>
                  </mat-form-field>
                  <div *ngIf="expendCharges">
                    {{element.remarks}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                </td>
              </ng-container>

              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">
                  <b>Action</b></th>
                <td mat-cell *matCellDef="let element; let i = index" width="30" class="centerAlign">
                  <!-- <i class="material-icons plus delete" [class.disable-delete-btn]="expendCharges"
                    (click)="deleteConfirmation(i, element)">
                    delete
                  </i> -->

                  <i class="material-icons plus delete" (click)="deleteConfirmation(i, element)">
                    delete
                  </i>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                </td>
              </ng-container>

              <ng-container matColumnDef="ObjectHead1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2" scope="row">Object Head</th>
              </ng-container>
              <ng-container matColumnDef="BudgetEstimate">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Budget estimates {{loadCurrentYear()}} 
                  <br> Standing Charges only
                </th>
              </ng-container>
              <ng-container matColumnDef="totalof8and4month1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Total of 8 & 4 month (6 + 7)
                </th>
              </ng-container>

              <ng-container matColumnDef="col61">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col. 6*1.5 Times</th>
              </ng-container>

              <ng-container matColumnDef="col71">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col. 7*3 Times</th>
              </ng-container>

              <ng-container matColumnDef="amountproposedbyHOD1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Amount Proposed For
                  {{loadNextYear()}}</th>
              </ng-container>

              <ng-container matColumnDef="remarks1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Remarks</th>
              </ng-container>

              <ng-container matColumnDef="header3">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Accounts</th>
              </ng-container>

              <ng-container matColumnDef="header4">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actual of</th>
              </ng-container>

              <ng-container matColumnDef="action1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Action</th>
              </ng-container>

              <ng-container matColumnDef="1">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
              </ng-container>
              <ng-container matColumnDef="2">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
              </ng-container>
              <ng-container matColumnDef="3">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
              </ng-container>
              <ng-container matColumnDef="4">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
              </ng-container>
              <ng-container matColumnDef="5">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
              </ng-container>
              <ng-container matColumnDef="6">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
              </ng-container>
              <ng-container matColumnDef="7">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
              </ng-container>
              <ng-container matColumnDef="8">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
              </ng-container>
              <ng-container matColumnDef="9">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
              </ng-container>
              <ng-container matColumnDef="10">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
              </ng-container>
              <ng-container matColumnDef="11">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
              </ng-container>
              <ng-container matColumnDef="12">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">12</th>
              </ng-container>
              <ng-container matColumnDef="13">
                <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">13</th>
              </ng-container>

              <tr mat-header-row
                *matHeaderRowDef="['ObjectHead1','header3','BudgetEstimate','header4','totalof8and4month1','col61','col71','amountproposedbyHOD1','remarks1', 'action1']">
              </tr>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

              <tr mat-header-row class="unsetHeight"
                *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12', '13']">
              </tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;let i= index;"
                [ngClass]="{'successObject': succObjectCode.includes(row.objecthead), 'selected-row': row.isSelected}"
                [matTooltip]="(succObjectCode.includes(row.objecthead) ? 'Your break up is completed!' : '')"
                (click)="getRowData(i);"></tr>
              <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
            </table>

            <div class="recovertTitle" *ngIf="codes && codes.length > 0"><b>Recovery</b></div>
            <table mat-table *ngIf="codes && codes.length > 0" aria-describedby="standingChargeRecoveryTable" #table
              class="tbl-recovery responsive-table" [dataSource]="recoveryDataSource"
              aria-describedby="recoveryobjectHeadwise">

              <ng-container matColumnDef="objecthead">
                <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '5%'}">
                  <span matTooltip="{{element.toolTipData}}">
                    {{element.objecthead}}
                  </span>
                </td>
                <td mat-footer-cell *matFooterCellDef>Net Total</td>
              </ng-container>

              <ng-container matColumnDef="thirdlastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">Third last year</th>
                <td *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                  <!-- {{element.thirdlastyear | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.thirdlastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.thirdlastyear" (blur)="decimalPoint(element,'thirdlastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.thirdlastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetThirdLastYear() | number : '1.2-2'}}
                </td>
              </ng-container>

              <ng-container matColumnDef="secondlastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">{{loadSecondLastYear()}}</th>
                <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                  <!-- {{element.secondlastyear | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.secondlastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.secondlastyear" (blur)="decimalPoint(element,'secondlastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.secondlastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetSecondLastYear() | number : '1.2-2'}}
                </td>
              </ng-container>

              <ng-container matColumnDef="lastyear">
                <th mat-header-cell *matHeaderCellDef scope="row">{{loadLastYear()}}</th>
                <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '9%'}">
                  <!-- {{element.lastyear | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.lastyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.lastyear" (blur)="decimalPoint(element,'lastyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.lastyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetLastYear() | number : '1.2-2'}}</td>
              </ng-container>


              <ng-container matColumnDef="currentyear">
                <th mat-header-cell *matHeaderCellDef scope="row">Budget estimates for </th>
                <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '11%'}">
                  <!-- {{element.currentyear | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.currentyear" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.currentyear" (blur)="decimalPoint(element,'currentyear')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.currentyear | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                  {{calcNetCurrentYear() | number : '1.2-2'}}
                </td>
              </ng-container>



              <ng-container matColumnDef="last8month">
                <th mat-header-cell *matHeaderCellDef scope="row">Last 8 month of {{loadLastYear()}}</th>
                <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8.5%'}">
                  <!-- {{element.last8month | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.last8month" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.last8month" (blur)="decimalPoint(element,'last8month')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.last8month | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetLast8Month() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="first4month">
                <th mat-header-cell *matHeaderCellDef scope="row">First 4 month of {{loadCurrentYear()}}</th>
                <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '9%'}">
                  <!-- {{element.first4month | number : '1.2-2'}} -->
                  <mat-form-field floatLabel="never" *ngIf="!expendCharges" class="rightAlign">
                    <input matInput [value]="element.first4month" (keypress)="decimalKeyPress($event)"
                      [(ngModel)]="element.first4month" (blur)="decimalPoint(element,'first4month')">
                  </mat-form-field>
                  <div *ngIf="expendCharges" class="rightAlign">
                    {{element.first4month | number : '1.2-2'}}
                  </div>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign" [ngStyle]="{'width': '9%'}">
                  {{calcNetFirst4Month() | number : '1.2-2'}}
                </td>
              </ng-container>

              <ng-container matColumnDef="totalof8and4month">
                <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Total of 8 & 4 month</th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign" [ngStyle]="{'width': '8%'}">
                  <span>
                    {{(element.last8month-0) + (element.first4month-0) | number:'1.2-2'}}
                    <!-- {{ element.last8month + element.first4month | number : '1.2-2'}} -->
                  </span>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                  {{calcNetTotalof8and4Month() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="col6">
                <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Col 6*1.5
                </th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign" [ngStyle]="{'width': '5%'}">
                  <span>{{ element.last8month * 1.5 | number : '1.2-2'}}</span>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetCol6_15() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="col7">
                <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Col 7*3
                </th>
                <td mat-cell *matCellDef="let element" class="coldisable rightAlign" [ngStyle]="{'width': '5%'}">
                  <span>{{ element.first4month * 3 | number : '1.2-2'}}</span>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetCol7_3() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="amountproposedbyHOD">
                <th mat-header-cell *matHeaderCellDef scope="row">Amount proposed For {{loadNextYear()}}
                </th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '10.5%'}">
                  <!-- <mat-form-field floatLabel="never" class="rightAlign">
                                        <input matInput (keypress)="decimalKeyPress($event)" [value]="element.amountproposedbyHOD | number : '1.2-2'" [(ngModel)]="element.amountproposedbyHOD" (blur)="[decimalPoint(element,'amountproposedbyHOD')]" step='0.01'>
                                    </mat-form-field> -->
                  <!-- <input matInput (keypress)="decimalKeyPress($event)" [value]="element.amountproposedbyHOD | number : '1.2-2'" [(ngModel)]="element.amountproposedbyHOD" (blur)="[decimalPoint(element,'amountproposedbyHOD')]" step='0.01'> -->
                  <mat-form-field floatLabel="never" class="rightAlign" style="width: 90px;">
                    <input matInput (keypress)="decimalKeyPress($event)" [value]="element.amountproposedbyHOD"
                      [(ngModel)]="element.amountproposedbyHOD" (blur)="[decimalPoint(element,'amountproposedbyHOD')]"
                      step='0.01'>
                  </mat-form-field>
                  <i class="material-icons btn-history " title="View History" (click)="openHistory(element)">history</i>

                </td>

                <td mat-footer-cell *matFooterCellDef class="rightAlign">
                  {{calcNetAmtProposedByHOD() | number : '1.2-2'}}</td>
              </ng-container>

              <ng-container matColumnDef="remarks">
                <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '6%'}">
                  <mat-form-field floatLabel="never">
                    <textarea matInput [value]="element.remarks" [(ngModel)]="element.remarks"></textarea>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef scope="row"><b>Action</b></th>
                <td mat-cell *matCellDef="let element; let i = index" width="30" class="centerAlign">
                  <!-- <i class="material-icons plus delete " [class.disable-delete-btn]="expendCharges"
                    (click)="deleteConfirmation2(i, element)">
                    delete
                  </i> -->

                  <i class="material-icons plus delete " (click)="deleteConfirmation2(i, element)">
                    delete
                  </i>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">

                </td>
              </ng-container>

              <ng-container matColumnDef="ObjectHead2">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Object Head</th>
              </ng-container>

              <ng-container matColumnDef="BudgetEstimate">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Budget estimates for
                  {{loadCurrentYear()}}
                </th>
              </ng-container>

              <ng-container matColumnDef="totalof8and4month2">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Total of 8 & 4 month
                </th>
              </ng-container>

              <ng-container matColumnDef="col62">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col 6*1.5
                </th>
              </ng-container>

              <ng-container matColumnDef="col72">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col 7*3</th>
              </ng-container>

              <ng-container matColumnDef="amountproposedbyHOD2">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Amount proposed For
                  {{loadNextYear()}}
                </th>
              </ng-container>

              <ng-container matColumnDef="remarks2">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Remarks</th>
              </ng-container>

              <ng-container matColumnDef="header23">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Account of</th>
              </ng-container>

              <ng-container matColumnDef="header24">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actuals of</th>
              </ng-container>
              <ng-container matColumnDef="action1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Action</th>
              </ng-container>

              <tr mat-row *matRowDef="let row; columns: consolidateColumns;let i= index;"></tr>
              <tr mat-footer-row *matFooterRowDef="consolidateColumns; sticky: true"></tr>
            </table>
            </div>

            <div class="text-center" *ngIf="subHeadLvlVar"> <strong> Sub Head Level Percentage Variation :</strong>
              65.50% <span> Increase</span></div>

            <div class="form-action-button" *ngIf="!expendCharges">
              <button type="submit" mat-raised-button color="primary">
                <i class="material-icons" aria-hidden="true" title="Save">
                  save
                </i>
                Save as Draft
              </button>
              <button type="view" mat-raised-button color="accent" (click)="viewComments()">
                <i class="material-icons " title="View">remove_red_eye</i>
                View Comments
              </button>
              <button mat-raised-button type="submit" class="green" (click)="submitToNextLevel()"><i
                  class="material-icons">
                  done
                </i> Submit</button>
              <button type="reset" mat-raised-button color="accent">
                <i class="material-icons" aria-hidden="true">
                  restore
                </i>
                Reset
              </button>
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
              <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                  close
                </i>
                Close
              </button>
            </div>

            <div #scrollChargeMe *ngIf="expendCharges" style="margin-top: 15px;">
              <mat-tab-group mat-stretch-tabs>
                <mat-tab label="Object Head Wise Breakup">
                  <div style="display: flex;">
                    <mat-form-field class="ml-3 col-sm-3 mr-2">
                      <mat-select placeholder="Select Object Class">
                        <mat-option>
                          <ngx-mat-select-search [formControl]="classTwoCtrl" [placeholderLabel]="'Find Class...'"
                            [noEntriesFoundLabel]="'no matching Class found'">
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let Cl of classType | filterSelectInput:classTwoCtrl.value"
                          [value]="Cl.value">
                          {{Cl.viewValue}}
                        </mat-option>
                      </mat-select>

                    </mat-form-field>

                    <div class="col-sm-3">
                      <mat-form-field>
                        <mat-select placeholder="Select Object head" (selectionChange)="selectCharge($event);" multiple>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subObjectFilterCtrl"
                              [placeholderLabel]="'Object head'"
                              [noEntriesFoundLabel]="'no matching object head found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option matTooltip="{{sObject.name}}" *ngFor="let sObject of filteredSubObjects | async"
                            [value]="sObject.id">
                            {{sObject.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                  </div>
                  <div *ngIf="expendDataSource && expendDataSource.data && expendDataSource.data.length > 0"
                    aria-describedby="objectheadewiseBreakup">
                    <div class="newWidth"> 
                    <div class="rsClass"> (â‚¹ in Lakhs) </div>
                    <table mat-table #table aria-describedby="objHeadWise" [dataSource]="expendDataSource">
                      <!-- Position Column -->
                      <ng-container matColumnDef="objecthead">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">
                          Object Head</th>
                        <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '4%'}">
                          <span matTooltip="{{element.objecthead}}">{{ element.objecthead }}</span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef>Gross Total </td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container matColumnDef="thirdlastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">{{loadThirdLastYear()}}</th>
                        <td *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '169px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.thirdlastyear"
                              [(ngModel)]="element.thirdlastyear" (input)="getBillNo(element.thirdlastyear)"
                              (blur)="decimalPoint(element,'thirdlastyear')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{calcThirdLastYear1()}}</td>
                      </ng-container>

                      <!-- secondlastyear -->
                      <ng-container matColumnDef="secondlastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">{{loadSecondLastYear()}}</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '88px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.secondlastyear"
                              [(ngModel)]="element.secondlastyear" (input)="getBillNo(element.secondlastyear)"
                              (blur)="decimalPoint(element,'secondlastyear')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{calcSecondLastYear1()}} </td>
                      </ng-container>

                      <!-- Symbol Column -->
                      <ng-container matColumnDef="lastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">{{loadLastYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '88px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.lastyear"
                              [(ngModel)]="element.lastyear" (blur)="decimalPoint(element,'lastyear')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{calcLastYear1()}}</td>
                      </ng-container>

                      <!-- Symbol Column -->
                      <ng-container matColumnDef="currentyear">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">
                          Budget estimates for {{loadCurrentYear()}} </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '68px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.currentyear"
                              [(ngModel)]="element.currentyear" (blur)="decimalPoint(element,'currentyear')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef [ngStyle]="{'width': '21%'}" class="rightAlign">{{calcCurrentYear1()}} </td>
                      </ng-container>

                      <!-- Fav Column -->
                      <ng-container matColumnDef="last8month">
                        <th mat-header-cell *matHeaderCellDef scope="row">Last 8 month of the previous year {{loadLastYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '82px'}">
                            <input matInput [value]="element.last8month" (keypress)="decimalKeyPress($event)"
                              [(ngModel)]="element.last8month" (blur)="decimalPoint(element,'last8month')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcLast8Month1()}} </td>
                      </ng-container>

                      <ng-container matColumnDef="first4month">
                        <th mat-header-cell *matHeaderCellDef scope="row">First 4 month of of the current year {{loadCurrentYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '10%'}">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '78px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.first4month"
                              [(ngModel)]="element.first4month" (blur)="decimalPoint(element,'first4month')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{calcFirst4Month1()}}</td>
                      </ng-container>

                      <ng-container matColumnDef="totalof8and4month">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}"
                          class="gray-color">Total
                          of 8 & 4 month</th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                          <span>
                            {{ covertToNumber(element) | number : '1.2-2'}}
                          </span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef [ngStyle]="{'width': '10%'}" class="rightAlign"> {{calcTotalof8and4Month1()}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="col6">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}"
                          class="gray-color">Col
                          6*1.5
                        </th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                          <span>{{ element.last8month * 1.5 | number : '1.2-2'}}</span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef [ngStyle]="{'width': '10%'}" class="rightAlign"> {{calcCol6_151()}}</td>
                      </ng-container>

                      <ng-container matColumnDef="col7">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}"
                          class="gray-color">Col 7*3
                        </th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                          <span>{{ element.first4month * 3 | number : '1.2-2'}}</span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef [ngStyle]="{'width': '10%'}" class="rightAlign"> {{calcCol7_31()}}</td>
                      </ng-container>

                      <ng-container matColumnDef="amountproposedbyHOD">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">
                          Amount Proposed For {{loadNextYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '11.5%'}">
                          <mat-form-field floatLabel="never" class="rightAlign" [ngStyle]="{'width': '76px'}">
                            <input matInput (keypress)="decimalKeyPress($event)" [value]="element.amountproposedbyHOD"
                              [(ngModel)]="element.amountproposedbyHOD"
                              (blur)="decimalPoint(element,'amountproposedbyHOD')">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtProposedByDDO1()}} </td>
                      </ng-container>

                      <ng-container matColumnDef="remarks">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">
                          Remarks</th>
                        <td mat-cell *matCellDef="let element">
                          <!-- <mat-form-field floatLabel="never">
                                                        <input matInput [value]="element.remarks" [(ngModel)]="element.remarks">
                                                    </mat-form-field> -->

                          <mat-form-field floatLabel="never">
                            <textarea matInput [value]="element.remarks" [(ngModel)]="element.remarks"></textarea>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>

                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">
                          <b>Action</b></th>
                        <td mat-cell *matCellDef="let element; let i = index" width="30" class="centerAlign">
                          <i class="material-icons plus delete" (click)="deleteObjectHeadBreakupRow(i)">
                            delete
                          </i>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>


                      <ng-container matColumnDef="ObjectHead2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Object Head
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="BudgetEstimate">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Budget estimates {{loadCurrentYear()}}
                          <br> Standing Charges only
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="totalof8and4month2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Total of 8 & 4 month (6 + 7)
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="col62">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col. 6*1.5 Times
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="col72">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col. 7*3 Times</th>
                      </ng-container>

                      <ng-container matColumnDef="amountproposedbyHOD2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Amount proposed For
                          {{loadNextYear()}}
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="remarks2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Remarks</th>
                      </ng-container>

                      <ng-container matColumnDef="header23">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Accounts</th>
                      </ng-container>

                      <ng-container matColumnDef="header24">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actual of</th>
                      </ng-container>
                      <ng-container matColumnDef="action1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Action</th>
                      </ng-container>

                      <ng-container matColumnDef="1">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">1</th>
                      </ng-container>
                      <ng-container matColumnDef="2">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">2</th>
                      </ng-container>
                      <ng-container matColumnDef="3">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">3</th>
                      </ng-container>
                      <ng-container matColumnDef="4">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">4</th>
                      </ng-container>
                      <ng-container matColumnDef="5">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">5</th>
                      </ng-container>
                      <ng-container matColumnDef="6">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">6</th>
                      </ng-container>
                      <ng-container matColumnDef="7">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">7</th>
                      </ng-container>
                      <ng-container matColumnDef="8">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">8</th>
                      </ng-container>
                      <ng-container matColumnDef="9">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">9</th>
                      </ng-container>
                      <ng-container matColumnDef="10">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">10</th>
                      </ng-container>
                      <ng-container matColumnDef="11">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">11</th>
                      </ng-container>

                      <ng-container matColumnDef="12">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">12</th>
                      </ng-container>
                      <ng-container matColumnDef="13">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">13</th>
                      </ng-container>

                      <tr mat-header-row
                        *matHeaderRowDef="['ObjectHead2','header23','BudgetEstimate','header24','totalof8and4month2','col62','col72','amountproposedbyHOD2','remarks2','action1']">
                      </tr>
                      <tr mat-header-row *matHeaderRowDef="subDisplayedColumns"></tr>

                      <tr mat-header-row class="unsetHeight"
                        *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13']">
                      </tr>

                      <tr mat-row *matRowDef="let row; columns: subDisplayedColumns;let i= index;"
                        (click)="getRowData(i);">

                      </tr>
                      <tr mat-footer-row *matFooterRowDef="subDisplayedColumns; sticky: true"></tr>
                    </table>
                    <div class="recovertTitle"><b>Recovery</b></div>
                    <table mat-table #table aria-describedby="objHeadWiseRecovery" class="tbl-recovery responsive-table"
                      [dataSource]="recoveryDataExpendSource">

                      <ng-container matColumnDef="objecthead">
                        <th mat-header-cell *matHeaderCellDef scope="row">Object Head</th>
                        <td mat-cell *matCellDef="let element" [ngStyle]="{'width': '4.5%'}">
                          <span matTooltip="{{element.toolTipData}}">
                            {{element.objecthead}}
                          </span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef>Net Total </td>
                      </ng-container>

                      <ng-container matColumnDef="thirdlastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">Third last year</th>
                        <td *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '15%'}">
                          {{element.thirdlastyear | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetThirdLastYear1() | number : '1.2-2'}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="secondlastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">{{loadSecondLastYear()}}</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                          {{element.secondlastyear | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetSecondLastYear1() | number : '1.2-2'}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="lastyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">{{loadLastYear()}}</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                          {{element.lastyear | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetLastYear1() | number : '1.2-2'}}</td>
                      </ng-container>

                      <ng-container matColumnDef="currentyear">
                        <th mat-header-cell *matHeaderCellDef scope="row">Budget estimates for {{loadCurrentYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '11.4%'}">
                          {{element.currentyear | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetCurrentYear1() | number : '1.2-2'}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="last8month">
                        <th mat-header-cell *matHeaderCellDef scope="row">Last 8 month of {{loadLastYear()}}</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                          {{element.last8month | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetLast8Month1() | number : '1.2-2'}}</td>
                      </ng-container>

                      <ng-container matColumnDef="first4month">
                        <th mat-header-cell *matHeaderCellDef scope="row">First 4 month of {{loadCurrentYear()}}</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign" [ngStyle]="{'width': '8%'}">
                          {{element.first4month | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetFirst4Month1() | number : '1.2-2'}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="totalof8and4month">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Total of 8 & 4 month</th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign"
                          [ngStyle]="{'width': '6.6%'}">
                          <span>
                            {{ (element.last8month + element.first4month) | number : '1.2-2'}}
                          </span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetTotalof8and4Month1() | number : '1.2-2'}}</td>
                      </ng-container>

                      <ng-container matColumnDef="col6">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Col 6*1.5
                        </th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                          <span>{{ element.last8month * 1.5 | number : '1.2-2'}}</span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetCol6_151() | number : '1.2-2'}}</td>
                      </ng-container>

                      <ng-container matColumnDef="col7">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="gray-color">Col 7*3
                        </th>
                        <td mat-cell *matCellDef="let element" class="coldisable rightAlign">
                          <span>{{ element.first4month * 3 | number : '1.2-2'}}</span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcNetCol7_31() | number : '1.2-2'}}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="amountproposedbyHOD">
                        <th mat-header-cell *matHeaderCellDef scope="row">Amount proposed for {{loadNextYear()}}
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)"
                              [value]="element.amountproposedbyHOD | number : '1.2-2'"
                              [(ngModel)]="element.amountproposedbyHOD"
                              (blur)="[decimalPoint(element,'amountproposedbyHOD')]" step='0.01'>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                          {{calcNetAmtProposedByHOD1() | number : '1.2-2'}}</td>
                      </ng-container>

                      <ng-container matColumnDef="remarks">
                        <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field floatLabel="never">
                            <!-- <input matInput [value]="element.remarks" [(ngModel)]="element.remarks"> -->
                            <textarea matInput [value]="element.remarks" [(ngModel)]="element.remarks"></textarea>
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                      </ng-container>

                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">
                          <b>Action</b>
                        </th>
                        <td mat-cell *matCellDef="let element; let i = index" class="centerAlign"
                          [ngStyle]="{'width': '5%'}">
                          <!-- <i class="material-icons plus delete" [class.disable-delete-btn]="expendCharges"
                            (click)="removeObjectHead(i, element)">
                            delete
                          </i> -->

                          <i class="material-icons plus delete" (click)="removeObjectHead(i, element)">
                            delete
                          </i>
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="ObjectHead2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Object Head</th>
                      </ng-container>

                      <ng-container matColumnDef="BudgetEstimate">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Budget estimates for
                          {{loadCurrentYear()}}
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="totalof8and4month2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Total of 8 & 4 month
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="col62">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col 6*1.5
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="col72">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Col 7*3</th>
                      </ng-container>

                      <ng-container matColumnDef="amountproposedbyHOD2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Amount proposed For
                          {{loadNextYear()}}
                        </th>
                      </ng-container>

                      <ng-container matColumnDef="remarks2">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Remarks</th>
                      </ng-container>

                      <ng-container matColumnDef="header23">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Account of</th>
                      </ng-container>

                      <ng-container matColumnDef="header24">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Actuals of</th>
                      </ng-container>
                      <ng-container matColumnDef="action1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Action</th>
                      </ng-container>

                      <tr mat-row *matRowDef="let row; columns: consolidateColumns;let i= index;"></tr>
                      <tr mat-footer-row *matFooterRowDef="consolidateColumns; sticky: true"></tr>
                    </table>
                    </div>
                  </div>
                </mat-tab>

                <mat-tab label="Grant-in-Aid" *ngIf="grantInAid">
                  <div class="rsClass"> (â‚¹ in Lakhs) </div>
                  <table mat-table #districtTable aria-describedby="districtTable2" [dataSource]="districtDataSource2"
                    id="districtTable1" *ngIf="table1">
                    <!-- Position Column -->
                    <ng-container matColumnDef="position">
                      <div style="width: 10%;">
                        <th mat-header-cell *matHeaderCellDef scope="row"> Sr No. </th>
                        <!-- <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell> -->
                        <td mat-cell *matCellDef="let element;let idx = index;"> {{idx + 1}}
                        </td>
                      </div>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="district">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Name of District </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.districtName }}
                      </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="expendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Corporation (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.expendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.expendature"
                            (blur)="[decimalPoint(element,'expendature'), addToDistrictTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="talukaexpendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Municipalities (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.talukaexpendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.talukaexpendature"
                            (blur)="[decimalPoint(element,'talukaexpendature'), addToTalukaTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="gramexpendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Notified Area (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.gramexpendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.gramexpendature"
                            (blur)="[decimalPoint(element,'gramexpendature'), addToGramTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="total">
                      <td mat-footer-cell *matFooterCellDef [attr.colspan]="2" class="centerAlign">Total</td>
                    </ng-container>
                    <ng-container matColumnDef="districtTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{corporation() | number : '1.2-2'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="talukaTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{municipal() | number : '1.2-2'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="gramTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{notifiedArea() | number : '1.2-2'}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="districtColumns"></tr>
                    <tr mat-footer-row *matFooterRowDef="['total', 'districtTotal', 'talukaTotal', 'gramTotal']"
                      style="font-weight: 600;"></tr>
                    <tr mat-row *matRowDef="let row; columns: districtColumns;let i= index;"></tr>
                  </table>

                  <table mat-table #districtTable aria-describedby="districtTable" [dataSource]="districtDataSource"
                    id="districtTable2" *ngIf="table2">
                    <!-- Position Column -->
                    <ng-container matColumnDef="position">
                      <div style="width: 10%;">
                        <th mat-header-cell *matHeaderCellDef scope="row"> Sr No. </th>
                        <!-- <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell> -->
                        <td mat-cell *matCellDef="let element;let idx = index;"> {{idx + 1}}
                        </td>
                      </div>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="district">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Name of District </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.districtName }}
                      </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="expendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Jilla (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.expendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.expendature"
                            (blur)="[decimalPoint(element,'expendature'), addToDistrictTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="talukaexpendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Taluka (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.talukaexpendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.talukaexpendature"
                            (blur)="[decimalPoint(element,'talukaexpendature'), addToTalukaTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="gramexpendature">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Gram (proposed Amount)
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.gramexpendature" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.gramexpendature"
                            (blur)="[decimalPoint(element,'gramexpendature'), addToGramTotal()]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="total">
                      <td mat-footer-cell *matFooterCellDef [attr.colspan]="2" class="centerAlign">Total</td>
                    </ng-container>
                    <ng-container matColumnDef="districtTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        <!-- {{districtDataTotal.districtTotal | number : '1.2-2'}}</td> -->
                        {{jilla() | number : '1.2-2'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="talukaTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        <!-- {{districtDataTotal.talukaTotal | number : '1.2-2'}}</td> -->
                        {{taluka() | number : '1.2-2'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="gramTotal">
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        <!-- {{districtDataTotal.gramTotal | number : '1.2-2'}}</td> -->
                        {{gram() | number : '1.2-2'}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="districtColumns"></tr>
                    <tr mat-footer-row *matFooterRowDef="['total', 'districtTotal', 'talukaTotal', 'gramTotal']"
                      style="font-weight: 600;"></tr>

                    <tr mat-row *matRowDef="let row; columns: districtColumns;let i= index;"></tr>
                  </table>



                  <table mat-table #districtTable aria-describedby="stateTable" [dataSource]="stateDataSource"
                    id="districtTable3">

                    <ng-container matColumnDef="position">
                      <div style="width: 10%;">
                        <th mat-header-cell *matHeaderCellDef scope="row"> Sr No. </th>

                        <td mat-cell *matCellDef="let element">
                          {{ element.id }}
                        </td>
                      </div>
                    </ng-container>


                    <ng-container matColumnDef="district">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Name of District </th>
                      <td mat-cell *matCellDef="let element">
                        {{ element.districtName }}
                      </td>
                    </ng-container>


                    <ng-container matColumnDef="propsedAmount">
                      <th mat-header-cell *matHeaderCellDef scope="row">proposed Amount
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [value]="element.propsedAmount" (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.propsedAmount" (blur)="[decimalPoint(element,'propsedAmount')]">
                        </mat-form-field>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="stateColumns"></tr>

                    <tr mat-row *matRowDef="let row; columns: stateColumns;let i= index;"></tr>
                  </table>



                </mat-tab>

                <mat-tab label="Annexure - 1">
                  <!-- changes before data -->
                  <div class="rsClass">
                    <div> (â‚¹ in Lakhs) </div>
                  </div>

                  <table mat-table aria-describedby="annexureTableInBreakup" [dataSource]="dataSourceAttachment">
                    <ng-container matColumnDef="data">
                      <th mat-header-cell *matHeaderCellDef scope="row">Edu Office </th>
                      <td mat-cell *matCellDef="let item;" [attr.colspan]="item.extend ? '9' : '1'">
                        {{item.data}} </td>
                    </ng-container>
                    <ng-container matColumnDef="val1">
                      <th mat-header-cell *matHeaderCellDef scope="row"></th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val1Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="integerKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val1" [(ngModel)]="item.val1" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val1}}
                        </ng-template>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="val2">
                      <th mat-header-cell *matHeaderCellDef scope="row">Basic Pay</th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val2Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val2" [(ngModel)]="item.val2" (blur)="decimalPoint(item,'val2')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val2}}
                        </ng-template>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="val3">
                      <th mat-header-cell *matHeaderCellDef scope="row">DA </th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val3Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val3" [(ngModel)]="item.val3" (blur)="decimalPoint(item,'val3')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val3}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val4">
                      <th mat-header-cell *matHeaderCellDef scope="row"> HRA </th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val4Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val4" [(ngModel)]="item.val4" (blur)="decimalPoint(item,'val4')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val4}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val5">
                      <th mat-header-cell *matHeaderCellDef scope="row"> CLA </th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val5Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val5" [(ngModel)]="item.val5" (blur)="decimalPoint(item,'val5')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val5}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val6">
                      <th mat-header-cell *matHeaderCellDef scope="row">OA </th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val6Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                              [value]="item.val6" [(ngModel)]="item.val6" (blur)="decimalPoint(item,'val6')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val6}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val7">
                      <th mat-header-cell *matHeaderCellDef scope="row"></th>
                      <td mat-cell *matCellDef="let item" class="rightAlign" style="width: 146px;">
                        {{item.val7}} </td>
                    </ng-container>

                    <!-- <ng-container matColumnDef="remark">
                                            <th mat-header-cell *matHeaderCellDef scope="row"></th>
                                            <td mat-cell *matCellDef="let item">
                                                <div *ngIf="(item.remarkEdit); else itemValue">
                                                    <mat-form-field floatLabel="never">
                                                        <textarea matInput (input)="updateAttachmentRemarks()" [value]="item.remark" [(ngModel)]="item.remark" readonly></textarea>
                                                    </mat-form-field>
                                                </div>
                                                <ng-template #itemValue>
                                                    {{item.remark}}
                                                </ng-template>
                                            </td>
                                        </ng-container> -->

                    <ng-container matColumnDef="header1">
                      <th mat-header-cell *matHeaderCellDef scope="row">Name <span class="text-lowercase">of</span>
                        Office</th>
                    </ng-container>

                    <ng-container matColumnDef="header2">
                      <th mat-header-cell *matHeaderCellDef scope="row">No <span class="text-lowercase">of</span> Post
                      </th>
                    </ng-container>

                    <ng-container matColumnDef="header3">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="5">Provision for 2020-2021 </th>
                    </ng-container>

                    <ng-container matColumnDef="header4">
                      <th mat-header-cell *matHeaderCellDef scope="row"> Total </th>
                    </ng-container>

                    <!-- <ng-container matColumnDef="header5">
                                            <th mat-header-cell *matHeaderCellDef scope="row"> Remarks </th>
                                        </ng-container> -->

                    <tr mat-header-row *matHeaderRowDef="['header1', 'header2', 'header3', 'header4']"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns;"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['data']; when: isExtendedRow" class="darken">
                    </tr>

                  </table>
                  <table mat-table aria-describedby="annexureTableInBreakup2" [dataSource]="dataSourceSubAttachment"
                    style="width: 100%; border-top:unset; ">
                    <ng-container matColumnDef="data">
                      <th mat-header-cell *matHeaderCellDef scope="row">Post</th>
                      <td mat-cell *matCellDef="let item;"> {{item.data}} </td>
                    </ng-container>

                    <ng-container matColumnDef="val1">
                      <th mat-header-cell *matHeaderCellDef scope="row">Total No.</th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val1Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="integerKeyPress($event)"
                              (change)="calculateSubAttachmentValue()" [value]="item.val1" [(ngModel)]="item.val1"
                              readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val1}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val2">
                      <th mat-header-cell *matHeaderCellDef scope="row">Approximate Estimate</th>
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val2Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)"
                              (change)="calculateSubAttachmentValue()" [value]="item.val2" [(ngModel)]="item.val2"
                              (blur)="decimalPoint(item,'val2')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val2}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val3">
                      <th mat-header-cell *matHeaderCellDef scope="row">Post</th>
                      <!-- <mat-cell *matCellDef="let item"> {{item.val3}} </mat-cell> -->
                      <td mat-cell *matCellDef="let item" style="font-weight: 600;">{{item.val3}}</td>
                    </ng-container>

                    <ng-container matColumnDef="val4">
                      <th mat-header-cell *matHeaderCellDef scope="row">Total No.</th>
                      <!-- <mat-cell *matCellDef="let item"> {{item.val4}} </mat-cell> -->
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val4Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)"
                              (change)="calculateSubAttachmentValue()" [value]="item.val4" [(ngModel)]="item.val4"
                              readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val4}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="val5">
                      <th mat-header-cell *matHeaderCellDef scope="row">Approximate Estimate</th>
                      <!-- <mat-cell *matCellDef="let item"> {{item.val5}} </mat-cell> -->
                      <td mat-cell *matCellDef="let item" class="rightAlign">
                        <div *ngIf="(item.val5Edit); else itemValue">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput (keypress)="decimalKeyPress($event)"
                              (change)="calculateSubAttachmentValue()" [value]="item.val5" [(ngModel)]="item.val5"
                              (blur)="decimalPoint(item,'val5')" readonly>
                          </mat-form-field>
                        </div>
                        <ng-template #itemValue>
                          {{item.val5}}
                        </ng-template>
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="header1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Informations for Post filled
                        in
                      </th>
                    </ng-container>

                    <ng-container matColumnDef="header2">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Details Regarding requisition
                        and send to
                        G.P.S.C/G.S.S.S.B
                      </th>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['header1', 'header2']"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedSubAttachmentColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedSubAttachmentColumns;"></tr>
                  </table>

                </mat-tab>


                <mat-tab label="Rojamdar & Work Charge">
                  <div class="rsClass">
                    <div> (â‚¹ in Lakhs) </div>
                  </div>
                  <table mat-table aria-describedby="rojamdarTableInBreakup" [dataSource]="dataSourceRojamadar"
                    width="100%" id="browseTable">
                    <ng-container matColumnDef="data">
                      <th mat-header-cell *matHeaderCellDef scope="row">Type <span class="text-lowercase">of</span>
                        Expenditure</th>
                      <td mat-cell *matCellDef="let item;let i = index;">
                        <div>{{item.data}}</div>
                      </td>
                      <td mat-footer-cell *matFooterCellDef>Total</td>
                    </ng-container>
                    <ng-container matColumnDef="val1">
                      <th mat-header-cell *matHeaderCellDef scope="row">No <span class="text-lowercase">of </span>Post
                      </th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.val1" [(ngModel)]="item.val1" readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{CountTotalPost()}}</td>
                    </ng-container>
                    <ng-container matColumnDef="val2">
                      <th mat-header-cell *matHeaderCellDef scope="row">Salaries</th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.val2" [(ngModel)]="item.val2" readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{CountTotalSalaries() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="val3">
                      <th mat-header-cell *matHeaderCellDef scope="row">Other Allowance</th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.val3" [(ngModel)]="item.val3" readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{OtherAllowance() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="val4">
                      <th mat-header-cell *matHeaderCellDef scope="row">Total</th>

                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.val2 + item.val3" [(ngModel)]="item.val4"
                            readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell class="rightAlign" *matFooterCellDef>{{tot3() | number:'1.2-2'}}</td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="displayedRojamdarColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedRojamdarColumns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="displayedRojamdarColumns"></tr>
                  </table>
                </mat-tab>

                <mat-tab label="Outsourcing">
                  <div class="rsClass">
                    <div> (â‚¹ in Lakhs) </div>
                  </div>
                  <table mat-table aria-describedby="outsourcingTableInBreakup" [dataSource]="dataSource4" width="50%"
                    id="browseTable">
                    <ng-container matColumnDef="expDet">
                      <th mat-header-cell *matHeaderCellDef scope="row">Expenditure details / services type</th>
                      <td mat-cell *matCellDef="let item;let i = index;">
                        <div>{{item.expDet}}</div>
                      </td>
                      <td mat-footer-cell *matFooterCellDef>Total</td>
                    </ng-container>

                    <ng-container matColumnDef="budEst">
                      <th mat-header-cell *matHeaderCellDef scope="row">Budget Estimates</th>

                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.budEst" [(ngModel)]="item.budEst"
                            readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{tot4() | number:'1.2-2'}}</td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="dataSource4Columns"></tr>
                    <tr mat-row *matRowDef="let row; columns: dataSource4Columns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="dataSource4Columns"></tr>
                  </table>
                </mat-tab>

                <mat-tab label="Leave Encashment">
                  <div class="rsClass">
                    <div> (â‚¹ in Lakhs) </div>
                  </div>
                  <!-- <div class="box box-primary">
                                        <div class="box-header">Leave Encashment</div>
                                        <div class="box-body"> -->
                  <table mat-table aria-describedby="leaveEnTableInBreakup" [dataSource]="dataSource5" width="100%">
                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef scope="row">Name <span class="text-lowercase">of</span>
                        Employee</th>
                      <td mat-cell *matCellDef="let item;let i = index;">
                        <!-- <div>{{item.name}}</div> -->
                        <mat-form-field>
                          <input matInput [value]="item.name" [(ngModel)]="item.name" readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef>Total</td>
                    </ng-container>
                    <ng-container matColumnDef="post">
                      <th mat-header-cell *matHeaderCellDef scope="row">Designation</th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field>
                          <input matInput [value]="item.post" [(ngModel)]="item.post" readonly>
                        </mat-form-field>
                        <!-- <mat-select placeholder="Financial Year" required disabled>
                                                    <mat-option> Section Officer
                                                        <ngx-mat-select-search [formControl]="post1Ctrl" [placeholderLabel]="'Find Post...'" [noEntriesFoundLabel]="'no matching Post found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
            
                                                    <mat-option *ngFor="let FY of post_list | filterSelectInput: post1Ctrl.value" [value]="FY.value" matTooltip="{{FY.viewValue}}">
                                                        {{FY.viewValue}}
                                                    </mat-option>
                                                </mat-select> -->
                      </td>
                      <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>
                    <ng-container matColumnDef="bPay">
                      <th mat-header-cell *matHeaderCellDef scope="row">Basic Pay</th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.bPay" [(ngModel)]="item.bPay" readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{basicPay() | number:'1.2-2'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="lEncash">
                      <th mat-header-cell *matHeaderCellDef scope="row">Proposed Amount for Leave Encashment</th>
                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input type="number" min="0" matInput [value]="item.lEncash" [(ngModel)]="item.lEncash"
                            readonly>
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{LeaveEncashment() | number:'1.2-2'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="retire">
                      <th mat-header-cell *matHeaderCellDef scope="row">Date <span class="text-lowercase">of</span>
                        Retirement</th>

                      <td mat-cell *matCellDef="let item">
                        <mat-form-field floatLabel="never">
                          <input matInput [value]="item.retire" [(ngModel)]="item.retire" readonly>
                        </mat-form-field>
                        <!-- <mat-form-field>
            
                                                    <input matInput [matDatepicker]="picker" readonly>
                                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </mat-form-field> -->
                      </td>
                      <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>




                    <tr mat-header-row *matHeaderRowDef="dataSource5Columns"></tr>
                    <tr mat-row *matRowDef="let row; columns: dataSource5Columns;"></tr>
                    <tr mat-footer-row *matFooterRowDef="dataSource5Columns"></tr>
                  </table>

                </mat-tab>

              </mat-tab-group>


              <div class="form-action-button" *ngIf="expendCharges">
                <button type="submit" mat-raised-button color="primary">
                  <i class="material-icons" aria-hidden="true" title="Save">
                    save
                  </i>
                  Save as Draft
                </button>

                <button type="reset" mat-raised-button color="accent">
                  <i class="material-icons" aria-hidden="true">
                    restore
                  </i>
                  Reset
                </button>

                <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                  <i class="material-icons" aria-hidden="true" title="Listing">
                    list
                  </i>
                  Listing
                </button>
                <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                  <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                    close
                  </i>
                  Close
                </button>
                <button mat-button (click)="backCharge()" mat-raised-button color="primary" class="back-button">
                  <mat-icon aria-label="icon-button" class="mt-1">
                    keyboard_return
                  </mat-icon>
                  Back
                </button>
              </div>
            </div>
          </mat-tab>

          <mat-tab label="Annexure - 1" [disabled]="tabDisable">
            <!-- changes before data -->
            <div class="rsClass">
              <div> (â‚¹ in Lakhs) </div>
            </div>

            <table mat-table aria-describedby="annezureTableMain" [dataSource]="dataSourceAttachment">
              <ng-container matColumnDef="data">
                <th mat-header-cell *matHeaderCellDef scope="row">Edu Office </th>
                <td mat-cell *matCellDef="let item;" [attr.colspan]="item.extend ? '9' : '1'">
                  {{item.data}} </td>
              </ng-container>
              <ng-container matColumnDef="val1">
                <th mat-header-cell *matHeaderCellDef scope="row"></th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val1Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="integerKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val1" [(ngModel)]="item.val1" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val1}}
                  </ng-template>
                </td>
              </ng-container>
              <ng-container matColumnDef="val2">
                <th mat-header-cell *matHeaderCellDef scope="row">Basic Pay</th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val2Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val2" [(ngModel)]="item.val2" (blur)="decimalPoint(item,'val2')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val2}}
                  </ng-template>
                </td>
              </ng-container>
              <ng-container matColumnDef="val3">
                <th mat-header-cell *matHeaderCellDef scope="row">DA </th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val3Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val3" [(ngModel)]="item.val3" (blur)="decimalPoint(item,'val3')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val3}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val4">
                <th mat-header-cell *matHeaderCellDef scope="row"> HRA </th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val4Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val4" [(ngModel)]="item.val4" (blur)="decimalPoint(item,'val4')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val4}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val5">
                <th mat-header-cell *matHeaderCellDef scope="row"> CLA </th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val5Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val5" [(ngModel)]="item.val5" (blur)="decimalPoint(item,'val5')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val5}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val6">
                <th mat-header-cell *matHeaderCellDef scope="row">OA </th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val6Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateAttachmentValue()"
                        [value]="item.val6" [(ngModel)]="item.val6" (blur)="decimalPoint(item,'val6')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val6}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val7">
                <th mat-header-cell *matHeaderCellDef scope="row"></th>
                <td mat-cell *matCellDef="let item" class="rightAlign" style="width: 146px;">
                  {{item.val7}} </td>
              </ng-container>

              <!-- <ng-container matColumnDef="remark">
                                <th mat-header-cell *matHeaderCellDef scope="row"></th>
                                <td mat-cell *matCellDef="let item">
                                    <div *ngIf="(item.remarkEdit); else itemValue">
                                        <mat-form-field floatLabel="never">
                                            <textarea matInput (input)="updateAttachmentRemarks()" [value]="item.remark" [(ngModel)]="item.remark" readonly></textarea>
                                        </mat-form-field>
                                    </div>
                                    <ng-template #itemValue>
                                        {{item.remark}}
                                    </ng-template>
                                </td>
                            </ng-container> -->

              <ng-container matColumnDef="header1">
                <th mat-header-cell *matHeaderCellDef scope="row">Name <span class="text-lowercase">of</span> Office
                </th>
              </ng-container>

              <ng-container matColumnDef="header2">
                <th mat-header-cell *matHeaderCellDef scope="row">No <span class="text-lowercase">of</span> Post</th>
              </ng-container>

              <ng-container matColumnDef="header3">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="5">Provision for 2020-2021 </th>
              </ng-container>

              <ng-container matColumnDef="header4">
                <th mat-header-cell *matHeaderCellDef scope="row"> Total </th>
              </ng-container>

              <!-- <ng-container matColumnDef="header5">
                                <th mat-header-cell *matHeaderCellDef scope="row"> Remarks </th>
                            </ng-container> -->

              <tr mat-header-row *matHeaderRowDef="['header1', 'header2', 'header3', 'header4']"></tr>
              <tr mat-header-row *matHeaderRowDef="displayedAttachmentColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedAttachmentColumns;"></tr>
              <tr mat-row *matRowDef="let row; columns: ['data']; when: isExtendedRow" class="darken">
              </tr>

            </table>
            <table mat-table aria-describedby="annezureTableMain2" [dataSource]="dataSourceSubAttachment"
              style="width: 100%; border-top:unset; ">
              <ng-container matColumnDef="data">
                <th mat-header-cell *matHeaderCellDef scope="row">Post</th>
                <td mat-cell *matCellDef="let item;"> {{item.data}} </td>
              </ng-container>

              <ng-container matColumnDef="val1">
                <th mat-header-cell *matHeaderCellDef scope="row">Total No.</th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val1Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="integerKeyPress($event)" (change)="calculateSubAttachmentValue()"
                        [value]="item.val1" [(ngModel)]="item.val1" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val1}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val2">
                <th mat-header-cell *matHeaderCellDef scope="row">Approximate Estimate</th>
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val2Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateSubAttachmentValue()"
                        [value]="item.val2" [(ngModel)]="item.val2" (blur)="decimalPoint(item,'val2')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val2}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val3">
                <th mat-header-cell *matHeaderCellDef scope="row">Post</th>
                <!-- <mat-cell *matCellDef="let item"> {{item.val3}} </mat-cell> -->
                <td mat-cell *matCellDef="let item" style="font-weight: 600;">{{item.val3}}</td>
              </ng-container>

              <ng-container matColumnDef="val4">
                <th mat-header-cell *matHeaderCellDef scope="row">Total No.</th>
                <!-- <mat-cell *matCellDef="let item"> {{item.val4}} </mat-cell> -->
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val4Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateSubAttachmentValue()"
                        [value]="item.val4" [(ngModel)]="item.val4" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val4}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="val5">
                <th mat-header-cell *matHeaderCellDef scope="row">Approximate Estimate</th>
                <!-- <mat-cell *matCellDef="let item"> {{item.val5}} </mat-cell> -->
                <td mat-cell *matCellDef="let item" class="rightAlign">
                  <div *ngIf="(item.val5Edit); else itemValue">
                    <mat-form-field floatLabel="never" class="rightAlign">
                      <input matInput (keypress)="decimalKeyPress($event)" (change)="calculateSubAttachmentValue()"
                        [value]="item.val5" [(ngModel)]="item.val5" (blur)="decimalPoint(item,'val5')" readonly>
                    </mat-form-field>
                  </div>
                  <ng-template #itemValue>
                    {{item.val5}}
                  </ng-template>
                </td>
              </ng-container>

              <ng-container matColumnDef="header1">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Informations for Post filled in
                </th>
              </ng-container>

              <ng-container matColumnDef="header2">
                <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="3">Details Regarding requisition and
                  send to
                  G.P.S.C/G.S.S.S.B
                </th>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="['header1', 'header2']"></tr>
              <tr mat-header-row *matHeaderRowDef="displayedSubAttachmentColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedSubAttachmentColumns;"></tr>
            </table>

            <div class="form-action-button">
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
            </div>

          </mat-tab>


          <mat-tab label="Rojamdar & Work Charge" [disabled]="tabDisable">
            <!-- <div class="box box-primary">
                            <div class="box-header">Rojamdar & WorkCharge</div>
                            <div class="box-body"> -->
            <div class="rsClass">
              <div> (â‚¹ in Lakhs) </div>
            </div>
            <table mat-table aria-describedby="rojamdarTableMain" [dataSource]="dataSourceRojamadar" width="100%"
              id="browseTable">
              <ng-container matColumnDef="data">
                <th mat-header-cell *matHeaderCellDef scope="row">Type <span class="text-lowercase">of</span>
                  Expenditure</th>
                <td mat-cell *matCellDef="let item;let i = index;">
                  <div>{{item.data}}</div>
                </td>
                <td mat-footer-cell *matFooterCellDef>Total</td>
              </ng-container>
              <ng-container matColumnDef="val1">
                <th mat-header-cell *matHeaderCellDef scope="row">No <span class="text-lowercase">of </span>Post</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.val1" [(ngModel)]="item.val1" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{CountTotalPost()}}</td>
              </ng-container>
              <ng-container matColumnDef="val2">
                <th mat-header-cell *matHeaderCellDef scope="row">Salaries</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.val2" [(ngModel)]="item.val2" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{CountTotalSalaries() | number:'1.2-2'}}</td>
              </ng-container>
              <ng-container matColumnDef="val3">
                <th mat-header-cell *matHeaderCellDef scope="row">Other Allowance</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.val3" [(ngModel)]="item.val3" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{OtherAllowance() | number:'1.2-2'}}</td>
              </ng-container>
              <ng-container matColumnDef="val4">
                <th mat-header-cell *matHeaderCellDef scope="row">Total</th>

                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.val2 + item.val3" [(ngModel)]="item.val4"
                      readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell class="rightAlign" *matFooterCellDef>{{tot3() | number:'1.2-2'}}</td>
              </ng-container>


              <tr mat-header-row *matHeaderRowDef="displayedRojamdarColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedRojamdarColumns;"></tr>
              <tr mat-footer-row *matFooterRowDef="displayedRojamdarColumns"></tr>
            </table>

            <div class="form-action-button">
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
            </div>
            <!-- </div>
                        </div> -->
          </mat-tab>

          <mat-tab label="Outsourcing" [disabled]="tabDisable">
            <!-- <div class="box box-primary">
                            <div class="box-header">Outsourcing</div>
                            <div class="box-body"> -->
            <div class="rsClass">
              <div> (â‚¹ in Lakhs) </div>
            </div>
            <table mat-table aria-describedby="oursourcingTableMain" [dataSource]="dataSource4" width="50%"
              id="browseTable">
              <ng-container matColumnDef="expDet">
                <th mat-header-cell *matHeaderCellDef scope="row">Expenditure details / services type</th>
                <td mat-cell *matCellDef="let item;let i = index;">
                  <div>{{item.expDet}}</div>
                </td>
                <td mat-footer-cell *matFooterCellDef>Total</td>
              </ng-container>

              <ng-container matColumnDef="budEst">
                <th mat-header-cell *matHeaderCellDef scope="row">Budget Estimates</th>

                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.budEst" [(ngModel)]="item.budEst" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{tot4() | number:'1.2-2'}}</td>
              </ng-container>


              <tr mat-header-row *matHeaderRowDef="dataSource4Columns"></tr>
              <tr mat-row *matRowDef="let row; columns: dataSource4Columns;"></tr>
              <tr mat-footer-row *matFooterRowDef="dataSource4Columns"></tr>
            </table>

            <div class="form-action-button">
              <!-- <button type="submit" mat-raised-button color="primary">
                <i class="material-icons" aria-hidden="true" title="Save">
                  save
                </i>
                Save as Draft
              </button> -->
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
            </div>
            <!-- </div>
                        </div> -->
          </mat-tab>

          <mat-tab label="Leave Encashment" [disabled]="tabDisable">
            <div class="rsClass">
              <div> (â‚¹ in Lakhs) </div>
            </div>
            <!-- <div class="box box-primary">
                            <div class="box-header">Leave Encashment</div>
                            <div class="box-body"> -->
            <table mat-table aria-describedby="leaveEnTableMain" [dataSource]="dataSource5" width="100%">
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef scope="row">Name <span class="text-lowercase">of</span> Employee
                </th>
                <td mat-cell *matCellDef="let item;let i = index;">
                  <!-- <div>{{item.name}}</div> -->
                  <mat-form-field>
                    <input matInput [value]="item.name" [(ngModel)]="item.name" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>Total</td>
              </ng-container>
              <ng-container matColumnDef="post">
                <th mat-header-cell *matHeaderCellDef scope="row">Designation</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field>
                    <input matInput [value]="item.post" [(ngModel)]="item.post" readonly>
                  </mat-form-field>
                  <!-- <mat-select placeholder="Financial Year" required disabled>
                                        <mat-option> Section Officer
                                            <ngx-mat-select-search [formControl]="post1Ctrl" [placeholderLabel]="'Find Post...'" [noEntriesFoundLabel]="'no matching Post found'">
                                            </ngx-mat-select-search>
                                        </mat-option>

                                        <mat-option *ngFor="let FY of post_list | filterSelectInput: post1Ctrl.value" [value]="FY.value" matTooltip="{{FY.viewValue}}">
                                            {{FY.viewValue}}
                                        </mat-option>
                                    </mat-select> -->
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>
              <ng-container matColumnDef="bPay">
                <th mat-header-cell *matHeaderCellDef scope="row">Basic Pay</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.bPay" [(ngModel)]="item.bPay" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{basicPay() | number:'1.2-2'}}</td>
              </ng-container>
              <ng-container matColumnDef="lEncash">
                <th mat-header-cell *matHeaderCellDef scope="row">Proposed Amount for Leave Encashment</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never" class="rightAlign">
                    <input type="number" min="0" matInput [value]="item.lEncash" [(ngModel)]="item.lEncash" readonly>
                  </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef class="rightAlign">{{LeaveEncashment() | number:'1.2-2'}}</td>
              </ng-container>
              <ng-container matColumnDef="retire">
                <th mat-header-cell *matHeaderCellDef scope="row">Date <span class="text-lowercase">of</span> Retirement
                </th>

                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never">
                    <input matInput [value]="item.retire" [(ngModel)]="item.retire" readonly>
                  </mat-form-field>
                  <!-- <mat-form-field>

                                        <input matInput [matDatepicker]="picker" readonly>
                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field> -->
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>




              <tr mat-header-row *matHeaderRowDef="dataSource5Columns"></tr>
              <tr mat-row *matRowDef="let row; columns: dataSource5Columns;"></tr>
              <tr mat-footer-row *matFooterRowDef="dataSource5Columns"></tr>
            </table>

            <div class="form-action-button">
              <!-- <button type="submit" mat-raised-button color="primary">
                <i class="material-icons" aria-hidden="true" title="Save">
                  save
                </i>
                Save as Draft
              </button> -->
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
            </div>
            <!-- </div>
                        </div> -->

          </mat-tab>


          <mat-tab label="Attachments" [disabled]="tabDisable">
            <table mat-table aria-describedby="attachmentTable" [dataSource]="dataSourceBrowse" width="100%"
              id="browseTable">
              <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                <td mat-cell *matCellDef="let item; let i = index" class="centerAlign">
                  {{ i + 1 }}
                </td>
              </ng-container>
              <ng-container matColumnDef="attachmentType">
                <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
                <td mat-cell *matCellDef="let item;let i = index;">
                  <mat-select placeholder="Attachment Type" #singleSelect1 required [(ngModel)]="item.attachmentType">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="attachmentTypeCodeCtrl"
                        [placeholderLabel]="'Find Attachment Type...'"
                        [noEntriesFoundLabel]="'no matching Attachment Type found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let AT of filteredAttachmentTypeCode | async" [value]="AT.value">
                      {{AT.viewValue}}
                    </mat-option>
                  </mat-select>
                </td>
              </ng-container>
              <ng-container matColumnDef="fileName">
                <th mat-header-cell *matHeaderCellDef scope="row">File name</th>
                <td mat-cell *matCellDef="let item">
                  <mat-form-field floatLabel="never">
                    <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
                  </mat-form-field>
                </td>
              </ng-container>
              <ng-container matColumnDef="browse">
                <th mat-header-cell *matHeaderCellDef scope="row">Browse File</th>

                <td mat-cell *matCellDef="let i = index" class="centerAlign">
                  <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse
                    Files</button>
                </td>
              </ng-container>
              <ng-container matColumnDef="uploadedFileName">
                <th mat-header-cell *matHeaderCellDef scope="row">Uploaded file Name</th>
                <td mat-cell *matCellDef="let item">
                  <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
                </td>
              </ng-container>

              <ng-container matColumnDef="uploadedBy">
                <th mat-header-cell *matHeaderCellDef scope="row">Uploaded By</th>
                <td mat-cell *matCellDef="let item">
                  <!-- <mat-label>Mr. Pratik Shah</mat-label> -->
                  <mat-form-field>
                    <input matInput [(ngModel)]="item.uploadedBy">
                  </mat-form-field>
                </td>
              </ng-container>

              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                <td mat-cell *matCellDef="let item; let i = index">
                  <table class="iconTable">
                    <tbody>
                      <tr>
                        <td width="30">
                          <i class="material-icons plus delete"
                            *ngIf="dataSourceBrowse && dataSourceBrowse.data && dataSourceBrowse.data.length > 1"
                            (click)="deleteBrowse(i)">
                            delete
                          </i>
                        </td>
                        <td width="30">
                          <i class="material-icons plus add"
                            *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i == dataSourceBrowse.data.length - 1)"
                            (click)="addBrowse()">
                            add
                          </i>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
            </table>
            <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />

            <div class="legend">
              1. Total File size should be under 2MB<br> 2. File type supported are: 'jpg', 'jpeg', 'png', 'pdf', JPGâ€™,
              â€˜JPEGâ€™, â€˜PNGâ€™, â€˜PDFâ€™.
            </div>

            <div class="form-action-button">
              <button type="submit" mat-raised-button color="primary">
                <i class="material-icons" aria-hidden="true" title="Save">
                  save
                </i>
                Upload
              </button>
              <!-- <button mat-raised-button type="submit" class="green"><i class="material-icons" aria-hidden="true">
                                    done
                                </i> Submit</button> -->
              <!-- <button type="reset" mat-raised-button color="accent">
                                <i class="material-icons" aria-hidden="true">
                                    restore
                                </i>
                                Reset
                            </button> -->
              <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                <i class="material-icons" aria-hidden="true" title="Listing">
                  list
                </i>
                Listing
              </button>
              <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                  close
                </i>
                Close
              </button>
            </div>
          </mat-tab>
        </mat-tab-group>


        <!-- <div class="save" title="Save All" *ngIf="!tabDisable">
                    <button mat-mini-fab color="primary" class="saveFloatButton" (click)="saveAllData()">
                        <mat-icon aria-label="Example icon-button">save</mat-icon>
                    </button>
                </div> -->
      </div>
    </div>
  </div>
</div>
