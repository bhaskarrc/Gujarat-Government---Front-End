<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Revised Receipt Consolidate</div>
      <!-- <div class="font-heading"><strong>Transaction Number:</strong> 19-20/BUD/SCE/001</div> -->
      <!-- <div class="font-heading"><strong>Transaction Date:</strong> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div> -->
    </div>

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Budget</a></li>
        <li class="breadcrumb-item active" aria-current="page">Revised Receipt Consolidate</li>
      </ol>
    </nav>

    <div class="row header-detail">
      <div class="col-sm-6 colPadding" *ngFor="let item of headerJson">
        <div class="col-sm-4 labelCSS">{{item.label}}<span class="floatRight">:</span></div>
        <div class="col-sm-8 paddingUnset">{{item.value}}</div>
      </div>
    </div>


    <div>
          <div class="rsClass"> (â‚¹ in Lakhs) </div>
          <table mat-table [dataSource]="ddoListDataSource" aria-describedby="estimatePrepared" matSort>

            <ng-container matColumnDef="srNo">
              <th mat-header-cell *matHeaderCellDef scope="row">Sr No</th>
              <td mat-cell *matCellDef="let item;let idx = index;" class="centerAlign">
                <!-- {{ idx + 1 + ((ddoListPaginator.pageIndex * ddoListPaginator.pageSize))}} -->
                {{ idx + 1}}
              </td>
              <td mat-footer-cell *matFooterCellDef>Total</td>
            </ng-container>

            <ng-container matColumnDef="srno1">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Sr. No.</th>
            </ng-container>

            <ng-container matColumnDef="checkbox">
              <th mat-header-cell *matHeaderCellDef scope="row">Select DDO</th>
              <td mat-cell *matCellDef="let item;let idx = index;" class="centerAlign">
                <mat-checkbox [value]="item.checkbox" [checked]="item.checkbox" [(ngModel)]="item.checkbox"
                  title="Select" (change)="checkboxValueChange()"></mat-checkbox>
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="ddoName">
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Name of Department</th>
              <td mat-cell *matCellDef="let item;">
                <a class="hyper-link" *ngIf="item.ddoProposedAmt > 0.00; else DDOName;" title="Detail View"
                  (click)="loadDetailView(item)">{{item.ddoName}}</a>
                <ng-template #DDOName>
                  {{item.ddoName}}
                </ng-template>
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="ddoName1">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Name of Department</th>
            </ng-container>

            <ng-container matColumnDef="receipt">
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Receipt</th>
              <td mat-cell *matCellDef="let item" class="rightAlign">
                {{item.receipt | number : '1.2-2'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtProposedByDdoReceipt() | number : '1.2-2'}}
            </ng-container>

            <ng-container matColumnDef="disbursement">
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Disbursement</th>
              <td mat-cell *matCellDef="let item" class="rightAlign">
                {{item.disbursement | number : '1.2-2'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{calcAmtProposedByDdoDisbursement() | number : '1.2-2'}}
            </ng-container>

            <ng-container matColumnDef="ddoProposedAmt">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Proposed Amount By Department</th>
            </ng-container>

            <ng-container matColumnDef="receiptDept">
              <!--hodProposedAmt-->
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Receipt</th>
              <td mat-cell *matCellDef="let item" class="rightAlign">
                <!-- {{item.hodAmt | number : '1.2-2'}} -->
                <mat-form-field floatLabel="never" class="rightAlign">
                  <!-- <input matInput value="0 " numbersOnly step="0.00"> -->
                  <input matInput [value]="item.receiptDept" [(ngModel)]="item.receiptDept"
                  (keypress)="decimalKeyPress($event)" (blur)="decimalPoint(item,'receiptDept')">
                </mat-form-field>
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">
                {{calcAmtProByDeptReceipt() | number : '1.2-2'}}
            </ng-container>

            <ng-container matColumnDef="disbursementDept">
              <!--hodProposedAmt-->
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Disbursement</th>
              <td mat-cell *matCellDef="let item" class="rightAlign">
                <!-- {{item.hodAmt | number : '1.2-2'}} -->
                <mat-form-field floatLabel="never" class="rightAlign">
                  <!-- <input matInput value="0 " numbersOnly step="0.00"> -->
                  <input matInput [value]="item.disbursementDept" [(ngModel)]="item.disbursementDept"
                  (keypress)="decimalKeyPress($event)" (blur)="decimalPoint(item,'disbursementDept')">
                </mat-form-field>
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">
                {{calcAmtProByDeptDisb() | number : '1.2-2'}}
            </ng-container>

            <ng-container matColumnDef="hodProposedAmt1">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Proposed Amount by Department</th>
            </ng-container>

            <ng-container matColumnDef="ddoReferenceNo">
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Reference No.</th>
              <td mat-cell *matCellDef="let item">
                {{item.ddoReferenceNo}}
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="ddoReferenceNo1">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Reference No.</th>
            </ng-container>

            <ng-container matColumnDef="ddoTransactionDate">
              <th mat-header-cell *matHeaderCellDef scope="row" mat-sort-header>Date of Submission</th>
              <td mat-cell *matCellDef="let item">
                {{item.ddoTransactionDate}}
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="ddoTransactionDate1">
              <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Date of Submission</th>
            </ng-container>

            <tr mat-header-row
              *matHeaderRowDef="['srno1','ddoName1','ddoProposedAmt','ddoReferenceNo1','ddoTransactionDate1']">
            </tr>
            <tr mat-header-row *matHeaderRowDef="['receipt', 'disbursement']"></tr>
            <tr mat-row *matRowDef="let row; columns: ddoListColumn;"></tr>
            <tr mat-footer-row *matFooterRowDef="ddoListColumn; sticky: true"></tr>
          </table>
          <!-- <mat-paginator #ddoListPaginator [pageSizeOptions]="paginationSize" showFirstLastButtons></mat-paginator> -->

          <div class="form-action-button">
            <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
              <i class="material-icons" aria-hidden="true" title="Budget dashboard">
                close
              </i>
              Close
            </button>
            <button mat-button (click)="goToSchemeList()" mat-raised-button color="primary" class="back-button">
              <i class="material-icons" aria-hidden="true" title="Back">
                keyboard_return
              </i>
              Back
            </button>
          </div>
    </div>
  </div>
</div>
