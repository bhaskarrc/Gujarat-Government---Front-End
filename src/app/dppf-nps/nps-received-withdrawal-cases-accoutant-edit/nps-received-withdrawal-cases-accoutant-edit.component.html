<div class="container">
  <div class="form-wrapper">
    <!-- Header -->
    <div class="heading-section ng-star-inserted">
      <div>Received Withdrawal Cases - Accoutant Level</div>
      <div class="font-heading"><strong>Reference No:</strong> 19-20/DPPF-NPS/WITC/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
        <li class="breadcrumb-item " aria-current="page"><a href="javascript:void(0)">DPPF - NPS</a></li>
        <li class="breadcrumb-item active" aria-current="page">Received Withdrawal Cases - Accoutant Level</li>
      </ol>
    </nav>

    <div class="panel-group">
      <form [formGroup]="ddoSideWithdrawalForm" (ngSubmit)="ddoSideWithdrawalFormData()">
        <!-- Received Withdrawal Cases - Accoutant Level -->
        <mat-tab-group mat-stretch-tabs [selectedIndex]="selectedIndex" (selectedIndexChange)="getTabIndex($event)">
          <mat-tab>
            <ng-template mat-tab-label>
              Received Withdrawal Cases - Accoutant Level
            </ng-template>

            <div class="box box-primary">
              <div class="box-header">Received Withdrawal Cases - Sub Accoutant Level</div>
              <div class="box-body">
                <div class="row">

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <input matInput type="text" formControlName="employeeNumber" placeholder="Employee Number"
                        numbersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.employeeNumber.touched && ddoSideWithdrawalForm.controls.employeeNumber.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.employeeNumber.errors.required">
                          {{errormsg.EMPLOYEE_NUMBER}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <input matInput type="text" formControlName="orderNo" placeholder="Order No." numbersOnly
                        required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.orderNo.touched && ddoSideWithdrawalForm.controls.orderNo.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.orderNo.errors.required">
                          {{errormsg.ORDER_NO}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <input matInput formControlName="ppaNo" placeholder="PPA No." numbersAlphabetsSpaceOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.ppaNo.touched && ddoSideWithdrawalForm.controls.ppaNo.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.ppaNo.errors.required">
                          {{errormsg.PPA_NO}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field>
                      <input matInput placeholder="PRAN No." formControlName="pranNo" numbersAlphabetsSpaceOnly
                        required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.pranNo.touched && ddoSideWithdrawalForm.controls.pranNo.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.pranNo.errors.required">
                          {{errormsg.PRAN_NO}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-3">
                    <mat-form-field>
                      <input matInput placeholder="First Name" formControlName="firstName" charactersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.firstName.touched && ddoSideWithdrawalForm.controls.firstName.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.firstName.errors?.required">
                          {{errormsg.FIRST_NAME}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field>
                      <input matInput placeholder="Middle Name" formControlName="middleName" charactersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.middleName.touched && ddoSideWithdrawalForm.controls.middleName.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.middleName.errors?.required">
                          {{errormsg.MIDDLE_NAME}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field>
                      <input matInput placeholder="Last Name" formControlName="lastName" charactersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.lastName.touched && ddoSideWithdrawalForm.controls.lastName.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.lastName.errors?.required">
                          {{errormsg.LAST_NAME}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="designation" placeholder="Designation" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="designationCTRL"
                            [placeholderLabel]="'Find Designation...'"
                            [noEntriesFoundLabel]="'No matching Designation found'" alphabetsSpaceOnly>
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option
                          *ngFor="let designationName of designationList | filterSelectInput:designationCTRL.value"
                          [value]="designationName.value">
                          {{designationName.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.designation.touched  && ddoSideWithdrawalForm.controls.designation.errors ">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.designation.errors?.required">
                          {{errormsg.DESIGNATION}}
                        </mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="withdrawal" placeholder="Withdrawal" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="withdrawalCTRL"
                            [placeholderLabel]="'Find Withdrawal...'"
                            [noEntriesFoundLabel]="'No matching Withdrawal found'" alphabetsSpaceOnly>
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option
                          *ngFor="let withdrawalName of withdrawalList | filterSelectInput:withdrawalCTRL.value"
                          [value]="withdrawalName.value">
                          {{withdrawalName.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.withdrawal.touched && ddoSideWithdrawalForm.controls.withdrawal.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.withdrawal.errors.required">
                          {{errormsg.WITHDRAWAL}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3" *ngIf="ddoSideWithdrawalForm.controls.withdrawal.value == '2'">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="final" placeholder="Final" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="finalCTRL" [placeholderLabel]="'Find Options...'"
                            [noEntriesFoundLabel]="'No matching Options found'" alphabetsSpaceOnly>
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let finalName of finalList | filterSelectInput:finalCTRL.value"
                          [value]="finalName.value">
                          {{finalName.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.final.touched && ddoSideWithdrawalForm.controls.final.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.final.errors.required">
                          {{errormsg.FINAL}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3" *ngIf="ddoSideWithdrawalForm.controls.withdrawal.value==='2'">
                    <mat-form-field>
                      <input matInput placeholder="Claim ID" formControlName="claimID" numbersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.claimID.touched && ddoSideWithdrawalForm.controls.claimID.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.claimID.errors.required">
                          {{errormsg.CLAIM_ID}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-3" *ngIf="ddoSideWithdrawalForm.controls.withdrawal.value == '1'">
                    <mat-form-field class="full-width">
                      <mat-select formControlName="purpose" placeholder="Purpose" required>
                        <mat-option>
                          <ngx-mat-select-search [formControl]="purposeCTRL" [placeholderLabel]="'Find purpose...'"
                            [noEntriesFoundLabel]="'No matching Purpose found'" alphabetsSpaceOnly>
                          </ngx-mat-select-search>
                        </mat-option>
                        <mat-option *ngFor="let item of purposeList | filterSelectInput:purposeCTRL.value"
                          [value]="item.value">
                          {{item.viewValue}}
                        </mat-option>
                      </mat-select>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.purpose.touched && ddoSideWithdrawalForm.controls.purpose.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.purpose.errors.required">
                          {{errormsg.PURPOSE}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>


                  <div class="col-md-3">
                    <mat-form-field>
                      <input matInput placeholder="Percentage" formControlName="percentage" maxlength="2" min="1"
                        max="25" numbersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.percentage.touched && ddoSideWithdrawalForm.controls.percentage.errors">
                        <mat-error
                          *ngIf="ddoSideWithdrawalForm.controls.percentage.errors.required || ddoSideWithdrawalForm.controls.percentage.errors">
                          {{errormsg.PERCENTAGE1TO25}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field>
                      <input matInput placeholder="Office Name" formControlName="officeName" charactersOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.officeName.touched && ddoSideWithdrawalForm.controls.officeName.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.officeName.errors.required">
                          {{errormsg.OFFICE_NAME}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field>
                      <input matInput placeholder="NSDL ACK. No." formControlName="nsdlAcknowledgementNo" numbersOnly
                        required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.nsdlAcknowledgementNo.touched && ddoSideWithdrawalForm.controls.nsdlAcknowledgementNo.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.nsdlAcknowledgementNo.errors.required">
                          {{errormsg.NSDL_ACKNOWLEDGEMENT_NO}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field>
                      <input matInput placeholder="DDO Registration No." formControlName="ddoRegistrationNo"
                        numbersAlphabetsOnly required>
                      <div class="error-wrapper"
                        *ngIf="ddoSideWithdrawalForm.controls.ddoRegistrationNo.touched && ddoSideWithdrawalForm.controls.ddoRegistrationNo.errors">
                        <mat-error *ngIf="ddoSideWithdrawalForm.controls.ddoRegistrationNo.errors.required">
                          {{errormsg.DDO_REGISTRATION_NO}}</mat-error>
                      </div>
                    </mat-form-field>
                  </div>

                </div>
              </div>
            </div>


          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              Attachment
            </ng-template>
            <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>
          </mat-tab>
        </mat-tab-group>
        <!-- End Received Withdrawal Cases - Accoutant Level -->
        <!-- Common Button -->
        <div class="form-action-button">
          <button type="submit" mat-raised-button color="primary" title="Save as Draft">
            <i class="material-icons" title="Save as Draft" aria-hidden="true">
              save
            </i>
            Save as Draft
          </button>
          <button mat-raised-button type="submit" class="green" (click)="workflowDetails()" title="Submit">
            <i class="material-icons" title="Submit" aria-hidden="true">done</i> Submit
          </button>
          <button type="reset" mat-raised-button color="accent" title="Reset" (click)="resetForm()">
            <i class="material-icons" title="Reset" aria-hidden="true">
              restore
            </i>
            Reset
          </button>
          <button type="button" mat-raised-button color="warn" title="Listing" (click)="goToSavedAnnexureOne()">
            <i class="material-icons" title="Listing" aria-hidden="true">
              list
            </i>
            Listing
          </button>
          <button type="button" mat-raised-button class="btnClose" title="Close">
            <i class="material-icons" title="Close" aria-hidden="true">
              close
            </i>
            Close
          </button>
        </div>
        <!-- End Common Button -->
      </form>
    </div>
  </div>
</div>