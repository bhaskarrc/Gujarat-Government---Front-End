<div class="container">
  <div class="form-wrapper">
    <!-- Header Section -->
    <div class="heading-section ng-star-inserted">
      <div>Accept Account </div>
      <div class="font-heading"><strong>Reference Number:</strong> 19-20/NPS/AAS/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ todayDate | date: 'dd-MMM-yyyy HH:mm'}}
      </div>
    </div>
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">DPPF - NPS</a></li>
        <li class="breadcrumb-item active" aria-current="page">Accept Account Screen </li>
      </ol>
    </nav>
    <!-- Accept Account Screen Fields Starts -->
    <mat-accordion class="search-accordian">
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <div class="heading-section">
            Accept Account Screen Fields
          </div>
        </mat-expansion-panel-header>
        <!-- From Accept Account Screen Fields -->
        <div class=" form-datatable-list">
          <form class="col-sm-12" [formGroup]="acceptAccountScreenForm">
            <div class="row">
              <!-- Inward Type -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="inwardType" placeholder="Inward Type" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="inwardTypeCtrl" [placeholderLabel]="'Find Inward Types...'"
                        [noEntriesFoundLabel]="'no matching Inward Types found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let inwardType of inwardType_list | filterSelectInput: inwardTypeCtrl.value"
                      [value]="inwardType.value">
                      {{inwardType.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="acceptAccountScreenForm.controls.inwardType.touched && acceptAccountScreenForm.controls.inwardType.errors">
                    <mat-error *ngIf="acceptAccountScreenForm.controls.inwardType.errors.required">
                      {{ errorMessage.INWARDTYPE }}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <!-- Month -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="month" placeholder="Month" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="typeOfMonthCtrl" [placeholderLabel]="'Find Month...'"
                        [noEntriesFoundLabel]="'no matching Class found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="
                      let CE of classTypeOfMonth
                        | filterSelectInput: typeOfMonthCtrl.value
                    " [value]="CE.value">
                      {{ CE.viewValue }}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="acceptAccountScreenForm.controls.month.touched && acceptAccountScreenForm.controls.month.errors">
                    <mat-error *ngIf="acceptAccountScreenForm.controls.month.errors.required">
                      {{ errorMessage.TYPE_OF_MONTH }}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <!-- Year -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="year" placeholder="Year" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="typeOfYearCtrl" [placeholderLabel]="'Find Year...'"
                        [noEntriesFoundLabel]="'no matching Class found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="
                      let CE of classTypeOfYear
                        | filterSelectInput: typeOfYearCtrl.value
                    " [value]="CE.value">
                      {{ CE.viewValue }}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper" *ngIf="
                  acceptAccountScreenForm.controls.year.touched &&
                  acceptAccountScreenForm.controls.year.errors
                ">
                    <mat-error *ngIf="
                    acceptAccountScreenForm.controls.year.errors.required
                  ">
                      {{ errorMessage.TYPE_OF_YEAR }}
                    </mat-error>
                  </div>

                </mat-form-field>
              </div>
              <!-- Credit/Debit -->
              <div class="col-sm-3">
                <mat-form-field>
                  <mat-select formControlName="creditDebit" placeholder="Credit/Debit" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="creditDebitCtrl" [placeholderLabel]="'Find Credit/Debit...'"
                        [noEntriesFoundLabel]="'no matching   found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor=" let item of creditDebit_list| filterSelectInput: creditDebitCtrl.value
            " [value]="item.value">
                      {{ item.viewValue }}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="acceptAccountScreenForm.controls.creditDebit.touched && acceptAccountScreenForm.controls.creditDebit.errors">
                    <mat-error *ngIf="acceptAccountScreenForm.controls.creditDebit.errors.required">
                      {{ errorMessage.CREDIT_DEBIT }}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <!-- District -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="district" placeholder="District" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="districtCtrl" [placeholderLabel]="'Find District...'"
                        [noEntriesFoundLabel]="'No matching District found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of districtList |
                        filterSelectInput:districtCtrl.value" [value]="item.value">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="acceptAccountScreenForm.controls.district.touched && acceptAccountScreenForm.controls.district.errors">
                    <mat-error *ngIf="acceptAccountScreenForm.controls.district.errors.required">
                      {{ errorMessage.DISTRICT }}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <!-- Treasury No/PAO -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="treasuryPao" placeholder="Treasury No/PAO" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="typeOfTreasuryPaoCtrl"
                        [placeholderLabel]="'Find Treasury/PAO...'" [noEntriesFoundLabel]="'no matching Class found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="
                  let CE of classTypeOfTreasuryPao | filterSelectInput: typeOfTreasuryPaoCtrl.value" [value]="CE.value"
                      matTooltip="{{ CE.viewValue }}">
                      {{ CE.viewValue }}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="acceptAccountScreenForm.controls.treasuryPao.touched && acceptAccountScreenForm.controls.treasuryPao.errors">
                    <mat-error *ngIf="acceptAccountScreenForm.controls.treasuryPao.errors.required">
                      {{ errorMessage.TYPE_OF_TREASURY_PAO }}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <!-- Common Button -->
              <div class="col-sm-12">
                <div class="form-action-button">
                  <button type="button" mat-raised-button color="primary" title="Save As Draft" (click)="onFatchData()">
                    Fetch Data
                  </button>
                </div>
              </div>
              <!-- End Common Button -->
            </div>

          </form>
        </div>
        <!-- End From Accept Account Screen Fields -->
      </mat-expansion-panel>
    </mat-accordion>
    <!-- Accept Account Screen Fields Ends -->
    <br>
    <!-- Table starts -->
    <div class="mat-elevation-z8 table-responsive" *ngIf="isFatched">

      <table mat-table [dataSource]="dataSource" width="100%" matSort aria-describedby="listinginwardscreen">
        <!-- Serial No -->
        <ng-container matColumnDef="srno">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            Serial No
          </th>
          <td mat-cell *matCellDef="let element; let i=index" class="centerAlign">
            {{i+1 }}
          </td>
        </ng-container>

        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef scope="row">
            <mat-checkbox (change)="$event ? directiveObj.masterToggle(dataSource) : null"
              [checked]="directiveObj.selection.hasValue() && directiveObj.isAllSelected(dataSource)"
              [indeterminate]="directiveObj.selection.hasValue() && !directiveObj.isAllSelected(dataSource)"
              [aria-label]="directiveObj.checkboxLabel(dataSource)">
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let row" class="centerAlign">
            <mat-checkbox (click)="$event.stopPropagation()"
              (change)="$event ? directiveObj.selection.toggle(row) : null"
              [checked]="directiveObj.selection.isSelected(row)"
              [aria-label]="directiveObj.checkboxLabel(dataSource,row)">
            </mat-checkbox>
          </td>
        </ng-container>
        <!-- Major Head -->
        <ng-container matColumnDef="majorHead">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            Major Head
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-label>{{ element.majorHead }}
            </mat-label>
          </td>
        </ng-container>
        <!-- Credit/Debit -->
        <ng-container matColumnDef="creditDebit">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            Credit/Debit
          </th>
          <td mat-cell *matCellDef="let element; let i = index">
            <mat-label>{{ element.creditDebit }}
            </mat-label>
          </td>
        </ng-container>
        <!-- No of Documents / Voucher -->
        <ng-container matColumnDef="noOfDocuments">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            No of Documents / Voucher
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.noOfDocuments }}
          </td>
        </ng-container>
        <!-- Challan Amount (Rs.) -->
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            Challan Amount (Rs.)
          </th>
          <td mat-cell *matCellDef="let element" class="rightAlign">
            {{ element.amount }}
          </td>
        </ng-container>
        <!-- TC Amount -->
        <ng-container matColumnDef="tcAmount">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            TC Amount
          </th>
          <td mat-cell *matCellDef="let element" class="rightAlign">
            {{ element.tcAmount }}
          </td>
        </ng-container>
        <!-- Gross Amount (in Rs.) -->
        <ng-container matColumnDef="grossAmount">
          <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">
            Gross Amount (in Rs.)
          </th>
          <td mat-cell *matCellDef="let element" class="rightAlign">
            {{ element.grossAmount }}
          </td>
        </ng-container>
        <!-- Action -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
          <td mat-cell *matCellDef="let element; let i = index" class="action-btn-i centerAlign">

            <a [routerLink]="'../accept-account-screen/book-transfer-register'"><i class="material-icons plus view-icon"
                title="View" aria-hidden="true">remove_red_eye</i></a>
          </td>
        </ng-container>
        <!-- Header Section Of table -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <!-- Data Fetch From .TS File to table -->
        <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns"></tr>
      </table>

    </div>
    <!-- Table Ends -->

    <!-- Action buttons -->
    <div class="form-action-button" *ngIf="isFatched">
      <button type="submit" mat-raised-button color="primary" title="Save As Draft" (click)="onAccept()">
        Accept
      </button>
      <button type="submit" mat-raised-button color="primary" title="Save As Draft" (click)="onNonAccept()">
        Non Accept
      </button>
    </div>
    <!-- End Action buttons -->
  </div>
</div>