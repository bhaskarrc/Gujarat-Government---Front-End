<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Grant Release from Administrative Department
      </div>
      <div class="font-heading"><strong>Reference No:</strong>
        19-20/Grant/GRF/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{
        initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <div class="panel-group">
      <mat-tab-group mat-stretch-tabs>
        <mat-tab label="Sub Head Wise Details">
          <mat-accordion class="colapsedata">
            <mat-expansion-panel [expanded]="true" class="nopadding">
              <mat-expansion-panel-header>
                <div class="heading-section">
                  Grant Order
                </div>
              </mat-expansion-panel-header>
              <div class="form-datatable-list">
                <form class="col-sm-12" [formGroup]="createGrantOrder">
                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="finYear" placeholder="Financial Year" required
                          [disabled]='toggleButton'>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="finYearCtrl"
                              [placeholderLabel]="'Find Financial Year...'" [noEntriesFoundLabel]="'no matching Financial Year
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let eventsName of finYear_list |
                            filterSelectInput: finYearCtrl.value" [value]="eventsName.value">
                            {{eventsName.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.finYear.touched &&
                          createGrantOrder.controls.finYear.errors">
                          <mat-error *ngIf="createGrantOrder.controls.finYear.errors.required">
                            {{errorMessages.FIN_YEAR}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="revenueCapital" placeholder="Revenue/ Capital" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                              [placeholderLabel]="'Find Revenue/ Capital...'" [noEntriesFoundLabel]="'no matching Revenue/
                              Capital found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let revenueCapital of
                            revenueCapital_list |
                            filterSelectInput: revenueCapitalCtrl.value" [value]="revenueCapital.value">
                            {{revenueCapital.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.revenueCapital.touched
                          && createGrantOrder.controls.revenueCapital.errors">
                          <mat-error *ngIf="createGrantOrder.controls.revenueCapital.errors.required">
                            {{errorMessages.REVENUE_CAPITAL}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="fromMonth" placeholder="From Month" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="fromMonthCtrl"
                              [placeholderLabel]="'Find From Month...'" [noEntriesFoundLabel]="'no matching From Month
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let fromMonth of fromMonth_list |
                            filterSelectInput: fromMonthCtrl.value" [value]="fromMonth.value">
                            {{fromMonth.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.fromMonth.touched &&
                          createGrantOrder.controls.fromMonth.errors">
                          <mat-error *ngIf="createGrantOrder.controls.fromMonth.errors.required">
                            {{errorMessages.FROM_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="toMonth" placeholder="To
                          Month" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="toMonthCtrl" [placeholderLabel]="'Find To Month...'"
                              [noEntriesFoundLabel]="'no matching To Month
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let toMonth of fromTo_list |
                            filterSelectInput: toMonthCtrl.value" [value]="toMonth.value">
                            {{toMonth.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.toMonth.touched &&
                          createGrantOrder.controls.toMonth.errors">
                          <mat-error *ngIf="createGrantOrder.controls.toMonth.errors.required">
                            {{errorMessages.TO_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field>
                        <input matInput name="orderNo" placeholder="Order
                          Number" formControlName="orderNo" required>

                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.orderNo.touched &&
                          createGrantOrder.controls.orderNo.errors">
                          <mat-error *ngIf="createGrantOrder.controls.orderNo.errors.required">
                            {{errorMessages.ORDER_NO}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="fundType" placeholder="Fund
                          Type" required (selectionChange)="ontoken($event)">
                          <mat-option>
                            <ngx-mat-select-search [formControl]="fundTypeCtrl" [placeholderLabel]="'Find Fund Type...'"
                              [noEntriesFoundLabel]="'no matching Fund Type'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let FT of fundType|
                            filterSelectInput: fundTypeCtrl.value" [value]="FT.value">
                            {{FT.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.fundType.touched &&
                          createGrantOrder.controls.fundType.errors">
                          <mat-error *ngIf="createGrantOrder.controls.fundType.errors.required">
                            {{errorMessages.FUND_TYPE}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3" *ngIf="isTokentable">
                      <mat-form-field>
                        <input matInput [matDatepicker]="date" placeholder="Contingency Date">
                        <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
                        <mat-datepicker #date></mat-datepicker>
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <div class="form-action-button">
                        <button type="submit" mat-raised-button color="primary" (click)="showdate()">
                          Create
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
              <div class="" *ngIf="grantdataSource &&
                grantdataSource.data.length> 0">
                <div *ngIf="showtabe">
                  <div class="rsClass"> (₹ in Lakhs) </div>
                  <table mat-table [dataSource]="grantdataSource" width="100%" class="responsive-table">
                    <ng-container matColumnDef="srno">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sr. No.</th>
                      <td mat-cell *matCellDef="let element; let i= index" class="rightAlign">
                        {{ i + 1}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>
                    <ng-container matColumnDef="financeDepState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.financeDepState | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="fDCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.fDCss | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="grantState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantState | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="grantCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                        {{element.grantCss | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="grantToDepState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToDepState | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="grantToDepCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToDepCss | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="grantToCoState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToCoState | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="grantToCoCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToCoCss | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="grantToDdoState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToDdoState | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="grantToDdoCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.grantToDdoCss | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="remaningGrantState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.remaningGrantState | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="remaningGrantCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.remaningGrantCss | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>


                    <ng-container matColumnDef="progressGrantState">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.remaningGrantState | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="progressGrantCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.remaningGrantCss | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="financeDepAutAmount">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}" [attr.colspan]="2">
                        Finance Department Authorized Amount
                      </th>
                    </ng-container>
                    <ng-container matColumnDef="grantAvailable1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant
                        Available</th>
                    </ng-container>
                    <ng-container matColumnDef="totalGrantToDepartment1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Total
                        Grant to Department</th>
                    </ng-container>
                    <ng-container matColumnDef="totalGrantToCo1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Total
                        Grant to CO</th>
                    </ng-container>
                    <ng-container matColumnDef="srno1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Sr
                        No.</th>
                    </ng-container>
                    <ng-container matColumnDef="totalGrantToDdo1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Total
                        Grant to DDO</th>
                    </ng-container>
                    <ng-container matColumnDef="remaningGrant1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Remaining
                        Grant</th>
                    </ng-container>
                    <ng-container matColumnDef="grantProgress1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant in Progress
                      </th>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['financeDepAutAmount',
                      'grantAvailable1', 'totalGrantToDepartment1',
                      'totalGrantToCo1', 'totalGrantToDdo1','grantProgress1', 'remaningGrant1']">
                    </tr>
                    <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
                    <tr mat-row *matRowDef="let row; let i= index;columns:
                      displayedGrantColumns;">
                    </tr>
                    <!-- <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr> -->
                  </table>
                  <div *ngIf="grantdataSource && grantdataSource.data.length ===
                    0">No Data Found</div>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <br>
          <mat-tab-group mat-stretch-tabs *ngIf="showtabe">
            <mat-tab label="Department to Department">

              <mat-accordion class="colapsedata mt-2">
                <mat-expansion-panel [expanded]="true" class="nopadding mt-2">
                  <mat-expansion-panel-header>
                    <div class="heading-section">
                      Sub Head Wise Details
                      <mat-radio-group>
                        <mat-radio-button value="1" (click)="demandMajorHeadFun()" (click)="$event.stopPropagation()">
                          Demand Major Head</mat-radio-button>
                        <mat-radio-button value="2" (click)="demandSubHeadFun()" (click)="$event.stopPropagation()"
                          [checked]="true">Demand Sub Head</mat-radio-button>
                      </mat-radio-group>
                    </div>
                  </mat-expansion-panel-header>
                  <div class="form-datatable-list">
                    <form class="col-sm-12" [formGroup]="subHeadDetailsForm" (ngSubmit)="subHeadDetailsFormSubmit()">
                      <div class="row">
                        <div class="col-sm-3" *ngIf="demandMajorHead ||
                          demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="demand" placeholder="Demand" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                                  [noEntriesFoundLabel]="'no matching Demand
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let demand of demand_list |
                                filterSelectInput: demandCtrl.value" [value]="demand.value">
                                {{demand.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.demand.touched
                              && subHeadDetailsForm.controls.demand.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.demand.errors.required">
                                {{errorMessages.DEMAND}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandMajorHead ||
                          demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="majorHead" placeholder="Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="majorHeadCtrl"
                                  [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let majorHead of
                                majorHead_list |
                                filterSelectInput: majorHeadCtrl.value" [value]="majorHead.value">
                                {{majorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.majorHead.touched
                              && subHeadDetailsForm.controls.majorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.majorHead.errors.required">
                                {{errorMessages.MAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                                  [placeholderLabel]="'Find Sub Major Head...'" [noEntriesFoundLabel]="'no matching Sub Major
                                  Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subMajorHead of
                                subMajorHead_list |
                                filterSelectInput: subMajorHeadCtrl.value" [value]="subMajorHead.value">
                                {{subMajorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subMajorHead.touched
                              &&
                              subHeadDetailsForm.controls.subMajorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subMajorHead.errors.required">
                                {{errorMessages.SUBMAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="minorHeadCtrl"
                                  [placeholderLabel]="'Find Minor Head...'" [noEntriesFoundLabel]="'no matching Minor Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let minorHead of
                                minorHead_list |
                                filterSelectInput: minorHeadCtrl.value" [value]="minorHead.value">
                                {{minorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.minorHead.touched
                              && subHeadDetailsForm.controls.minorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.minorHead.errors.required">
                                {{errorMessages.MINORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subHead" placeholder="Sub Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subHeadCtrl"
                                  [placeholderLabel]="'Find Sub Head...'" [noEntriesFoundLabel]="'no matching Sub
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subHead of subHead_list|
                                filterSelectInput: subHeadCtrl.value" [value]="subHead.value">
                                {{subHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subHead.touched
                              && subHeadDetailsForm.controls.subHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subHead.errors.required">
                                {{errorMessages.SUB_HEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="detailHeadCtrl"
                                  [placeholderLabel]="'Find Detail Head...'" [noEntriesFoundLabel]="'no matching Detail
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let detailHead of
                                detailHead_list|
                                filterSelectInput: detailHeadCtrl.value" [value]="detailHead.value">
                                {{detailHead.viewValue}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="budgetEstimateType" placeholder="Budget Estimate Type"
                              required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="budgetEstimateTypeCtrl" [placeholderLabel]="'Find Budget Estimate
                                  Type...'" [noEntriesFoundLabel]="'no matching
                                  Budget
                                  Estimate Type'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let budgetEstimateType of
                                budgetEstimateType_list| filterSelectInput:
                                budgetEstimateTypeCtrl.value" [value]="budgetEstimateType.value">
                                {{budgetEstimateType.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.budgetEstimateType.touched
                              &&
                              subHeadDetailsForm.controls.budgetEstimateType.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.budgetEstimateType.errors.required">
                                {{errorMessages.budget_estimate}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="item" placeholder="Item
                              Name" multiple required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="itemCtrl" [placeholderLabel]="'Find Item Name...'"
                                  [noEntriesFoundLabel]="'no matching Item
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let item of item_list|
                                filterSelectInput: itemCtrl.value" [value]="item.value">
                                {{item.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.item.touched &&
                              subHeadDetailsForm.controls.item.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.item.errors.required">
                                {{errorMessages.ITEM_NAME}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="chargedVoted" placeholder="Charged/Voted" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="chargedVotedCtrl"
                                  [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching
                                  Charged/Voted'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let chargedVoted of
                                chargedVoted_list|
                                filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                {{chargedVoted.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.chargedVoted.touched && subHeadDetailsForm.controls.chargedVoted.errors">
                                                            <mat-error *ngIf="subHeadDetailsForm.controls.chargedVoted.errors.required">
                                                                {{errorMessages.CHARGED_VOTED}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3" *ngIf="!demandMajorHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="type" placeholder="Type
                              of Estimate" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="typeCtrl"
                                  [placeholderLabel]="'Find Budget Type...'" [noEntriesFoundLabel]="'no matching Type
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let type of type_list |
                                filterSelectInput: typeCtrl.value" [value]="type.value">
                                {{type.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.type.touched && createGrantOrder.controls.type.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.type.errors.required">
                                                                {{errorMessages.budget_estimate}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3" *ngIf="!demandMajorHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="itemName" placeholder="Item Name" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="itemNameCtrl"
                                  [placeholderLabel]="'Find Item Name...'" [noEntriesFoundLabel]="'no matching Item
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let itemName of itemName_list
                                | filterSelectInput: itemNameCtrl.value" [value]="itemName.value">
                                {{itemName.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.itemName.touched && createGrantOrder.controls.itemName.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.itemName.errors.required">
                                                                {{errorMessages.WORKNAME}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>


                        <div class="col-sm-12" *ngIf="demandMajorHead ||
                          demandSubHead">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="department" placeholder="Department" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="departmentCtrl"
                                  [placeholderLabel]="'Find Department Name...'" [noEntriesFoundLabel]="'no matching department
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let department of
                                department_list|
                                filterSelectInput: departmentCtrl.value" [value]="department.value">
                                {{department.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.department.touched
                              && subHeadDetailsForm.controls.department.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.department.errors.required">
                                {{errorMessages.DEPARTMENT}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-6 offset-5">
                          <div class="form-group">
                            <button type="submit" mat-raised-button color="primary" title="Add"><i
                                class="material-icons" title="Add" aria-hidden="true">
                                add_circle_outline
                              </i>Add</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="">
                    <div class="rsClass"> (₹ in Lakhs) </div>
                    <table mat-table [dataSource]="subDetailHeadSource" width="100%" class="responsive-table">
                      <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sr. No.</th>
                        <td mat-cell *matCellDef="let element">
                          {{element.position}} </td>
                        <td mat-footer-cell *matFooterCellDef>Total </td>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Budget Head
                        </th>
                        <td mat-cell *matCellDef="let element"> <span
                            matTooltip="{{element.toolTipData}}">{{element.budgetHead}}<br>{{element.itemName}}
                          </span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>

                      </ng-container>
                      <ng-container matColumnDef="bEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.bEState | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{stateBudget() | number : '1.4-4'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="bECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.bECss | number :
                          '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{cssBudget() | number : '1.4-4'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="rBEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.rBEState | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{rebBudget() | number : '1.4-4'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="rBECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                          {{element.rBECss | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef> {{rebBudgetCss() | number : '1.4-4'}}</td>
                      </ng-container>
                      <!-- <ng-container matColumnDef="grantApproState">
                                                <th mat-header-cell *matHeaderCellDef  scope="row">State</th>
                                                <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.grantApproState | number : '1.4-4'}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="grantApproCss">
                                                <th mat-header-cell *matHeaderCellDef  scope="row">CSS</th>
                                                <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.grantApproCss | number : '1.4-4'}} </td>
                                            </ng-container> -->
                      <ng-container matColumnDef="departmentName">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">departmentName
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <span matTooltip="{{element.toolTipData}}">{{element.departmentName}}
                          </span>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseState | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef> {{grantReleaseStates() | number : '1.4-4'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseCss | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef> {{getReleseCsss() | number : '1.4-4'}}</td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseState"
                              [(ngModel)]="element.grantToBeReleaseState"
                              (blur)="decimalPoint(element,'grantToBeReleaseState')"
                              (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseCss"
                              [(ngModel)]="element.grantToBeReleaseCss"
                              (blur)="decimalPoint(element,'grantToBeReleaseCss')" (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>

                      <ng-container matColumnDef="avalilState">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row">State</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilState}}"
                              [value]="element.avalilState" [(ngModel)]="element.avalilState" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproState()
                          | number : '1.4-4'}} </td>
                      </ng-container>

                      <ng-container matColumnDef="avalilCss">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row"> CSS</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilCss}}"
                              [value]="element.avalilCss" [(ngModel)]="element.avalilCss" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproCss()
                          | number : '1.4-4'}} </td>
                      </ng-container>

                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row" style="width:
                          20%;" [ngStyle]="{'display': 'none'}">
                          Action </th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="action-btn-i centerAlign">
                          <a><i class="material-icons plus edit-icon" title="Edit" aria-hidden="true"> edit </i></a>
                          <!-- <a><i class="material-icons plus view-icon" title="View"
                              aria-hidden="true">remove_red_eye</i></a> -->
                          <!-- <a (click)="sendTo(element)"><i class="material-icons plus" title="Supporting Document">
                                                    attach_file
                                                     </i></a> -->
                          <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                              title="delete" aria-hidden="true">delete_forever</i></a>
                          <a>
                            <i class="material-icons plus btn-history" title="View
                              History" (click)="view()">history</i>
                          </a>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="position1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'5%'}" [attr.rowspan]="3">
                          Sr.No
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.rowspan]="3">
                          Budget Head</th>
                      </ng-container>
                      <ng-container matColumnDef="budgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Budget
                          Estimate</th>
                      </ng-container>
                      <ng-container matColumnDef="revisedBudgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Revised
                          Budget Estimate</th>
                      </ng-container>
                      <!-- <ng-container matColumnDef="grantApproveReleaseTillData1">
                                                <th mat-header-cell *matHeaderCellDef  scope="row" [ngStyle]="{'width':'15%'}" [attr.colspan]="2">Grant Approved till Date</th>
                                            </ng-container> -->
                      <ng-container matColumnDef="Department1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3">Department</th>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseDepartmentTillData1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Grant
                          Released till Date</th>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeRelease">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant To Be Release</th>
                      </ng-container>
                      <ng-container matColumnDef="avail">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant In Progress
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="action1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3"
                          [ngStyle]="{'width':'20%'}">Action</th>
                      </ng-container>

                      <ng-container matColumnDef="1">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">A</th>
                      </ng-container>
                      <ng-container matColumnDef="2">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">B</th>
                      </ng-container>
                      <ng-container matColumnDef="3">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">C</th>
                      </ng-container>
                      <ng-container matColumnDef="4">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">D</th>
                      </ng-container>
                      <ng-container matColumnDef="5">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">E</th>
                      </ng-container>
                      <ng-container matColumnDef="6">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">F</th>
                      </ng-container>
                      <ng-container matColumnDef="7">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">G</th>
                      </ng-container>
                      <ng-container matColumnDef="8">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">H</th>
                      </ng-container>
                      <ng-container matColumnDef="9">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">I</th>
                      </ng-container>
                      <ng-container matColumnDef="10">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">J</th>
                      </ng-container>
                      <ng-container matColumnDef="11">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">K</th>
                      </ng-container>
                      <ng-container matColumnDef="12">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">L</th>
                      </ng-container>
                      <ng-container matColumnDef="13">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">M</th>
                      </ng-container>
                      <ng-container matColumnDef="14">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">M</th>
                      </ng-container>
                      <tr mat-header-row class="unsetHeight"
                        *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14']"></tr>
                      <tr mat-header-row *matHeaderRowDef="['position1','budgetHead1',
                        'budgetEstimate1',
                        'revisedBudgetEstimate1','Department1',
                        'grantReleaseDepartmentTillData1','avail',
                        'grantToBeRelease', 'action1']">
                      </tr>
                      <tr mat-header-row *matHeaderRowDef="displayedSubDetailHeadColumns"></tr>
                      <tr mat-row *matRowDef="let row; let i= index;columns:
                        displayedSubDetailHeadColumns;">
                      </tr>
                      <tr mat-footer-row *matFooterRowDef="displayedSubDetailHeadColumns"></tr>
                    </table>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-tab>
            <mat-tab label="Department to CO">

              <mat-accordion class="colapsedata mt-2">
                <mat-expansion-panel [expanded]="true" class="nopadding mt-2">
                  <mat-expansion-panel-header>
                    <div class="heading-section">
                      Sub Head Wise Details
                    </div>
                  </mat-expansion-panel-header>
                  <div class="form-datatable-list">
                    <form class="col-sm-12" [formGroup]="subHeadDetailsForm" (ngSubmit)="subHeadDetailsFormSubmit()">
                      <div class="row">
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="demand" placeholder="Demand" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                                  [noEntriesFoundLabel]="'no matching Demand
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let demand of demand_list |
                                filterSelectInput: demandCtrl.value" [value]="demand.value">
                                {{demand.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.demand.touched
                              && subHeadDetailsForm.controls.demand.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.demand.errors.required">
                                {{errorMessages.DEMAND}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="majorHead" placeholder="Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="majorHeadCtrl"
                                  [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let majorHead of
                                majorHead_list |
                                filterSelectInput: majorHeadCtrl.value" [value]="majorHead.value">
                                {{majorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.majorHead.touched
                              && subHeadDetailsForm.controls.majorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.majorHead.errors.required">
                                {{errorMessages.MAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                                  [placeholderLabel]="'Find Sub Major Head...'" [noEntriesFoundLabel]="'no matching Sub Major
                                  Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subMajorHead of
                                subMajorHead_list |
                                filterSelectInput: subMajorHeadCtrl.value" [value]="subMajorHead.value">
                                {{subMajorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subMajorHead.touched
                              &&
                              subHeadDetailsForm.controls.subMajorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subMajorHead.errors.required">
                                {{errorMessages.SUBMAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="minorHeadCtrl"
                                  [placeholderLabel]="'Find Minor Head...'" [noEntriesFoundLabel]="'no matching Minor Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let minorHead of
                                minorHead_list |
                                filterSelectInput: minorHeadCtrl.value" [value]="minorHead.value">
                                {{minorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.minorHead.touched
                              && subHeadDetailsForm.controls.minorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.minorHead.errors.required">
                                {{errorMessages.MINORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subHead" placeholder="Sub Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subHeadCtrl"
                                  [placeholderLabel]="'Find Sub Head...'" [noEntriesFoundLabel]="'no matching Sub
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subHead of subHead_list|
                                filterSelectInput: subHeadCtrl.value" [value]="subHead.value">
                                {{subHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subHead.touched
                              && subHeadDetailsForm.controls.subHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subHead.errors.required">
                                {{errorMessages.SUB_HEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="detailHeadCtrl"
                                  [placeholderLabel]="'Find Detail Head...'" [noEntriesFoundLabel]="'no matching Detail
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let detailHead of
                                detailHead_list|
                                filterSelectInput: detailHeadCtrl.value" [value]="detailHead.value">
                                {{detailHead.viewValue}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>


                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="type" placeholder="Type
                              of Estimate" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="typeCtrl"
                                  [placeholderLabel]="'Find Budget Type...'" [noEntriesFoundLabel]="'no matching Type
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let type of type_list |
                                filterSelectInput: typeCtrl.value" [value]="type.value">
                                {{type.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.type.touched && createGrantOrder.controls.type.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.type.errors.required">
                                                                {{errorMessages.budget_estimate}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="itemName" placeholder="Item Name" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="itemNameCtrl"
                                  [placeholderLabel]="'Find Item Name...'" [noEntriesFoundLabel]="'no matching Item
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let itemName of itemName_list
                                | filterSelectInput: itemNameCtrl.value" [value]="itemName.value">
                                {{itemName.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.itemName.touched && createGrantOrder.controls.itemName.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.itemName.errors.required">
                                                                {{errorMessages.WORKNAME}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="chargedVoted" placeholder="Charged/Voted">
                              <mat-option>
                                <ngx-mat-select-search [formControl]="chargedVotedCtrl"
                                  [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching
                                  Charged/Voted'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let chargedVoted of
                                chargedVoted_list|
                                filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                {{chargedVoted.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.chargedVoted.touched
                              &&
                              subHeadDetailsForm.controls.chargedVoted.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.chargedVoted.errors.required">
                                {{errorMessages.CHARGED_VOTED}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-10">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="controllingOfficer" placeholder="Controlling Officer" required
                              multiple>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="controllingOfficerCtrl" [placeholderLabel]="'Search Controlling
                                  Officer...'" [noEntriesFoundLabel]="'no
                                  matching
                                  Controlling Officer'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let controllingOfficer of
                                controllingOfficer_list| filterSelectInput:
                                controllingOfficerCtrl.value" [value]="controllingOfficer.value">
                                {{controllingOfficer.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.controllingOfficer.touched
                              &&
                              subHeadDetailsForm.controls.controllingOfficer.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.controllingOfficer.errors.required">
                                {{errorMessages.CONTROLLING_OFFICER}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-2">
                          <button type="button" title="Search" mat-raised-button color="primary"
                            (click)="officerList()">
                            <i class="material-icons" title="Search" aria-hidden="true">search</i>Search</button>
                        </div>
                      </div>
                      <div class="form-action-button">
                        <button type="button" title="Add" mat-raised-button routerLink="create-grant-order"
                          color="primary"><i class="material-icons" title="Add" aria-hidden="true">
                            add_circle_outline
                          </i>Add</button>
                      </div>
                    </form>
                  </div>
                  <div class="">
                    <div class="rsClass"> (₹ in Lakhs) </div>
                    <table mat-table [dataSource]="subDetailHeadSourceCo" width="100%" class="responsive-table">
                      <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sr. No.</th>
                        <td mat-cell *matCellDef="let element">
                          {{element.position}} </td>
                        <td mat-footer-cell *matFooterCellDef> Total</td>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Budget Head
                        </th>
                        <td mat-cell *matCellDef="let element"> <span matTooltip="{{element.toolTipData}}">
                            {{element.budgetHead}} <br>{{element.itemName}}</span></td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                      </ng-container>
                      <ng-container matColumnDef="bEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.bEState | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{stateBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="bECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.bECss | number :
                          '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{cssBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="rBEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.rBEState | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{rebBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="rBECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                          {{element.rBECss | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{rebBudgetCss()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantApproState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantApproState | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproState()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantApproCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantApproCss | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproCss()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="ControllinGOfficerName">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">departmentName
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <span matTooltip="{{element.toolTipData}}">
                            {{element.ControllinGOfficerName}} </span>

                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseState | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantReleaseStates()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseCss | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getReleseCsss()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseState"
                              [(ngModel)]="element.grantToBeReleaseState"
                              (blur)="decimalPoint(element,'grantToBeReleaseState')"
                              (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseCss"
                              [(ngModel)]="element.grantToBeReleaseCss"
                              (blur)="decimalPoint(element,'grantToBeReleaseCss')" (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row" style="width: 8%;"
                          [ngStyle]="{'display': 'none'}"> Action
                        </th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="action-btn-i centerAlign">
                          <a><i class="material-icons plus edit-icon" title="Edit" aria-hidden="true"> edit </i></a>
                          <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                              title="delete" aria-hidden="true">delete_forever</i></a>
                          <a>
                            <i class="material-icons plus btn-history" title="View
                              History" (click)="view()">history</i>
                          </a>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="avalilState">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row">State</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilState}}"
                              [value]="element.avalilState" [(ngModel)]="element.avalilState" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproCss()
                          | number : '1.4-4'}} </td>
                      </ng-container>

                      <ng-container matColumnDef="avalilCss">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row"> CSS</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilCss}}"
                              [value]="element.avalilCss" [(ngModel)]="element.avalilCss" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproCss()
                          | number : '1.4-4'}} </td>

                      </ng-container>

                      <ng-container matColumnDef="avail">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant In Progress
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="position1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'5%'}" [attr.rowspan]="3">
                          Sr.No
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.rowspan]="3">
                          Budget Head</th>
                      </ng-container>
                      <ng-container matColumnDef="budgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Budget
                          Estimate</th>
                      </ng-container>
                      <ng-container matColumnDef="revisedBudgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Revised
                          Budget Estimate</th>
                      </ng-container>
                      <ng-container matColumnDef="grantApproveReleaseTillData1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Grant Released till date for Budget Head</th>
                      </ng-container>
                      <ng-container matColumnDef="ControllinGOfficerName1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3">Controlling Officer</th>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseDepartmentTillData1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Grant released till date to selected CO</th>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeRelease">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant To Be Release</th>
                      </ng-container>
                      <ng-container matColumnDef="action1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3"
                          [ngStyle]="{'width':'20%'}">Action</th>
                      </ng-container>
                      <ng-container matColumnDef="1">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">A</th>
                      </ng-container>
                      <ng-container matColumnDef="2">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">B</th>
                      </ng-container>
                      <ng-container matColumnDef="3">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">C</th>
                      </ng-container>
                      <ng-container matColumnDef="4">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">D</th>
                      </ng-container>
                      <ng-container matColumnDef="5">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">E</th>
                      </ng-container>
                      <ng-container matColumnDef="6">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">F</th>
                      </ng-container>
                      <ng-container matColumnDef="7">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">G</th>
                      </ng-container>
                      <ng-container matColumnDef="8">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">H</th>
                      </ng-container>
                      <ng-container matColumnDef="9">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">I</th>
                      </ng-container>
                      <ng-container matColumnDef="10">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">J</th>
                      </ng-container>
                      <ng-container matColumnDef="11">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">K</th>
                      </ng-container>
                      <ng-container matColumnDef="12">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">L</th>
                      </ng-container>
                      <ng-container matColumnDef="13">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">M</th>
                      </ng-container>
                      <ng-container matColumnDef="14">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">N</th>
                      </ng-container>
                      <ng-container matColumnDef="15">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">O</th>
                      </ng-container>
                      <ng-container matColumnDef="16">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">P</th>
                      </ng-container>
                      <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13',
                        '14','15','16']"></tr>
                      <tr mat-header-row *matHeaderRowDef="['position1','budgetHead1',
                        'budgetEstimate1',
                        'revisedBudgetEstimate1',
                        'grantApproveReleaseTillData1',   'avail','ControllinGOfficerName1',
                        'grantReleaseDepartmentTillData1','grantToBeRelease',
                      'action1']">
                      </tr>
                      <tr mat-header-row *matHeaderRowDef="displayedSubDetailHeadColumnsCo"></tr>
                      <tr mat-row *matRowDef="let row; let i= index;columns:
                        displayedSubDetailHeadColumnsCo;"></tr>
                      <tr mat-footer-row *matFooterRowDef="displayedSubDetailHeadColumnsCo"></tr>

                    </table>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-tab>
            <mat-tab label="Department to DDO">

              <mat-accordion class="colapsedata mt-2">
                <mat-expansion-panel [expanded]="true" class="nopadding mt-2">
                  <mat-expansion-panel-header>
                    <div class="heading-section">
                      Sub Head Wise Details
                    </div>
                  </mat-expansion-panel-header>
                  <div class="form-datatable-list">
                    <form class="col-sm-12" [formGroup]="subHeadDetailsForm" (ngSubmit)="subHeadDetailsFormSubmit()">
                      <div class="row">
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="demand" placeholder="Demand" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                                  [noEntriesFoundLabel]="'no matching Demand
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let demand of demand_list |
                                filterSelectInput: demandCtrl.value" [value]="demand.value">
                                {{demand.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.demand.touched
                              && subHeadDetailsForm.controls.demand.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.demand.errors.required">
                                {{errorMessages.DEMAND}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="majorHead" placeholder="Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="majorHeadCtrl"
                                  [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let majorHead of
                                majorHead_list |
                                filterSelectInput: majorHeadCtrl.value" [value]="majorHead.value">
                                {{majorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.majorHead.touched
                              && subHeadDetailsForm.controls.majorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.majorHead.errors.required">
                                {{errorMessages.MAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                                  [placeholderLabel]="'Find Sub Major Head...'" [noEntriesFoundLabel]="'no matching Sub Major
                                  Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subMajorHead of
                                subMajorHead_list |
                                filterSelectInput: subMajorHeadCtrl.value" [value]="subMajorHead.value">
                                {{subMajorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subMajorHead.touched
                              &&
                              subHeadDetailsForm.controls.subMajorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subMajorHead.errors.required">
                                {{errorMessages.SUBMAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="minorHeadCtrl"
                                  [placeholderLabel]="'Find Minor Head...'" [noEntriesFoundLabel]="'no matching Minor Head
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let minorHead of
                                minorHead_list |
                                filterSelectInput: minorHeadCtrl.value" [value]="minorHead.value">
                                {{minorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.minorHead.touched
                              && subHeadDetailsForm.controls.minorHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.minorHead.errors.required">
                                {{errorMessages.MINORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subHead" placeholder="Sub Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subHeadCtrl"
                                  [placeholderLabel]="'Find Sub Head...'" [noEntriesFoundLabel]="'no matching Sub
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subHead of subHead_list|
                                filterSelectInput: subHeadCtrl.value" [value]="subHead.value">
                                {{subHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.subHead.touched
                              && subHeadDetailsForm.controls.subHead.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.subHead.errors.required">
                                {{errorMessages.SUB_HEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="detailHeadCtrl"
                                  [placeholderLabel]="'Find Detail Head...'" [noEntriesFoundLabel]="'no matching Detail
                                  Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let detailHead of
                                detailHead_list|
                                filterSelectInput: detailHeadCtrl.value" [value]="detailHead.value">
                                {{detailHead.viewValue}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>


                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="type" placeholder="Type
                              of Estimate" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="typeCtrl"
                                  [placeholderLabel]="'Find Budget Type...'" [noEntriesFoundLabel]="'no matching Type
                                  found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let type of type_list |
                                filterSelectInput: typeCtrl.value" [value]="type.value">
                                {{type.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.type.touched && createGrantOrder.controls.type.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.type.errors.required">
                                                                {{errorMessages.budget_estimate}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="itemName" placeholder="Item Name" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="itemNameCtrl"
                                  [placeholderLabel]="'Find Item Name...'" [noEntriesFoundLabel]="'no matching Item
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let itemName of itemName_list
                                | filterSelectInput: itemNameCtrl.value" [value]="itemName.value">
                                {{itemName.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.itemName.touched && createGrantOrder.controls.itemName.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.itemName.errors.required">
                                                                {{errorMessages.WORKNAME}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="chargedVoted" placeholder="Charged/Voted" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="chargedVotedCtrl"
                                  [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching
                                  Charged/Voted'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let chargedVoted of
                                chargedVoted_list|
                                filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                {{chargedVoted.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.chargedVoted.touched
                              &&
                              subHeadDetailsForm.controls.chargedVoted.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.chargedVoted.errors.required">
                                {{errorMessages.CHARGED_VOTED}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-10">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="ddoName" placeholder="DDO Name" required multiple>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="ddoNameCtrl"
                                  [placeholderLabel]="'Search DDO Name...'" [noEntriesFoundLabel]="'no matching DDO
                                  Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let ddoName of ddoName_list|
                                filterSelectInput: ddoNameCtrl.value" [value]="ddoName.value">
                                {{ddoName.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper" *ngIf="subHeadDetailsForm.controls.ddoName.touched
                              && subHeadDetailsForm.controls.ddoName.errors">
                              <mat-error *ngIf="subHeadDetailsForm.controls.ddoName.errors.required">
                                {{errorMessages.DDO_NAME}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-2">
                          <button type="button" mat-raised-button color="primary" (click)="officerLists()"
                            title="Search">
                            <i class="material-icons" title="Search" aria-hidden="true">search</i>Search</button>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-6 offset-5">
                          <div class="form-group">
                            <button type="submit" title="Add" mat-raised-button color="primary"><i
                                class="material-icons" title="Add" aria-hidden="true">
                                add_circle_outline
                              </i>Add</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="">
                    <div class="rsClass"> (₹ in Lakhs) </div>
                    <table mat-table [dataSource]="subDetailHeadSourceDdo" width="100%" class="responsive-table">
                      <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sr. No.</th>
                        <td mat-cell *matCellDef="let element">
                          {{element.position}} </td>
                        <td mat-footer-cell *matFooterCellDef>Total </td>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sub Head</th>
                        <td mat-cell *matCellDef="let element"> <span matTooltip="{{element.toolTipData}}">
                            {{element.budgetHead}} </span> </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="bEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.bEState | number : '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>{{stateBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="bECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.bECss | number :
                          '1.2-2'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>{{cssBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="rBEState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.rBEState | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>{{rebBudget()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="rBECss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign">
                          {{element.rBECss | number : '1.4-4'}}
                        </td>
                        <td mat-footer-cell *matFooterCellDef>{{rebBudgetCss()
                          | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantApproState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantApproState | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef>{{grantApproState()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantApproCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantApproCss | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef>{{grantApproCss()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="ddoName">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">DDO</th>
                        <td mat-cell *matCellDef="let element">
                          {{element.ddoName}} </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseState | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef>{{grantReleaseStates()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          {{element.grantReleaseCss | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef>{{getReleseCsss()
                            | number : '1.4-4'}} </td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseState">
                        <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseState"
                              [(ngModel)]="element.grantToBeReleaseState"
                              (blur)="decimalPoint(element,'grantToBeReleaseState')"
                              (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeReleaseCss">
                        <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                        <td mat-cell *matCellDef="let element" class="rightAlign">
                          <mat-form-field floatLabel="never" class="rightAlign">
                            <input matInput [value]="element.grantToBeReleaseCss"
                              [(ngModel)]="element.grantToBeReleaseCss"
                              (blur)="decimalPoint(element,'grantToBeReleaseCss')" (keypress)="decimalKeyPress($event)">
                          </mat-form-field>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>

                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef scope="row" style="width:
                          20%;" [ngStyle]="{'display': 'none'}">
                          Action </th>
                        <td mat-cell *matCellDef="let element;let i= index;" class="action-btn-i centerAlign">
                          <a><i class="material-icons plus edit-icon" title="Edit" aria-hidden="true"> edit </i></a>
                          <a class="delete-icon" (click)="delete(element)"><i class="material-icons plus delete"
                              title="delete" aria-hidden="true">delete_forever</i></a>
                          <a>
                            <i class="material-icons plus btn-history" title="View
                            History" (click)="view()">history</i>
                          </a>
                        </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>
                      <ng-container matColumnDef="avalilState">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row">State</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilState}}"
                              [value]="element.avalilState" [(ngModel)]="element.avalilState" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproState()
                          | number : '1.4-4'}} </td>
                        <td mat-footer-cell *matFooterCellDef> </td>
                      </ng-container>

                      <ng-container matColumnDef="avalilCss">
                        <th mat-header-cell *matHeaderCellDef scope="row" scope="row"> CSS</th>
                        <td mat-cell *matCellDef="let
                          element;let i= index;">
                          <mat-form-field class="full-width">
                            <input matInput type="text" readonly matTooltip="{{element.avalilCss}}"
                              [value]="element.avalilCss" [(ngModel)]="element.avalilCss" class="text-right">
                          </mat-form-field>

                        </td>
                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{grantApproCss()
                          | number : '1.4-4'}} </td>
                      </ng-container>

                      <ng-container matColumnDef="avail">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant In Progress
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="position1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'5%'}" [attr.rowspan]="3">
                          Sr.No
                        </th>
                      </ng-container>
                      <ng-container matColumnDef="budgetHead1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.rowspan]="3">
                          Budget Head</th>
                      </ng-container>
                      <ng-container matColumnDef="budgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Budget Estimate</th>
                      </ng-container>
                      <ng-container matColumnDef="revisedBudgetEstimate1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Revised Budget Estimate</th>
                      </ng-container>
                      <ng-container matColumnDef="grantApproveReleaseTillData1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Grant Released till date for Budget Head </th>
                      </ng-container>
                      <ng-container matColumnDef="ddoName1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3">DDO Name</th>
                      </ng-container>
                      <ng-container matColumnDef="grantReleaseDepartmentTillData1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'15%'}"
                          [attr.colspan]="2">Grant released till date to selected DDO</th>
                      </ng-container>
                      <ng-container matColumnDef="grantToBeRelease">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">Grant To Be Release</th>
                      </ng-container>
                      <ng-container matColumnDef="action1">
                        <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3"
                          [ngStyle]="{'width':'20%'}">Action</th>
                      </ng-container>
                      <ng-container matColumnDef="1">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">A</th>
                      </ng-container>
                      <ng-container matColumnDef="2">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">B</th>
                      </ng-container>
                      <ng-container matColumnDef="3">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">C</th>
                      </ng-container>
                      <ng-container matColumnDef="4">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">D</th>
                      </ng-container>
                      <ng-container matColumnDef="5">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">E</th>
                      </ng-container>
                      <ng-container matColumnDef="6">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">F</th>
                      </ng-container>
                      <ng-container matColumnDef="7">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">G</th>
                      </ng-container>
                      <ng-container matColumnDef="8">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">H</th>
                      </ng-container>
                      <ng-container matColumnDef="9">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">I</th>
                      </ng-container>
                      <ng-container matColumnDef="10">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">J</th>
                      </ng-container>
                      <ng-container matColumnDef="11">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">K</th>
                      </ng-container>
                      <ng-container matColumnDef="12">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">L</th>
                      </ng-container>
                      <ng-container matColumnDef="13">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">M</th>
                      </ng-container>
                      <ng-container matColumnDef="14">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">N</th>
                      </ng-container>
                      <ng-container matColumnDef="15">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">O</th>
                      </ng-container>
                      <ng-container matColumnDef="16">
                        <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">P</th>
                      </ng-container>
                      <tr mat-header-row class="unsetHeight" *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13',
                        '14','15','16']"></tr>
                      <tr mat-header-row *matHeaderRowDef="['position1','budgetHead1',
                        'budgetEstimate1',
                        'revisedBudgetEstimate1',
                        'grantApproveReleaseTillData1','avail','ddoName1',
                        'grantReleaseDepartmentTillData1',
                        'grantToBeRelease', 'action1']">
                      </tr>
                      <tr mat-header-row *matHeaderRowDef="displayedSubDetailHeadColumnsDdo"></tr>
                      <tr mat-row *matRowDef="let row; let i= index;columns:
                        displayedSubDetailHeadColumnsDdo;">
                      </tr>
                      <tr mat-footer-row *matFooterRowDef="displayedSubDetailHeadColumnsDdo"></tr>
                    </table>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <mat-tab label="Item and Class wise Details">
          <div class="row">
            <div class="col-sm-12">
              <div class="box box-primary search-grid">
                <div class="box-body">
                  <div class="rsClass"> (₹ in Lakhs) </div>
                  <table mat-table [dataSource]="detailHeadeDataSource" class="responsive-table history-list">
                    <ng-container matColumnDef="subHead">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Sub Head
                      </th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        {{element.subHead}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="department">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}">Department</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <span matTooltip="{{element.toolTipData}}">
                          {{element.department}}</span>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="state">
                      <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" value="4500" readonly class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>

                    <ng-container matColumnDef="css">
                      <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" value="4700" readonly class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>


                    <ng-container matColumnDef="detailHeadDiscription">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'width':'10%'}">Object Class</th>
                      <td mat-cell *matCellDef="let element">
                        <div>
                          <span matTooltip="{{element.detailHeadDiscriptionAtoolTip}}"
                            class="lableTolTipOne">{{element.detailHeadDiscription}}</span>

                        </div>
                        <hr class="deviderOne">
                        <div>
                          <span matTooltip="{{element.detailHeadDiscriptionBtoolTip}}"
                            class="lableTolTipTwo">{{element.detailHeadDiscription2}}</span>
                        </div>

                        <hr class="deviderTwo">
                        <span
                          matTooltip="{{element.detailHeadDiscriptionCtoolTip}}">{{element.detailHeadDiscription3}}</span>
                      </td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>

                    <!-- <ng-container matColumnDef="detailHeadDiscription">
                                            <th mat-header-cell *matHeaderCellDef  scope="row">Detail Head and Class Code</th>
                                            <td mat-cell *matCellDef="let element;let i= index;">
                                                {{element.detailHeadDiscription}}<br> {{element.detailHeadDiscription2}}
                                                <br> {{element.detailHeadDiscription3}}

                                            </td>
                                            <td mat-footer-cell *matFooterCellDef>Total </td>
                                        </ng-container> -->
                    <ng-container matColumnDef="budgetState">
                      <th mat-header-cell *matHeaderCellDef scope="row">Budget State</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [(ngModel)]="element.budgetState" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [(ngModel)]="element.budgetState1" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [(ngModel)]="element.budgetState2" class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getTotalBudgetState() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="budgetCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">Budget CSS</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.budgetCss"
                            [(ngModel)]="element.budgetCss" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.budgetCss"
                            [(ngModel)]="element.budgetCss2" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.budgetCss3"
                            [(ngModel)]="element.budgetCss3" class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getTotalBudgetCss() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="releseTillDateState">
                      <th mat-header-cell *matHeaderCellDef scope="row">Released Till Date
                        State</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateState"
                            [(ngModel)]="element.releseTillDateState" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateState"
                            [(ngModel)]="element.releseTillDateState2" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateState3"
                            [(ngModel)]="element.releseTillDateState3" class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getTotalReleseTillDateState() | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="releseTillDateCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">Released Till Date
                        CSS</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateCss"
                            [(ngModel)]="element.releseTillDateCss" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateCss"
                            [(ngModel)]="element.releseTillDateCss2" class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly [value]="element.releseTillDateCss3"
                            [(ngModel)]="element.releseTillDateCss3" class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getReleseTillDateCss() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="currentState">
                      <th mat-header-cell *matHeaderCellDef scope="row">Grant to Be Released
                        State</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentState" [(ngModel)]="element.currentState"
                            class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentState" [(ngModel)]="element.currentState"
                            class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentState3"
                            [(ngModel)]="element.currentState3" class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getCurrentState()
                        | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="avalilState">
                      <th mat-header-cell *matHeaderCellDef scope="row" scope="row">Grant in Progress
                        State</th>
                      <td mat-cell *matCellDef="let
                        element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilState}}"
                            [value]="element.avalilState" [(ngModel)]="element.avalilState" class="text-right">
                        </mat-form-field>

                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilState1}}"
                            [value]="element.avalilState1" [(ngModel)]="element.avalilState1" class="text-right">
                        </mat-form-field>

                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilState2}}"
                            [value]="element.avalilState2" [(ngModel)]="element.avalilState2" class="text-right">
                        </mat-form-field>

                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getReleseavailTillDateState()
                        | number : '1.4-4'}} </td>
                    </ng-container>

                    <ng-container matColumnDef="avalilCss">
                      <th mat-header-cell *matHeaderCellDef scope="row" scope="row">Grant in Progress
                        CSS</th>
                      <td mat-cell *matCellDef="let
                        element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilCss}}"
                            [value]="element.avalilCss" [(ngModel)]="element.avalilCss" class="text-right">
                        </mat-form-field>

                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilCss1}}"
                            [value]="element.avalilCss1" [(ngModel)]="element.avalilCss1" class="text-right">
                        </mat-form-field>

                        <mat-form-field class="full-width">
                          <input matInput type="text" readonly matTooltip="{{element.avalilCss2}}"
                            [value]="element.avalilCss2" [(ngModel)]="element.avalilCss2" class="text-right">
                        </mat-form-field>


                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getReleseavailTillDateCss()
                        | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="currentCss">
                      <th mat-header-cell *matHeaderCellDef scope="row">Grant to Be Released
                        CSS</th>
                      <td mat-cell *matCellDef="let element;let i= index;">
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentCss" [(ngModel)]="element.currentCss"
                            class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentCss" [(ngModel)]="element.currentCss"
                            class="rightAlign">
                        </mat-form-field>
                        <mat-form-field class="full-width">
                          <input matInput type="text" [value]="element.currentCss3" [(ngModel)]="element.currentCss3"
                            class="rightAlign">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getCurrentCss()
                        | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef scope="row" [ngStyle]="{'display': 'none'}" scope="row">
                        Action </th>
                      <td mat-cell *matCellDef="let element;let i = index;" class="action-btn-i centerAlign">
                        <a>
                          <i class="material-icons plus btn-history " title="View History" (click)="view()">history</i>
                        </a>

                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                    </ng-container>
                    <ng-container matColumnDef="action1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="3" [ngStyle]="{'width':'10%'}"
                        scope="row">
                        Action</th>
                    </ng-container>
                    <ng-container matColumnDef="subHead1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Budget
                        Head</th>
                    </ng-container>
                    <ng-container matColumnDef="department11">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.rowspan]="2">Department/CO/DDO</th>
                    </ng-container>
                    <ng-container matColumnDef="subHeadWiseDetails1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="2">
                        IteItem wise grant details </th>
                    </ng-container>
                    <ng-container matColumnDef="detailHeadAndClassWiseDetails1">
                      <th mat-header-cell *matHeaderCellDef scope="row" [attr.colspan]="9">
                        Item and Class wise Details</th>
                    </ng-container>
                    <ng-container matColumnDef="1">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">A</th>
                    </ng-container>
                    <ng-container matColumnDef="2">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">B</th>
                    </ng-container>
                    <ng-container matColumnDef="3">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">C</th>
                    </ng-container>
                    <ng-container matColumnDef="4">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">D</th>
                    </ng-container>
                    <ng-container matColumnDef="5">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">E</th>
                    </ng-container>
                    <ng-container matColumnDef="6">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">F</th>
                    </ng-container>
                    <ng-container matColumnDef="7">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">G</th>
                    </ng-container>
                    <ng-container matColumnDef="8">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">H</th>
                    </ng-container>
                    <ng-container matColumnDef="9">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">I</th>
                    </ng-container>
                    <ng-container matColumnDef="10">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">J</th>
                    </ng-container>
                    <ng-container matColumnDef="11">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">I</th>
                    </ng-container>
                    <ng-container matColumnDef="12">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">L</th>
                    </ng-container>
                    <ng-container matColumnDef="13">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">M</th>
                    </ng-container>
                    <ng-container matColumnDef="14">
                      <th mat-header-cell *matHeaderCellDef scope="row" class="tblwithoutBg">N</th>
                    </ng-container>

                    <tr mat-header-row class="unsetHeight"
                      *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14']">
                    </tr>
                    <tr mat-header-row *matHeaderRowDef="['subHead1',
                      'department11','subHeadWiseDetails1','detailHeadAndClassWiseDetails1','action1']">
                    </tr>
                    <tr mat-header-row *matHeaderRowDef="detailHeadDisplayColumns">
                    </tr>
                    <tr mat-row *matRowDef="let row; columns:
                      detailHeadDisplayColumns;let i= index;">
                    </tr>
                    <tr mat-footer-row *matFooterRowDef="detailHeadDisplayColumns"></tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Attachments">
          <table mat-table [dataSource]="dataSourceBrowse" width="100%" id="browseTable">
            <ng-container matColumnDef="attachmentType">
              <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
              <!-- <td mat-cell *matCellDef="let item"> {{item.serviceType}} </td>-->
              <td mat-cell *matCellDef="let item;let i= index;">
                <mat-select placeholder="Attachment Type" #singleSelect1 required [(ngModel)]="item.attachmentType">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="attachmentTypeCodeCtrl"
                      [placeholderLabel]="'Find Attachment Type...'" [noEntriesFoundLabel]="'no matching Attachment Type
                      found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let AT of attachmentTypeCode" [value]="AT.value">
                    {{AT.viewValue}}
                  </mat-option>
                </mat-select>
              </td>
            </ng-container>
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef scope="row">File name</th>
              <td mat-cell *matCellDef="let item">
                <mat-form-field floatLabel="never">
                  <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="browse">
              <th mat-header-cell *matHeaderCellDef scope="row">Browse File</th>
              <td mat-cell *matCellDef="let i= index" class="centerAlign">
                <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse
                  Files</button>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedFileName">
              <th mat-header-cell *matHeaderCellDef scope="row">Uploaded file name</th>
              <td mat-cell *matCellDef="let item">
                <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedBy">
              <th mat-header-cell *matHeaderCellDef scope="row">Uploaded By</th>
              <td mat-cell *matCellDef="let item">
                {{item.uploadedBy}}
              </td>
            </ng-container>
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
              <td mat-cell *matCellDef="let item; let i= index">
                <table class="iconTable">
                  <tbody>
                    <tr>
                      <td width="30">
                        <i class="material-icons plus delete" aria-hidden="true" *ngIf="dataSourceBrowse && dataSourceBrowse.data &&
                          dataSourceBrowse.data.length> 1" (click)="deleteBrowse(i)">
                          delete
                        </i>
                      </td>
                      <td width="30">
                        <i class="material-icons plus add" aria-hidden="true" *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i
                          == dataSourceBrowse.data.length - 1)" (click)="addBrowse()">
                          add
                        </i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
          </table>
          <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />
          <div class="legend">
            1. Total File size should be under 2MB<br> 2. File type supported
            are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
            ‘JPEG’, ‘PNG’, ‘PDF’.
          </div>
        </mat-tab>
      </mat-tab-group>
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary" title="Save As
          Draft">
          <i class="material-icons" title="Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>
        <button mat-raised-button type="submit" title="Submit" class="green" (click)="workflowDetails()"><i
            class="material-icons" title="Submit" aria-hidden="true">
            done
          </i> Submit</button>
        <button type="reset" mat-raised-button color="accent" title="Reset">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>
        <button type="button" mat-raised-button title="Listing" color="warn"
          [routerLink]="['../grant-release-from-administrative-department/grant-release-from-ad-list']"
          routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>
        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>
        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>


        <button type="view" mat-raised-button color="accent" (click)="workflowDetails()">
          <i class="material-icons" title="View" aria-hidden="true">remove_red_eye</i>
          View Comments
        </button>
      </div>
    </div>
  </div>
</div>