<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Grant Distribution From Finance Department</div>
      <div class="font-heading"><strong>Reference No:</strong>
        19-20/Grant/GDF/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ date | date:
        'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Grant</a></li>
        <li class="breadcrumb-item active" aria-current="page">Grant
          Distribution From Finance Department</li>
      </ol>
    </nav>
    <mat-accordion class="search-accordian">
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <div class="heading-section">
            New Grant order
          </div>
        </mat-expansion-panel-header>
        <div class="form-datatable-list">
          <form class="col-sm-12" [formGroup]="searchGrantDistribution"
            (ngSubmit)="formSubmit()">
            <div class="row">
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="finYear" placeholder="Financial
                    Year" required [disabled]='toggleButton'>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="finYearCtrl"
                        [placeholderLabel]="'Find Financial Year...'"
                        [noEntriesFoundLabel]="'no matching Financial Year
                        found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let eventsName of finYear_list |
                      filterSelectInput: finYearCtrl.value"
                      [value]="eventsName.value">
                      {{eventsName.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="searchGrantDistribution.controls.finYear.touched &&
                    searchGrantDistribution.controls.finYear.errors">
                    <mat-error
                      *ngIf="searchGrantDistribution.controls.finYear.errors.required">
                      {{errorMessages.FIN_YEAR}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="revenueCapital"
                    placeholder="Revenue/ Capital" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                        [placeholderLabel]="'Find Revenue/ Capital...'"
                        [noEntriesFoundLabel]="'no matching Revenue/ Capital
                        found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let RC of revenueCapital_list |
                      filterSelectInput: revenueCapitalCtrl.value"
                      [value]="RC.value">
                      {{RC.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="searchGrantDistribution.controls.revenueCapital.touched
                    && searchGrantDistribution.controls.revenueCapital.errors">
                    <mat-error
                      *ngIf="searchGrantDistribution.controls.revenueCapital.errors.required">
                      {{errorMessages.REVENUE_CAPITAL}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="fromMonth" placeholder="From
                    Month" required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="fromMonthCtrl"
                        [placeholderLabel]="'Find From Month...'"
                        [noEntriesFoundLabel]="'no matching From Month found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let fromMonth of fromMonth_list |
                      filterSelectInput: fromMonthCtrl.value"
                      [value]="fromMonth.value">
                      {{fromMonth.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="searchGrantDistribution.controls.fromMonth.touched &&
                    searchGrantDistribution.controls.fromMonth.errors">
                    <mat-error
                      *ngIf="searchGrantDistribution.controls.fromMonth.errors.required">
                      {{errorMessages.FROM_MONTH}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="toMonth" placeholder="To Month"
                    required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="toMonthCtrl"
                        [placeholderLabel]="'Find To Month...'"
                        [noEntriesFoundLabel]="'no matching To Month found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let toMonth of toMonth_list |
                      filterSelectInput: toMonthCtrl.value"
                      [value]="toMonth.value">
                      {{toMonth.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="searchGrantDistribution.controls.toMonth.touched &&
                    searchGrantDistribution.controls.toMonth.errors">
                    <mat-error
                      *ngIf="searchGrantDistribution.controls.toMonth.errors.required">
                      {{errorMessages.TO_MONTH}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput name="orderNo" placeholder="Order Number"
                    formControlName="orderNo" required>
                  <div class="error-wrapper"
                    *ngIf="searchGrantDistribution.controls.orderNo.touched &&
                    searchGrantDistribution.controls.orderNo.errors">
                    <mat-error
                      *ngIf="searchGrantDistribution.controls.orderNo.errors.required">
                      {{errorMessages.ORDER_NO}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="departmentName"
                    placeholder="Department/division Name" multiple>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="departmentNameCtrl"
                        [placeholderLabel]="'Find Department/division Name...'"
                        [noEntriesFoundLabel]="'no matching Department found'">
                      </ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let department of departments |
                      filterSelectInput: departmentNameCtrl.value"
                      [value]="department.value">
                      {{department.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-md-12">
                <div class="form-action-button">
                  <button type="submit" mat-raised-button color="primary"
                    (click)="showdata()">
                    Create
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-tab-group mat-stretch-tabs class="mt-2" *ngIf="Property">
      <mat-tab label="Grant Order">
        <div class="rsClass"> (₹ in Lakhs) </div>
        <div class="mat-elevation-z8 mt-2">
          <table mat-table [dataSource]="grantdataSource" width="100%"
            class="responsive-table">

            <!--- Column Label Name  -->
            <ng-container matColumnDef="serialNo">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'width':'5%'}" [attr.rowspan]="3">Sr.No
              </th>
            </ng-container>
            <ng-container matColumnDef="divisionLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'width':'15%'}" [attr.rowspan]="3">
                Division /
                <br>Department Name</th>
            </ng-container>
            <ng-container matColumnDef="budgetEstimateLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="3">Budget Estimate</th>
            </ng-container>
            <ng-container matColumnDef="addAuthorizeLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="2">Approved Add. Authorization</th>
            </ng-container>
            <ng-container matColumnDef="revisedEstimateLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="3">Revised Estimate</th>
            </ng-container>
            <ng-container matColumnDef="grantReleaseUpToLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="2">Grant Release up to (State)</th>
            </ng-container>
            <ng-container matColumnDef="availableGrantLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3">Available Grant (State) (C-K)</th>
            </ng-container>

            <ng-container matColumnDef="grantReleaseInProgressLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3">Grant Release In Progress</th>
            </ng-container>

            <ng-container matColumnDef="grantToBeReleasedLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3">Grant to be Released (State)</th>
            </ng-container>

            <ng-container matColumnDef="remainingGrantLabel">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3">Remaining Grant (State) (M-N-O)</th>
            </ng-container>

            <!--- End Column Label Name  -->


            <!-- Dynamic value should be come in this column fields -->
            <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display': 'none'}">Sr. No.</th>
              <td mat-cell *matCellDef="let element"> {{element.position}} </td>
              <td mat-footer-cell *matFooterCellDef>Total</td>
            </ng-container>

            <ng-container matColumnDef="divisionName">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display': 'none'}">Division /
                <br>Department Name</th>
              <td mat-cell *matCellDef="let element"
                matTooltip="{{element.tooltip}}"> {{element.divisionName}} </td>
              <td mat-footer-cell *matFooterCellDef> </td>
            </ng-container>


            <!-- Budget Estimate Column C D E -->

            <!-- Column C -->
            <ng-container matColumnDef="budgetStateScheme">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">State</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.budgetStateScheme | number : '1.2-2'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getbudgetStateScheme() | number : '1.2-2'}}
              </td>
            </ng-container>
            <!-- Column C -->

            <!-- CSS label name uder the Budget estimate Column name C D E-->
            <ng-container matColumnDef="budgetCssScheme">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="2">CSS </th>
              <td mat-cell *matCellDef="let element;let i= index;"
                [ngStyle]="{'display':'none'}">                
              </td>
              <td mat-footer-cell *matFooterCellDef
                [ngStyle]="{'display':'none'}">
                </td>
            </ng-container>
            <!-- CSS label name uder the Budget estimate Column name  C D E-->
            
            <ng-container matColumnDef="budgetStateShare">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display':'none'}">State Share (66.66 %)</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.budgetStateShare | number : '1.2-2'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getbudgetStateShare() | number : '1.2-2'}}
              </td>
            </ng-container>

            <ng-container matColumnDef="budgetCssShare">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display':'none'}">Central Share (33.33%)</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.budgetCssShare | number : '1.2-2'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getbudgetCssShare() | number : '1.2-2'}} </td>
            </ng-container>

            <!-- Need to Be Required state and Central section for column Label of Budget Estimate column-->
            <ng-container matColumnDef="CSSStateShare">
              <th mat-header-cell *matHeaderCellDef>State Share (66.66 %)</th>
            </ng-container>
            <ng-container matColumnDef="CSSCentralShare">
              <th mat-header-cell *matHeaderCellDef>Central Share (33.33 %)</th>
            </ng-container>
            <!-- Need to Be Required state and Central section for column Label of Budget Estimate column-->

            <!-- End Budget Estimate Column C D E -->

            <!--- Approved Add. Authorization Column F G -->
            <ng-container matColumnDef="addAuthorizeState">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">State</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.addAuthorizeState | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getaddAuthorizeState() | number : '1.4-4'}}
              </td>
            </ng-container>

            <ng-container matColumnDef="addAuthorizeCss">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">CSS</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.addAuthorizeCss | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getaddAuthorizeCss() | number : '1.4-4'}}
              </td>
            </ng-container>

            <!--- End Approved Add. Authorization Column F G -->


            <!-- Revised Estimate Column H I J -->

            <ng-container matColumnDef="revisedStateScheme">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">State</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.revisedStateScheme | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getrevisedStateScheme() | number : '1.4-4'}}
              </td>
            </ng-container>


            <!-- CSS label name uder the Revised Estimate Column name-->
            <ng-container matColumnDef="revisedCssScheme">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.colspan]="2">CSS </th>
              <td mat-cell *matCellDef="let element;let i= index;"
                [ngStyle]="{'display':'none'}">               
              </td>
              <td mat-footer-cell *matFooterCellDef
                [ngStyle]="{'display':'none'}">
              </td>
            </ng-container>
            <!-- End CSS label name uder the Revised estimate Column name-->

           
            <ng-container matColumnDef="revisedStateShare">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display':'none'}">State Share</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.revisedStateShare | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getrevisedStateShare() | number : '1.4-4'}}
              </td>
            </ng-container>

            <ng-container matColumnDef="revisedCssShare">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display':'none'}">Central Share</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.revisedCssShare | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getrevisedCssShare() | number : '1.4-4'}}
              </td>
            </ng-container>

            <!-- Need to Be Required state and Central section for column Label of Revised Estimate column-->
            <ng-container matColumnDef="revisedCSSStateShare">
              <th mat-header-cell *matHeaderCellDef>State Share (66.66%)</th>  
            </ng-container>

            <ng-container matColumnDef="revisedCSSCentralShare">
              <th mat-header-cell *matHeaderCellDef>Central Share (33.33%)</th> 
            </ng-container>
            <!-- End Need to Be Required state and Central section for column Label of Revised Estimate column -->

            <!-- End Revised Estimate Column name  H I J-->


            <!-- Grant Release Up To (State) Column K L	-->

            <ng-container matColumnDef="grantRelease">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">Grant Released</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.grantRelease | number : '1.4-4'}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getgrantRelease() | number : '1.4-4'}} </td>
            </ng-container>

            <ng-container matColumnDef="grantReleaseWithAutho">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="2">With Add. Autho</th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                {{element.grantReleaseWithAutho | number : '1.4-4'}} </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getgrantReleaseWithAutho() | number : '1.4-4'}} </td>
            </ng-container>

            <!-- End Grant Release Up To (State) Column K L	-->
            
            <!-- Available Grant Column M	-->
            <ng-container matColumnDef="availableGrant">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [ngStyle]="{'display': 'none'}">Available Grant </th>
              <td mat-cell *matCellDef="let element" class="coldisable
                rightAlign">
                {{element.availableGrant}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getavailableGrant() | number : '1.4-4'}} </td>
            </ng-container>
            <!-- End Available Grant Column M -->


            <!-- Grant Release In Progress Column N	-->
            <ng-container matColumnDef="grantReleaseInProgress">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3" [ngStyle]="{'display': 'none'}">
                Grant Release In Progress</th>
              <td mat-cell *matCellDef="let element" class="coldisable
                rightAlign">
                {{element.grantReleaseInProgress}}
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getgrantReleaseInProgress() | number : '1.4-4'}} <br>
              </td>
            </ng-container>
            <!-- End Grant Release In Progress Column N	-->


            <!-- Grant To Be Released (State) Column O	-->
            <ng-container matColumnDef="grantToBeReleaseProgress">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3" [ngStyle]="{'display': 'none'}">
                Grant To Be Released (State)
              </th>
              <td mat-cell *matCellDef="let element" class="rightAlign">
                <mat-form-field floatLabel="never" class="rightAlign">
                  <input matInput (keypress)="decimalKeyPress($event)"
                    [(ngModel)]="element.grantToBeReleaseProgress"
                    (blur)="decimalPoint(element,'grantToBeReleaseProgress')">
                </mat-form-field>
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">
                {{ getgrantToBeRelease() | number : '1.4-4'}}<br><i>(Three lakhs
                  only) </i></td>
            </ng-container>
            <!-- End Grant To Be Released (State) Column O	-->

            
            <!-- Remaining Grant (State) Column P	-->
            <ng-container matColumnDef="remainingGrant">
              <th mat-header-cell *matHeaderCellDef scope="row"
                [attr.rowspan]="3" [ngStyle]="{'display': 'none'}">
                Remaining Grant (State) (M-N-O)</th>
              <td mat-cell *matCellDef="let element" class="coldisable
                rightAlign">
                <!-- {{ calcRemainingGrant(element) }}  -->
                <span *ngIf="element.grantReleaseInProgress">
                  {{ element.availableGrant - element.grantToBeReleaseProgress | number
                  : '1.4-4'}}
                </span>
              </td>
              <td mat-footer-cell *matFooterCellDef class="rightAlign">{{
                getremainingGrant() | number : '1.4-4'}}
              </td>
            </ng-container>
            <!-- End Remaining Grant (State) Column P	-->

            <!-- End Dynamic value should be come in this column fields -->


            <!-- No. Of Columns Fields section -->
            <ng-container matColumnDef="1">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">A</th>
            </ng-container>
            <ng-container matColumnDef="2">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">B</th>
            </ng-container>
            <ng-container matColumnDef="3">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">C</th>
            </ng-container>
            <ng-container matColumnDef="4">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">D</th>
            </ng-container>
            <ng-container matColumnDef="5">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">E</th>
            </ng-container>
            <ng-container matColumnDef="6">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">F</th>
            </ng-container>
            <ng-container matColumnDef="7">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">G</th>
            </ng-container>
            <ng-container matColumnDef="8">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">H</th>
            </ng-container>
            <ng-container matColumnDef="9">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">I</th>
            </ng-container>
            <ng-container matColumnDef="10">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">J</th>
            </ng-container>
            <ng-container matColumnDef="11">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">K</th>
            </ng-container>
            <ng-container matColumnDef="12">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">L</th>
            </ng-container>
            <ng-container matColumnDef="13">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">M</th>
            </ng-container>
            <ng-container matColumnDef="14">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">N</th>
            </ng-container>

            <ng-container matColumnDef="15">
              <th mat-header-cell *matHeaderCellDef scope="row"
                class="tblwithoutBg">O</th>
            </ng-container>

            <ng-container matColumnDef="16">
              <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">P</th>
            </ng-container>

            <tr mat-header-row class="unsetHeight"
              *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13',
              '14', '15','16']"></tr>

            <!-- Header Column Section -->
            <tr mat-header-row
              *matHeaderRowDef="['serialNo','divisionLabel','budgetEstimateLabel',
              'addAuthorizeLabel', 'revisedEstimateLabel',
              'grantReleaseUpToLabel',
              'availableGrantLabel','grantReleaseInProgressLabel',
              'grantToBeReleasedLabel','remainingGrantLabel']">
            </tr>
            <!-- End Header Column Section -->

            <!-- End No. Of Columns Fields section -->

            <!-- Header Section of Table -->
              <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
            <!-- End Header Section of Table -->

            <!-- Use For sub multiple column under a Single Column -->
            <tr mat-header-row
              *matHeaderRowDef="['CSSStateShare','CSSCentralShare',
              'revisedCSSStateShare', 'revisedCSSCentralShare']">
            </tr>
            <!-- End Use For sub multiple column under a Single Column -->

            <!-- Dynamic value comes from .TS File -->
            <tr mat-row *matRowDef="let row; let i= index;columns:
              displayedGrantColumns;">
            </tr>
            <!-- End Dynamic value comes from .TS File -->

            <!-- Footer Sectin of Table -->
            <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr>
            <!-- End Footer Sectin of Table -->

          </table>
        </div>

        <!-- Note Section -->
        <div class="legend mt-1">
          <strong>Note:</strong>Highlighted Cells indicates that, Grant released
          is exceeding the Budget provision.
        </div>
        <!-- End Note Section -->
      </mat-tab>


      <mat-tab label="Attachments">
        <table mat-table [dataSource]="dataSourceBrowse" width="100%"
          id="browseTable">
          <ng-container matColumnDef="attachmentType">
            <th mat-header-cell *matHeaderCellDef>Attachment Type</th>
            <td mat-cell *matCellDef="let item;let i= index;">
              <mat-select placeholder="Attachment Type" #singleSelect1 required
                [(ngModel)]="item.attachmentType">
                <mat-option>
                  <ngx-mat-select-search [formControl]="attachmentTypeCtrl"
                    [placeholderLabel]="'Find Attachment Type...'"
                    [noEntriesFoundLabel]="'no matching Attachment Type found'">
                  </ngx-mat-select-search>
                </mat-option>
                <mat-option *ngFor="let AT of attachmentTypeCode"
                  [value]="AT.value">
                  {{AT.viewValue}}
                </mat-option>
              </mat-select>
            </td>
          </ng-container>
          <ng-container matColumnDef="fileName">
            <th mat-header-cell *matHeaderCellDef>File name</th>
            <td mat-cell *matCellDef="let item">
              <mat-form-field floatLabel="never">
                <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
              </mat-form-field>
            </td>
          </ng-container>
          <ng-container matColumnDef="browse">
            <th mat-header-cell *matHeaderCellDef>Browse File</th>
            <td mat-cell *matCellDef="let i= index" class="centerAlign browse-file">
              <button type="button" (click)="openFileSelector(i)"
                class="btn-browse">BrowseFiles</button>
                <input type="file" id="fileBrowse" style="visibility: hidden;"
                (change)="onFileSelection($event)" />
            </td>
          </ng-container>
          <ng-container matColumnDef="uploadedFileName">
            <th mat-header-cell *matHeaderCellDef>Uploaded file name</th>
            <td mat-cell *matCellDef="let item">
              <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
            </td>
          </ng-container>
          <ng-container matColumnDef="uploadedBy">
            <th mat-header-cell *matHeaderCellDef>Uploaded By</th>
            <td mat-cell *matCellDef="let item">
              {{item.uploadedBy}}
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-cell *matCellDef="let item; let i= index">
              <table class="iconTable text-center">
                <tbody>
                  <tr>
                    <td width="30">
                      <i class="material-icons plus delete"
                        *ngIf="dataSourceBrowse && dataSourceBrowse.data &&
                        dataSourceBrowse.data.length> 1"
                        (click)="deleteBrowse(i)">
                        delete
                      </i>
                    </td>
                    <td width="30">
                      <i class="material-icons plus add"
                        *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i
                        == dataSourceBrowse.data.length - 1)"
                        (click)="addBrowse()">
                        add
                      </i>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
        </table>
        <br>
        <!-- Note Section -->
        <div class="legend">
          1. Total File size should be under 2MB<br>
          2. File type supported are:
          'jpg', 'jpeg', 'png', 'pdf', JPG’,
          ‘JPEG’, ‘PNG’, ‘PDF’.
        </div>
        <!-- Note Section -->

      </mat-tab>
    </mat-tab-group>


    <!--- Action Buttons -->

    <div class="form-action-button">
      <button type="submit" mat-raised-button color="primary" title="Save As
        Draft">
        <i class="material-icons" title="Save As Draft" aria-hidden="true">
          save
        </i>
        Save as Draft
      </button>
      <button type="button" mat-raised-button title="Calculate" type="submit"
        class="green"
        (click)="grantPercentageModel()">
        Calculate
      </button>
      <button mat-raised-button type="submit" title="Submit" class="green"
        (click)="workflowDetails()"><i
          class="material-icons" title="Submit" aria-hidden="true">
          done
        </i> Submit</button>

      <button type="reset" mat-raised-button color="accent" title="Reset"
        (click)="reset()">
        <i class="material-icons" title="Reset" aria-hidden="true">
          restore
        </i>
        Reset
      </button>
      <button type="button" mat-raised-button title="Listing" color="warn"
        [routerLink]="['../grant-release-fd-to-administrative-department/fd-to-administrative-department-list']"
        routerLinkActive="router-link-active">
        <i class="material-icons" title="Listing" aria-hidden="true">
          list
        </i>
        Listing
      </button>
      <button type="button" mat-raised-button class="btnClose" title="Close">
        <i class="material-icons" title="Close" aria-hidden="true">
          close
        </i>
        Close
      </button>

      <button type="view" mat-raised-button color="accent"
        (click)="workflowDetails()" title="View Comments">
        <i class="material-icons" title="View Comments" aria-hidden="true">remove_red_eye</i>
        View Comments
      </button>
    </div>

    <!--- End Action Buttons -->


  </div>
</div>
