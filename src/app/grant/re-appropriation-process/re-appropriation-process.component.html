<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Re-Appropriation Process</div>
      <div class="font-heading"><strong>Reference No:</strong> 19-20/Grant/RAP/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{ initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <div class="panel-group">
      <mat-tab-group mat-stretch-tabs>
        <mat-tab label="Appropriation Process Details">
          <mat-accordion class="colapsedata">
            <mat-expansion-panel [expanded]="true" class="nopadding ">
              <mat-expansion-panel-header>
                <div class="heading-section">
                  Re-Appropriation
                </div>
              </mat-expansion-panel-header>
              <div class="form-datatable-list">
                <form class="col-sm-12" [formGroup]="createGrantOrder" (ngSubmit)="formSubmit()" required>
                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="finYear" placeholder="Financial Year" [disabled]='toggleButton'>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="finYearCtrl"
                              [placeholderLabel]="'Find Financial Year...'"
                              [noEntriesFoundLabel]="'no matching Financial Year found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let FY of finYear| filterSelectInput: finYearCtrl.value "
                            [value]="FY.value">
                            {{FY.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="department" placeholder="Name of Department" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                              [placeholderLabel]="'Find Name of Department...'"
                              [noEntriesFoundLabel]="'no matching Name of Department found'">
                            </ngx-mat-select-search>
                          </mat-option>

                          <mat-option
                            *ngFor="let department of filteredDepartment | filterSelectInput: departmentCodeCtrl.value "
                            [value]="department.value">
                            {{department.viewValue}}
                          </mat-option>
                        </mat-select>
                        <!-- <div class="error-wrapper"
                                                    *ngIf="budgetprintingform.controls.departmentCode.touched && budgetprintingform.controls.departmentCode.errors">
                                                    <mat-error
                                                        *ngIf="budgetprintingform.controls.departmentCode.errors.required">
                                                        {{errorMessages.DEPARTMENT}}</mat-error>
                                                </div> -->
                      </mat-form-field>
                    </div>
                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="Grant Order No" formControlName="orderNo" required>
                                            </mat-form-field>
                                        </div> -->

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="demand" placeholder="Demand" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                              [noEntriesFoundLabel]="'no matching Demand found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let demand of demand_list | filterSelectInput: demandCtrl.value"
                            [value]="demand.value">
                            {{demand.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.demand.touched && createGrantOrder.controls.demand.errors">
                          <mat-error *ngIf="createGrantOrder.controls.demand.errors.required">
                            {{errorMessages.DEMAND}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-12">
                      <div class="row">
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="schemeGroup" placeholder="Scheme Group For Re-Appropriation"
                              required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="schemeGroupCtrl"
                                  [placeholderLabel]="'Find Scheme Group For Re-Appropriation...'"
                                  [noEntriesFoundLabel]="'No matching Scheme group for Re-Appropriation found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let schemeGroup of schemeGroup_List | filterSelectInput: schemeGroupCtrl.value"
                                [value]="schemeGroup.value">
                                {{schemeGroup.viewValue}}
                              </mat-option>
                            </mat-select>
                            <!-- <div class="error-wrapper" *ngIf="createGrantOrder.controls.schemeGroup.touched && schemeGroup.controls.schemeGroup.errors">
                                                            <mat-error *ngIf="createGrantOrder.controls.schemeGroup.errors.required">
                                                                {{errorMessages.GROUP_REA}}
                                                            </mat-error>
                                                        </div> -->
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="example-full-width">
                            <input matInput placeholder=" Re-appropriation Order No" formControlName="orderNo" required>
                          </mat-form-field>
                        </div>
                        <div class="form-action-button">
                          <button type="submit" mat-raised-button color="primary" (click)="viewAata()" title="Add">
                            Create</button>
                        </div>

                      </div>
                    </div>


                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="revenueCaptial" placeholder="Revenue/Captial" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="revenueCaptialCtrl" [placeholderLabel]="'Find Revenue/Captial...'" [noEntriesFoundLabel]="'no matching Revenue/Captial found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let revenueCaptial of revenueCaptial_list | filterSelectInput: revenueCaptialCtrl.value" [value]="revenueCaptial.value">
                                                        {{revenueCaptial.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.revenueCaptial.touched && createGrantOrder.controls.revenueCaptial.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.revenueCaptial.errors.required">
                                                        {{errorMessages.REVENUE_CAPITAL}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div> -->
                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="chargedVoted" placeholder="Voted/Charge" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="chargedVotedCtrl" [placeholderLabel]="'Find Charged Voted...'" [noEntriesFoundLabel]="'no matching Charged Voted found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let chargedVoted of chargedVoted_list | filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                                        {{chargedVoted.viewValue}}
                                                    </mat-option>
                                                </mat-select>

                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.chargedVoted.touched && createGrantOrder.controls.chargedVoted.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.chargedVoted.errors.required">
                                                        {{errorMessages.CHARGED_VOTED}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div> -->
                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="schemeType" placeholder="Scheme Type" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="schemeTypeCtrl" [placeholderLabel]="'Find Scheme Type...'" [noEntriesFoundLabel]="'no matching Scheme Type found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let schemeType of schemeType_list | filterSelectInput: schemeTypeCtrl.value" [value]="schemeType.value">
                                                        {{schemeType.viewValue}}
                                                    </mat-option>
                                                </mat-select>

                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.schemeType.touched && createGrantOrder.controls.schemeType.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.schemeType.errors.required">
                                                        {{errorMessages.CHARGED_VOTED}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div> -->
                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="increaseDecrease" placeholder="Increase/Decrease Amount" (selectionChange)="increaseAmount($event)" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="increaseDecreaseCtrl" [placeholderLabel]="'Find Increase/Decrease Amount...'" [noEntriesFoundLabel]="'no matching Increase/Decrease Amount found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let increaseDecrease of increaseDecrease_list | filterSelectInput: increaseDecreaseCtrl.value" [value]="increaseDecrease.value">
                                                        {{increaseDecrease.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div> -->
                  </div>
                  <div *ngIf="addincrease">
                    <div class="row header-detail col-sm-12">
                      <div class="col-sm-4 colPadding" *ngFor="let item of headerReAGroup ">
                        <div class="labelCSS">{{item.label}}<span class="floatRight"></span></div>
                        <div class="paddingUnset">{{item.value}}</div>
                      </div>
                    </div>
                    <br>
                    <hr>
                    <strong>Scheme Selection</strong>
                    <hr>
                    <div class="col-sm-12">
                      <div class="row">

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="majorHead" placeholder="Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="majorHeadCtrl"
                                  [placeholderLabel]="'Find Major Head...'"
                                  [noEntriesFoundLabel]="'no matching Major Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let majorHead of majorHead_list | filterSelectInput: majorHeadCtrl.value"
                                [value]="majorHead.value">
                                {{majorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.majorHead.touched && createGrantOrder.controls.majorHead.errors">
                              <mat-error *ngIf="createGrantOrder.controls.majorHead.errors.required">
                                {{errorMessages.MAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                                  [placeholderLabel]="'Find Sub Major Head...'"
                                  [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let subMajorHead of subMajorHead_list | filterSelectInput: subMajorHeadCtrl.value"
                                [value]="subMajorHead.value">
                                {{subMajorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.subMajorHead.touched && createGrantOrder.controls.subMajorHead.errors">
                              <mat-error *ngIf="createGrantOrder.controls.subMajorHead.errors.required">
                                {{errorMessages.SUBMAJORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="minorHeadCtrl"
                                  [placeholderLabel]="'Find Minor Head...'"
                                  [noEntriesFoundLabel]="'no matching Minor Head found'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let minorHead of minorHead_list | filterSelectInput: minorHeadCtrl.value"
                                [value]="minorHead.value">
                                {{minorHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.minorHead.touched && createGrantOrder.controls.minorHead.errors">
                              <mat-error *ngIf="createGrantOrder.controls.minorHead.errors.required">
                                {{errorMessages.MINORHEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="subHead" placeholder="Sub Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="subHeadCtrl"
                                  [placeholderLabel]="'Find  Sub Head...'"
                                  [noEntriesFoundLabel]="'no matching  Sub Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let subHead of subHead_list| filterSelectInput: subHeadCtrl.value"
                                [value]="subHead.value">
                                {{subHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.subHead.touched && createGrantOrder.controls.subHead.errors">
                              <mat-error *ngIf="createGrantOrder.controls.subHead.errors.required">
                                {{errorMessages.SUB_HEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="detailHeadCtrl"
                                  [placeholderLabel]="'Find Detailed Head...'"
                                  [noEntriesFoundLabel]="'no matching Detailed Head'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let detailHead of detailHead_list | filterSelectInput: detailHeadCtrl.value"
                                [value]="detailHead.value">
                                {{detailHead.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.detailHead.touched && createGrantOrder.controls.detailHead.errors">
                              <mat-error *ngIf="createGrantOrder.controls.detailHead.errors.required">
                                {{errorMessages.SUB_HEAD}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="budgetEstimateType" placeholder="Budget Estimate Type"
                              required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="budgetEstimateTypeCtrl"
                                  [placeholderLabel]="'Find Budget Estimate Type...'"
                                  [noEntriesFoundLabel]="'no matching Budget Estimate Type'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let budgetEstimateType of budgetEstimateType_list | filterSelectInput: budgetEstimateTypeCtrl.value"
                                [value]="budgetEstimateType.value">
                                {{budgetEstimateType.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.budgetEstimateType.touched && createGrantOrder.controls.budgetEstimateType.errors">
                              <mat-error *ngIf="createGrantOrder.controls.budgetEstimateType.errors.required">
                                {{errorMessages.budget_estimate}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="item" placeholder="Item Name" multiple required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="itemCtrl" [placeholderLabel]="'Find Item Name...'"
                                  [noEntriesFoundLabel]="'no matching Item Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option *ngFor="let item of item_list | filterSelectInput: itemCtrl.value"
                                [value]="item.value">
                                {{item.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.item.touched && createGrantOrder.controls.item.errors">
                              <mat-error *ngIf="createGrantOrder.controls.item.errors.required">
                                {{errorMessages.ITEM_NAME}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>

                        <div class="col-sm-3">
                          <mat-form-field class="full-width">
                            <mat-select formControlName="icrementReduce" placeholder="Increase/Reduce" required>
                              <mat-option>
                                <ngx-mat-select-search [formControl]="IcrementReduceCtrl"
                                  [placeholderLabel]="'Find Increase/Reduce Name...'"
                                  [noEntriesFoundLabel]="'no matching Increase/Reduce Name'">
                                </ngx-mat-select-search>
                              </mat-option>
                              <mat-option
                                *ngFor="let icrementReduce of icrementReduce_list | filterSelectInput: IcrementReduceCtrl.value"
                                [value]="icrementReduce.value">
                                {{icrementReduce.viewValue}}
                              </mat-option>
                            </mat-select>
                            <div class="error-wrapper"
                              *ngIf="createGrantOrder.controls.icrementReduce.touched && createGrantOrder.controls.icrementReduce.errors">
                              <mat-error *ngIf="createGrantOrder.controls.icrementReduce.errors.required">
                                {{errorMessages.INCRESE_REDUCE}}
                              </mat-error>
                            </div>
                          </mat-form-field>
                        </div>



                      </div>
                    </div>
                  </div>
                </form>
                <div class="form-action-button" *ngIf="addincrease">
                  <button type="submit" mat-raised-button color="primary" title="Add">
                    <i class="material-icons" title="Add" aria-hidden="true">
                      add_circle_outline
                    </i>Add</button>
                </div>
              </div>
              <div *ngIf="addincrease">
                <div class="">

                  <div class="rsClass"> (₹ in Lakhs) </div>
                  <strong>Heads under which it is proposed to Increase the Amount</strong>
                  <table mat-table [dataSource]="grantdataSource" width="100%" class="responsive-table">
                    <ng-container matColumnDef="srNo">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr No</th>
                      <td mat-cell *matCellDef="let element; let i = index"> {{i+1}} </td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>
                    <ng-container matColumnDef="headOfAccount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" style="width: 12%;">Budget Head</th>
                      <td mat-cell *matCellDef="let element"> {{element.headOfAccount}} </td>
                      <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>
                    <ng-container matColumnDef="workName">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" style="width: 7%;">Item / Work Name</th>
                      <td mat-cell *matCellDef="let element"> {{element.workName}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                    </ng-container>
                    <ng-container matColumnDef="objectClass">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Object Class</th>
                      <td mat-cell *matCellDef="let element" matTooltip="{{element.tooltip}}">
                        {{element.objectClass}} <br>
                        {{element.objectClass1}}<br>
                        {{element.objectClass2}}<br>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                    </ng-container>
                    <ng-container matColumnDef="budgetEstimate">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Budget Estimate</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.budgetEstimate | number : '1.4-4'}} <br>
                        {{element.budgetEstimate1 | number : '1.4-4'}} <br>
                        {{element.budgetEstimate2 | number : '1.4-4'}} <br>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getBudgetEstimate()  | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="revisedEstimate">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Revised Estimate </th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.revisedEstimate | number : '1.4-4'}}
                        <br>
                        {{element.revisedEstimate | number : '1.4-4'}}
                        <br>
                        {{element.revisedEstimate | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getRevisedEstimate() | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="supplementaryDemand">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Supplementary Demand</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.supplementaryDemand | number : '1.4-4'}}
                        <br>
                        {{element.supplementaryDemand | number : '1.4-4'}}
                        <br>
                        {{element.supplementaryDemand | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getSupplementaryDemand() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="sanctionGrant">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sanction Grant</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.sanctionGrant | number : '1.4-4'}}
                        <br>
                        {{element.sanctionGrant | number : '1.4-4'}}
                        <br>
                        {{element.sanctionGrant | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getsanctionGrant() | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="actualExpendature">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Actual Expenditure known upto Date of
                        Re-appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{getactualExpendature()}}</td>
                    </ng-container>
                    <ng-container matColumnDef="surenderAmount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Surrendered Amount</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.surenderAmount | number : '1.4-4'}}
                        <br>
                        {{element.surenderAmount | number : '1.4-4'}}
                        <br>
                        {{element.surenderAmount | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> {{getsurenderAmount()}}</td>
                    </ng-container>
                    <ng-container matColumnDef="reAppropriationAmount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Amount Of Re-Appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getReAppropriationAmount() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="standAfterReApproation">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Amount as it will stand after
                        Re-Appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.standAfterReApproation + element.actualExpendature | number : '1.4-4'}}
                        <br>
                        {{element.standAfterReApproation + element.actualExpendature | number : '1.4-4'}}
                        <br>
                        {{element.standAfterReApproation + element.actualExpendature | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getstandAfterReApproation() | number : '1.4-4'}}</td>
                    </ng-container>

                    <ng-container matColumnDef="detailsedAppropration">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Detailed Explanation</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                    </ng-container>


                    <ng-container matColumnDef="actions">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Action</th>
                      <td mat-cell *matCellDef="let element; let i = index;" class="action-btn-i centerAlign">
                        <a><i class="material-icons plus edit-icon" title="Edit">
                            edit </i></a>
                        <a class="delete-icon"><i class="material-icons plus delete"
                            title="Delete">delete_forever</i></a>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                    </ng-container>

                    <!-- <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef style="width: 13%;"> Action </th>
                                        <td mat-cell *matCellDef="let element; let i = index;" class="action-btn-i centerAlign">
                                            <a [routerLink]="'/'"><i class="material-icons plus edit-icon" title="Edit">
                                                edit </i></a>               
                                            <a class="delete-icon"><i
                                                    class="material-icons plus delete" title="Delete">delete_forever</i></a>
                                        </td>
                                    </ng-container> -->


                    <ng-container matColumnDef="1">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">A</th>
                    </ng-container>
                    <ng-container matColumnDef="2">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">B</th>
                    </ng-container>
                    <ng-container matColumnDef="3">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">C</th>
                    </ng-container>
                    <ng-container matColumnDef="4">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">D</th>
                    </ng-container>
                    <ng-container matColumnDef="5">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">E</th>
                    </ng-container>
                    <ng-container matColumnDef="6">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">F</th>
                    </ng-container>
                    <ng-container matColumnDef="7">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">G</th>
                    </ng-container>
                    <ng-container matColumnDef="8">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">H</th>
                    </ng-container>
                    <ng-container matColumnDef="9">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">I</th>
                    </ng-container>
                    <ng-container matColumnDef="10">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">J</th>
                    </ng-container>
                    <ng-container matColumnDef="11">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">K</th>
                    </ng-container>
                    <ng-container matColumnDef="12">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">L</th>
                    </ng-container>
                    <ng-container matColumnDef="13">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">M</th>
                    </ng-container>
                    <ng-container matColumnDef="14">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">N</th>
                    </ng-container>
                    <tr mat-header-row class="unsetHeight"
                      *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14']"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
                    <tr mat-row *matRowDef="let row; let i = index;columns: displayedGrantColumns;">
                    </tr>
                    <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr>
                  </table>
                </div>
                <div class="">

                  <div class="rsClass"> (₹ in Lakhs) </div>
                  <strong> Heads under which it is proposed to Reduce the Amount</strong>
                  <table mat-table [dataSource]="grantdataSource2" width="100%" class="responsive-table">
                    <ng-container matColumnDef="srNo">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr No</th>
                      <td mat-cell *matCellDef="let element; let i = index"> {{i+1}} </td>
                      <td mat-footer-cell *matFooterCellDef>Total </td>
                    </ng-container>
                    <ng-container matColumnDef="headOfAccount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" style="width: 12%;">Budget Head</th>
                      <td mat-cell *matCellDef="let element"> {{element.headOfAccount}} </td>
                      <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>
                    <ng-container matColumnDef="workName">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" style="width: 7%;">Item / Work Name</th>
                      <td mat-cell *matCellDef="let element"> {{element.workName}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                    </ng-container>
                    <ng-container matColumnDef="objectClass">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Object Class</th>
                      <td mat-cell *matCellDef="let element" matTooltip="{{element.tooltip}}">
                        {{element.objectClass}} <br>
                        {{element.objectClass1}}<br>
                        {{element.objectClass2}}<br>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                    </ng-container>
                    <ng-container matColumnDef="budgetEstimate">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Budget Estimate</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.budgetEstimate | number : '1.4-4'}} <br>
                        {{element.budgetEstimate1 | number : '1.4-4'}} <br>
                        {{element.budgetEstimate2 | number : '1.4-4'}} <br>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getBudgetEstimate2() | number : '1.4-4' }}</td>
                    </ng-container>
                    <ng-container matColumnDef="revisedEstimate">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Revised Estimate </th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.revisedEstimate | number : '1.4-4'}}
                        <br>
                        {{element.revisedEstimate | number : '1.4-4'}}
                        <br>
                        {{element.revisedEstimate | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getRevisedEstimate2() | number : '1.4-4'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="supplementaryDemand">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Supplementary Demand</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.supplementaryDemand | number : '1.4-4'}}
                        <br>
                        {{element.supplementaryDemand | number : '1.4-4'}} <br>
                        {{element.supplementaryDemand | number : '1.4-4'}}

                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getSupplementaryDemand2() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="sanctionGrant">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sanction Grant</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.sanctionGrant | number : '1.4-4'}} <br>
                        {{element.sanctionGrant | number : '1.4-4'}} <br>
                        {{element.sanctionGrant | number : '1.4-4'}}
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getsanctionGrant2() | number : '1.4-4'}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="actualExpendature">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Actual Expenditure known upto Date of
                        Re-appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.actualExpendature"
                            (blur)="decimalPoint(element,'actualExpendature')">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getactualExpendature2() | number : '1.4-4'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="surenderAmount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Surrendered Amount</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        {{element.surenderAmount | number : '1.4-4'}}
                        <br>
                        {{element.surenderAmount | number : '1.4-4'}}
                        <br>
                        {{element.surenderAmount | number : '1.4-4'}} </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getsurenderAmount2() | number : '1.4-4'}}</td>
                    </ng-container>
                    <ng-container matColumnDef="reAppropriationAmount">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Amount Of Re-Appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput (keypress)="decimalKeyPress($event)"
                            [(ngModel)]="element.reAppropriationAmount"
                            (blur)="decimalPoint(element,'reAppropriationAmount')">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign">
                        {{getReAppropriationAmount2() | number : '1.4-4'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="standAfterReApproation">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Amount as it will stand after
                        Re-Appropriation</th>
                      <td mat-cell *matCellDef="let element" class="rightAlign">
                        2000.0000 <br>
                        2000.0000 <br>
                        2000.0000
                      </td>

                      <td mat-footer-cell *matFooterCellDef class="rightAlign">2000.0000</td>
                    </ng-container>
                    <ng-container matColumnDef="detailsedAppropration">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Detailed Explanation</th>
                      <td mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                        <br>
                        <mat-form-field floatLabel="never" class="rightAlign">
                          <input matInput [(ngModel)]="element.detailsedAppropration">
                        </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                    </ng-container>

                    <ng-container matColumnDef="actions">
                      <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Actions</th>
                      <td mat-cell *matCellDef="let element; let i = index;" class="action-btn-i centerAlign">
                        <a><i class="material-icons plus edit-icon" title="Edit">
                            edit </i></a>
                        <a class="delete-icon"><i class="material-icons plus delete"
                            title="Delete">delete_forever</i></a>
                      </td>
                      <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                    </ng-container>

                    <!-- <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef style="width: 13%;"> Action </th>
                                        <td mat-cell *matCellDef="let element; let i = index;" class="action-btn-i centerAlign">
                                            <a [routerLink]="'/'"><i class="material-icons plus edit-icon" title="Edit">
                                                edit </i></a>               
                                            <a class="delete-icon"><i
                                                    class="material-icons plus delete" title="Delete">delete_forever</i></a>
                                        </td>
                                    </ng-container> -->
                    <ng-container matColumnDef="1">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">A</th>
                    </ng-container>
                    <ng-container matColumnDef="2">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">B</th>
                    </ng-container>
                    <ng-container matColumnDef="3">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">C</th>
                    </ng-container>
                    <ng-container matColumnDef="4">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">D</th>
                    </ng-container>
                    <ng-container matColumnDef="5">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">E</th>
                    </ng-container>
                    <ng-container matColumnDef="6">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">F</th>
                    </ng-container>
                    <ng-container matColumnDef="7">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">G</th>
                    </ng-container>
                    <ng-container matColumnDef="8">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">H</th>
                    </ng-container>
                    <ng-container matColumnDef="9">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">I</th>
                    </ng-container>
                    <ng-container matColumnDef="10">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">J</th>
                    </ng-container>
                    <ng-container matColumnDef="11">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">K</th>
                    </ng-container>
                    <ng-container matColumnDef="12">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">L</th>
                    </ng-container>
                    <ng-container matColumnDef="13">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">M</th>
                    </ng-container>
                    <ng-container matColumnDef="14">
                      <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">N</th>
                    </ng-container>
                    <tr mat-header-row class="unsetHeight"
                      *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13','14']"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedGrantColumns2"></tr>
                    <tr mat-row *matRowDef="let row; let i = index;columns: displayedGrantColumns2;">
                    </tr>
                    <tr mat-footer-row *matFooterRowDef="displayedGrantColumns2"></tr>
                  </table>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
        <mat-tab label="Attachments">
          <table mat-table [dataSource]="dataSourceBrowse" width="100%" id="browseTable">
            <ng-container matColumnDef="attachmentType">
              <th mat-header-cell *matHeaderCellDef>Attachment Type</th>
              <!-- <td mat-cell *matCellDef="let item"> {{item.serviceType}} </td>-->
              <td mat-cell *matCellDef="let item;let i = index;">

                <mat-select placeholder="Attachment Type" #singleSelect1 required [(ngModel)]="item.attachmentType">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="attachmentTypeCtrl"
                      [placeholderLabel]="'Find Attachment Type...'"
                      [noEntriesFoundLabel]="'no matching Attachment Type found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let AT of attachmentTypeCode" [value]="AT.value">
                    {{AT.viewValue}}
                  </mat-option>
                </mat-select>
              </td>
            </ng-container>
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef>File name</th>
              <td mat-cell *matCellDef="let item">
                <mat-form-field floatLabel="never">
                  <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="browse">
              <th mat-header-cell *matHeaderCellDef>Browse File</th>
              <td mat-cell *matCellDef="let i = index" class="centerAlign">
                <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse
                  Files</button>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedFileName">
              <th mat-header-cell *matHeaderCellDef>Uploaded file name</th>
              <td mat-cell *matCellDef="let item">
                <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedBy">
              <th mat-header-cell *matHeaderCellDef>Uploaded By</th>
              <td mat-cell *matCellDef="let item">
                {{item.uploadedBy}}
              </td>
            </ng-container>
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let item; let i = index">
                <table class="iconTable">
                  <tbody>
                    <tr>
                      <td width="30">
                        <i class="material-icons plus delete"
                          *ngIf="dataSourceBrowse && dataSourceBrowse.data && dataSourceBrowse.data.length > 1"
                          (click)="deleteBrowse(i)">
                          delete
                        </i>
                      </td>
                      <td width="30">
                        <i class="material-icons plus add"
                          *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i == dataSourceBrowse.data.length - 1)"
                          (click)="addBrowse()">
                          add
                        </i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
          </table>
          <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />
          <div class="legend">
            1. Total File size should be under 2MB<br> 2. File type supported are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
            ‘JPEG’, ‘PNG’, ‘PDF’.
          </div>
        </mat-tab>
      </mat-tab-group>
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary" title=" Save As Draft">
          <i class="material-icons" title=" Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>
        <button mat-raised-button type="submit" class="green" title="Submit" (click)="workflowDetails()"><i
            class="material-icons" aria-hidden="true" title="Submit">
            done
          </i> Submit</button>
        <button type="button" mat-raised-button title="Listing" color="warn"
          [routerLink]="['./re-appropriation-process-list']" routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>
        <button type="reset" mat-raised-button color="accent" title="Reset">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>
        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>
        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>


        <button type="view" mat-raised-button color="accent" (click)="workflowDetails()">
          <i class="material-icons" title="View">remove_red_eye</i>
          View Comment
        </button>
      </div>
    </div>
  </div>
</div>
