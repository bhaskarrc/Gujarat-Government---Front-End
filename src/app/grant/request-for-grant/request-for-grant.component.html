<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Request for Grant </div>
      <div class="font-heading"><b>Reference No:</b> 19-20/Grant/GFG/001</div>
      <div class="font-heading"><b>Reference Date:</b> {{ initiatiomdate | date:
        'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <div class="panel-group">
      <mat-tab-group mat-stretch-tabs>
        <mat-tab label="Request for Grant">
          <mat-accordion class="colapsedata">
            <mat-expansion-panel [expanded]="true" class="nopadding">
              <mat-expansion-panel-header>
                <div class="heading-section">
                  Request for Grant
                </div>
              </mat-expansion-panel-header>
              <div class="form-datatable-list">
                <form class="col-sm-12" [formGroup]="createGrantOrder"
                  (ngSubmit)="formSubmit()">
                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="finYear"
                          placeholder="Financial Year" required
                          [disabled]='toggleButton'>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="finYearCtrl"
                              [placeholderLabel]="'Find Financial Year...'"
                              [noEntriesFoundLabel]="'no matching Financial Year
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let eventsName of finYear_list |
                            filterSelectInput: finYearCtrl.value"
                            [value]="eventsName.value">
                            {{eventsName.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.finYear.touched &&
                          createGrantOrder.controls.finYear.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.finYear.errors.required">
                            {{errorMessages.FIN_YEAR}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field>
                        <mat-select placeholder="Request Type">
                          <mat-option *ngFor="let type of request_trype"
                            [value]="type.value">
                            {{type.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="form-action-button">
                    <button type="submit" mat-raised-button color="primary"
                      title="Create" (click)="createGrant()">
                      Create</button>
                  </div>
                  <div class="row" *ngIf="createGrantVisible">



                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="demand"
                          placeholder="Demand" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="demandCtrl"
                              [placeholderLabel]="'Find Demand...'"
                              [noEntriesFoundLabel]="'no matching Demand
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let demand of demand_list |
                            filterSelectInput: demandCtrl.value"
                            [value]="demand.value">
                            {{demand.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.demand.touched &&
                          createGrantOrder.controls.demand.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.demand.errors.required">
                            {{errorMessages.DEMAND}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="majorHead"
                          placeholder="Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="majorHeadCtrl"
                              [placeholderLabel]="'Find Major Head...'"
                              [noEntriesFoundLabel]="'no matching Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let majorHead of majorHead_list |
                            filterSelectInput: majorHeadCtrl.value"
                            [value]="majorHead.value">
                            {{majorHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.majorHead.touched &&
                          createGrantOrder.controls.majorHead.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.majorHead.errors.required">
                            {{errorMessages.MAJORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="revenueCaptial"
                          placeholder="Revenue/Captial" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="revenueCaptialCtrl"
                              [placeholderLabel]="'Find Revenue/Captial...'"
                              [noEntriesFoundLabel]="'no matching
                              Revenue/Captial found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let revenueCaptial of revenueCaptial_list |
                            filterSelectInput: revenueCaptialCtrl.value"
                            [value]="revenueCaptial.value">
                            {{revenueCaptial.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.revenueCaptial.touched
                          && createGrantOrder.controls.revenueCaptial.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.revenueCaptial.errors.required">
                            {{errorMessages.REVENUE_CAPITAL}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subMajorHead"
                          placeholder="Sub Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="subMajorHeadCtrl"
                              [placeholderLabel]="'Find Sub Major Head...'"
                              [noEntriesFoundLabel]="'no matching Sub Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let subMajorHead of subMajorHead_list |
                            filterSelectInput: subMajorHeadCtrl.value"
                            [value]="subMajorHead.value">
                            {{subMajorHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.subMajorHead.touched
                          && createGrantOrder.controls.subMajorHead.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.subMajorHead.errors.required">
                            {{errorMessages.SUBMAJORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="minorHead"
                          placeholder="Minor Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="minorHeadCtrl"
                              [placeholderLabel]="'Find Minor Head...'"
                              [noEntriesFoundLabel]="'no matching Minor Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let minorHead of minorHead_list |
                            filterSelectInput: minorHeadCtrl.value"
                            [value]="minorHead.value">
                            {{minorHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.minorHead.touched &&
                          createGrantOrder.controls.minorHead.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.minorHead.errors.required">
                            {{errorMessages.MINORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subHead" placeholder="Sub
                          Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subHeadCtrl"
                              [placeholderLabel]="'Find Sub Head...'"
                              [noEntriesFoundLabel]="'no matching Sub Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let subHead of subHead_list |
                            filterSelectInput: subHeadCtrl.value"
                            [value]="subHead.value">
                            {{subHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.subHead.touched &&
                          createGrantOrder.controls.subHead.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.subHead.errors.required">
                            {{errorMessages.SUB_HEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="detailHead"
                          placeholder="Detailed Head" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="detailHeadCtrl"
                              [placeholderLabel]="'Find Detail Head...'"
                              [noEntriesFoundLabel]="'no matching Detail Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let detailHead of detailHead_list |
                            filterSelectInput: detailHeadCtrl.value"
                            [value]="detailHead.value">
                            {{detailHead.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="chargedVoted"
                          placeholder="Charged Voted" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="chargedVotedCtrl"
                              [placeholderLabel]="'Find Charged Voted...'"
                              [noEntriesFoundLabel]="'no matching Charged Voted
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let chargedVoted of chargedVoted_list |
                            filterSelectInput: chargedVotedCtrl.value"
                            [value]="chargedVoted.value">
                            {{chargedVoted.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.chargedVoted.touched
                          && createGrantOrder.controls.chargedVoted.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.chargedVoted.errors.required">
                            {{errorMessages.CHARGED_VOTED}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="budgetEstimateType"
                          placeholder="Budget Estimate Type" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="budgetEstimateTypeCtrl"
                              [placeholderLabel]="'Find Budget Estimate
                              Type...'"
                              [noEntriesFoundLabel]="'no matching Budget
                              Estimate Type found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let budgetEstimateType of
                            budgetEstimateType_list | filterSelectInput:
                            budgetEstimateTypeCtrl.value"
                            [value]="budgetEstimateType.value">
                            {{budgetEstimateType.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.budgetEstimateType.touched
                          &&
                          createGrantOrder.controls.budgetEstimateType.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.budgetEstimateType.errors.required">
                            {{errorMessages.ESTIMATE_BUDGET}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="schemeType"
                          placeholder="Scheme Type" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="schemeTypeCtrl"
                              [placeholderLabel]="'Find Scheme Type...'"
                              [noEntriesFoundLabel]="'no matching Scheme
                              Typefound'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let schemeType of schemeType_list |
                            filterSelectInput: schemeTypeCtrl.value"
                            [value]="schemeType.value">
                            {{schemeType.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="item"
                          placeholder="Item/Work Name" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="itemCtrl"
                              [placeholderLabel]="'Find Item/Work Name...'"
                              [noEntriesFoundLabel]="'no matching Item/Work Name
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let item of item_list |
                            filterSelectInput: itemCtrl.value"
                            [value]="item.value">
                            {{item.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper"
                          *ngIf="createGrantOrder.controls.item.touched &&
                          createGrantOrder.controls.item.errors">
                          <mat-error
                            *ngIf="createGrantOrder.controls.item.errors.required">
                            {{errorMessages.WORKNAME}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field>
                        <input matInput name="reqno" placeholder="Request Order
                          No" formControlName="reqno"
                          [datoAutoFocus]="true">
                      </mat-form-field>

                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="departmentAdmin"
                          placeholder="Department" required>
                          <mat-option>
                            <ngx-mat-select-search
                              [formControl]="departmentCodeCtrl"
                              [placeholderLabel]="'Find Department...'"
                              [noEntriesFoundLabel]="'no matching Department
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option
                            *ngFor="let department of departmentlist |
                            filterSelectInput:departmentCodeCtrl.value"
                            [value]="department.value">
                            {{department.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <!-- <div class="col-sm-3">
                                          <mat-form-field class="full-width">
                                              <mat-select formControlName="objectClass" placeholder="Object Class" required>
                                                  <mat-option>
                                                      <ngx-mat-select-search [formControl]="objectClassCtrl" [placeholderLabel]="'Find Object Class...'" [noEntriesFoundLabel]="'no matching Object Class found'">
                                                      </ngx-mat-select-search>
                                                  </mat-option>
                                                  <mat-option *ngFor="let objectClass of objectClass_list | filterSelectInput: objectClassCtrl.value" [value]="objectClass.value">
                                                      {{objectClass.viewValue}}
                                                  </mat-option>
                                              </mat-select>
                                              <div class="error-wrapper" *ngIf="createGrantOrder.controls.objectClass.touched && createGrantOrder.controls.objectClass.errors">
                                                  <mat-error *ngIf="createGrantOrder.controls.objectClass.errors.required">
                                                      {{errorMessages.Obj_CLASS}}
                                                  </mat-error>
                                              </div>
                                          </mat-form-field>
                                      </div> -->
                  </div>
                  <div class="form-action-button" *ngIf="createGrantVisible">
                    <button type="submit" mat-raised-button color="primary"
                      title="Add">
                      <i class="material-icons" title="Add" aria-hidden="true">
                        add_circle_outline
                      </i>Add</button>
                  </div>
                </form>
              </div>
              <div class="" *ngIf="createGrantVisible">
                <div class="rsClass"> (₹ in Lakhs) </div>
                <table mat-table [dataSource]="grantdataSource" width="100%"
                  class="responsive-table">
                  <ng-container matColumnDef="srNo">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"
                      style="width: 3%;">Sr No</th>
                    <td mat-cell *matCellDef="let element;let i=index"> {{i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">Total</td>
                  </ng-container>
                  <ng-container matColumnDef="budgetHead">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Budget
                      Head</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.budgetHead}} </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="itemWorkName">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Item
                      Work Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.itemName}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Type</th>
                    <td mat-cell *matCellDef="let element"> {{element.type}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="detailHeadDiscription">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"
                      [ngStyle]="{'width':'10%'}">Object Class
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <span
                        matTooltip="{{element.detailHeadDiscriptionAtoolTip}}"
                        class="lableTolTipOne">{{element.detailHeadDiscription}}</span>
                      <!-- <hr class="devider"> <span matTooltip="{{element.detailHeadDiscriptionBtoolTip}}"
                        class="lableTolTipTwo">{{element.detailHeadDiscription2}}</span>
                      <hr class="deviderOne"> <span
                        matTooltip="{{element.detailHeadDiscriptionCtoolTip}}">{{element.detailHeadDiscription3}}</span>
                      <hr class="deviderTwo"> -->
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="budgetEstimate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">
                      Budget Estimate</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <mat-form-field class="full-width">
                        <input matInput readonly [value]="150000"
                          class="text-right">
                      </mat-form-field>

                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">
                      {{150000| number : '1.4-4'}}</td>
                  </ng-container>
                  <ng-container matColumnDef="revisedEstimate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Revised
                      Budget Estimate </th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <!-- {{element.revisedEstimate}} -->
                      <mat-form-field class="full-width">
                        <input matInput readonly [value]="60000"
                          class="text-right">
                      </mat-form-field>


                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{60000|
                      number : '1.4-4'}}</td>
                  </ng-container>
                  <ng-container matColumnDef="expenditureDueOnDate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">
                      Actual Expenditure</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <!-- {{element.expenditureDueOnDate}} -->
                      <mat-form-field class="full-width">
                        <input matInput readonly [value]="40000"
                          class="text-right">
                      </mat-form-field>


                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{40000|
                      number : '1.4-4'}}</td>
                  </ng-container>
                  <ng-container matColumnDef="avilableGrant">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Available
                      Grant </th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <!-- {{element.avilableGrant}}  -->
                      <mat-form-field class="full-width">
                        <input matInput readonly [value]="2000"
                          class="text-right">
                      </mat-form-field>

                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{2000|
                      number : '1.4-4'}}</td>
                  </ng-container>

                  <ng-container matColumnDef="probableExpenditure">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Probable
                      Expenditure </th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <!-- {{element.revisedEstimate}} -->
                      <mat-form-field class="full-width">
                        <input matInput class="text-right" value="">
                      </mat-form-field>

                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{1500|
                      number : '1.4-4'}}</td>
                  </ng-container>

                  <ng-container matColumnDef="amountToBeSurrender">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Required
                      Grant Amount </th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <!-- {{element.amountToBeSurrender}} -->
                      <mat-form-field class="full-width">
                        <input matInput class="text-right" value="">
                      </mat-form-field>


                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{1000|
                      number : '1.4-4'}}</td>
                  </ng-container>
                  <ng-container matColumnDef="surrenderOrderNo">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Request
                      Order No / Date</th>
                    <td mat-cell *matCellDef="let element">
                      <!-- {{element.surrenderOrderNo}} -->
                      <mat-form-field class="full-width">
                        <input matInput type="text" value="Order 1 13 March
                          2020" class="text-right">
                      </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="remarksSurrender">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Remarks</th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field class="remarks">
                        <!--class="example-full-width"-->
                        <textarea matInput></textarea>
                      </mat-form-field>

                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="requestType">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"
                      style="width: 16%;">Request Type</th>
                    <td mat-cell *matCellDef="let element">
                      <mat-form-field>
                        <mat-select>
                          <mat-option *ngFor="let type of request_trype"
                            [value]="type.value">
                            {{type.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>

                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2"
                      style="width: 16%;"> Action</th>
                    <td mat-cell *matCellDef="let element" class="action-btn-i
                      centerAlign">
                      <a><i class="material-icons plus edit-icon"
                          aria-hidden="true" title="Edit"> edit </i></a>
                      <a>
                        <i aria-hidden="true" class="material-icons plus
                          view-icon" title="View">remove_red_eye
                        </i>
                      </a>
                      <a> <i class="material-icons plus btn-history"title="View
                          History">history</i></a>
                      <a class="delete-icon"><i class="material-icons plus
                          delete" aria-hidden="true"
                          title="delete">delete_forever</i></a>
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                  </ng-container>
                  <ng-container matColumnDef="1">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">A</th>
                  </ng-container>
                  <ng-container matColumnDef="2">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">B</th>
                  </ng-container>
                  <ng-container matColumnDef="3">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">C</th>
                  </ng-container>
                  <ng-container matColumnDef="4">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">D</th>
                  </ng-container>
                  <ng-container matColumnDef="5">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">E</th>
                  </ng-container>
                  <ng-container matColumnDef="6">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">F</th>
                  </ng-container>
                  <ng-container matColumnDef="7">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">G</th>
                  </ng-container>
                  <ng-container matColumnDef="8">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">H</th>
                  </ng-container>
                  <ng-container matColumnDef="9">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">I</th>
                  </ng-container>
                  <ng-container matColumnDef="10">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">J</th>
                  </ng-container>
                  <ng-container matColumnDef="11">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">K</th>
                  </ng-container>
                  <ng-container matColumnDef="12">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">L</th>
                  </ng-container>
                  <ng-container matColumnDef="13">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">M</th>
                  </ng-container>
                  <ng-container matColumnDef="14">
                    <th mat-header-cell *matHeaderCellDef class="tblwithoutBg">N</th>
                  </ng-container>
                  <tr mat-header-row class="unsetHeight"
                    *matHeaderRowDef="['1','2','3','4','5','6','7','8','9','10','11','12','13']"></tr>
                  <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
                  <tr mat-row *matRowDef="let row; let i= index;columns:
                    displayedGrantColumns;">
                  </tr>
                  <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr>
                </table>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
        <mat-tab label="Attachments">
          <table mat-table [dataSource]="dataSourceBrowse" width="100%"
            id="browseTable">
            <ng-container matColumnDef="attachmentType">
              <th mat-header-cell *matHeaderCellDef>Attachment Type</th>
              <!-- <td mat-cell *matCellDef="let item"> {{item.serviceType}} </td>-->
              <td mat-cell *matCellDef="let item;let i= index;">
                <mat-select placeholder="Attachment Type" #singleSelect1
                  required [(ngModel)]="item.attachmentType">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="attachmentTypeCtrl"
                      [placeholderLabel]="'Find Attachment Type...'"
                      [noEntriesFoundLabel]="'no matching Attachment Type
                      found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let AT of attachmentTypeCode"
                    [value]="AT.value">
                    {{AT.viewValue}}
                  </mat-option>
                </mat-select>
              </td>
            </ng-container>
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef>File name</th>
              <td mat-cell *matCellDef="let item">
                <mat-form-field floatLabel="never">
                  <textarea matInput [value]="item.name"
                    [(ngModel)]="item.name"></textarea>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="browse">
              <th mat-header-cell *matHeaderCellDef>Browse File</th>
              <td mat-cell *matCellDef="let i= index" class="centerAlign">
                <button type="button" (click)="openFileSelector(i)"
                  class="btn-browse">Browse
                  Files</button>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedFileName">
              <th mat-header-cell *matHeaderCellDef>Uploaded file name</th>
              <td mat-cell *matCellDef="let item">
                <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedBy">
              <th mat-header-cell *matHeaderCellDef>Uploaded By</th>
              <td mat-cell *matCellDef="let item">
                {{item.uploadedBy}}
              </td>
            </ng-container>
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let item; let i= index">
                <table class="iconTable">
                  <tbody>
                    <tr>
                      <td width="30">
                        <i class="material-icons plus delete"
                          *ngIf="dataSourceBrowse && dataSourceBrowse.data &&
                          dataSourceBrowse.data.length> 1"
                          (click)="deleteBrowse(i)">
                          delete
                        </i>
                      </td>
                      <td width="30">
                        <i class="material-icons plus add"
                          *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i
                          == dataSourceBrowse.data.length - 1)"
                          (click)="addBrowse()">
                          add
                        </i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
          </table>
          <input type="file" id="fileBrowse" style="visibility: hidden;"
            (change)="onFileSelection($event)" />
          <div class="legend">
            1. Total File size should be under 2MB<br> 2. File type supported
            are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
            ‘JPEG’, ‘PNG’, ‘PDF’.
          </div>
        </mat-tab>
      </mat-tab-group>
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary" title="Save As
          Draft">
          <i class="material-icons" title="Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>
        <button mat-raised-button type="submit" title="Submit" class="green"
          (click)="workflowDetails()"><i
            class="material-icons" title="Submit" aria-hidden="true">
            done
          </i> Submit
        </button>
        <button type="reset" mat-raised-button color="accent" title="Reset">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>
        <button type="button" mat-raised-button title="Listing" color="warn"
          [routerLink]="['./request-for-grant-list']"
          routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>
        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>
        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>
        <button type="view" mat-raised-button color="accent"
          (click)="workflowDetails()">
          <i class="material-icons"title="View" aria-hidden="true">remove_red_eye</i>
          View Comments
        </button>
      </div>
    </div>
  </div>
</div>
