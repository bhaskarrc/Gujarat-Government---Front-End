<div class="container">
  <div class="form-wrapper">
    <div class="heading-section ng-star-inserted">
      <div>Additional/Advance Grant Management</div>
      <div class="font-heading"><strong>Reference No:</strong>
        19-20/Grant/AGM/001</div>
      <div class="font-heading"><strong>Reference Date:</strong> {{
        initiatiomdate | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>
    <div class="panel-group">
      <form [formGroup]="relaseGrantOrdesr" (ngSubmit)="formSubmits()">
        <div class="row">
          <div class="col-sm-3">
            <mat-form-field class="full-width">
              <mat-select formControlName="grantrelease" (selectionChange)="ontoken($event)"
                placeholder="Release Advance Grant" required>
                <mat-option *ngFor="let advance of filteredDepartment_list" [value]="advance.value">
                  {{advance.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </form>

      <mat-tab-group mat-stretch-tabs>
        <!-- <mat-tab label="Additional/Advance Grant Management">
                    <mat-accordion class="colapsedata">
                        <mat-expansion-panel [expanded]="true" class="nopadding">
                            <mat-expansion-panel-header>
                                Grant Authorization File Details
                            </mat-expansion-panel-header>
                            <div class="form-datatable-list">
                                <form class="col-sm-12" [formGroup]="createGrantOrder" (ngSubmit)="formSubmit()">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="TypeAuthorization" placeholder="Type of Authorization" required (selectionChange)="valuechange($event)">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="TypeAuthorizationCtrl" [placeholderLabel]="'Find Authorization...'" [noEntriesFoundLabel]="'no matching Type of Authorization found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let TAU of authorizationList| filterSelectInput: TypeAuthorizationCtrl.value " [value]="TAU.value">
                                                        {{TAU.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="finYear" placeholder="Financial Year">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="finYearCtrl" [placeholderLabel]="'Find Financial Year...'" [noEntriesFoundLabel]="'no matching Financial Year found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let FY of finYear| filterSelectInput: finYearCtrl.value " [value]="FY.value">
                                                        {{FY.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="department" placeholder="Name of Department" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="departmentCodeCtrl" [placeholderLabel]="'Find Name of Department...'" [noEntriesFoundLabel]="'no matching Name of Department found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>

                                                    <mat-option *ngFor="let department of filteredDepartment | filterSelectInput: departmentCodeCtrl.value " [value]="department.value">
                                                        {{department.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                             
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="Order No" formControlName="authorizationFileNo" required>

                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.authorizationFileNo.touched && createGrantOrder.controls.authorizationFileNo.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.authorizationFileNo.errors.required">
                                                        {{errorMessages.FILE_NO}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="fromMonths" placeholder="From Months" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="fromMonthsCtrl" [placeholderLabel]="'Find From Months...'" [noEntriesFoundLabel]="'no matching From Months found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let fromMonths of fromMonths_list | filterSelectInput: fromMonthsCtrl.value" [value]="fromMonths.value">
                                                        {{fromMonths.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.fromMonths.touched && createGrantOrder.controls.fromMonths.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.fromMonths.errors.required">
                                                        {{errorMessages.FROM_MONTH}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="toMonths" placeholder="To Months" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="toMonthsCtrl" [placeholderLabel]="'Find To Months...'" [noEntriesFoundLabel]="'no matching To Months found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let toMonths of toMonths_list | filterSelectInput: toMonthsCtrl.value" [value]="toMonths.value">
                                                        {{toMonths.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.toMonths.touched && createGrantOrder.controls.toMonths.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.toMonths.errors.required">
                                                        {{errorMessages.TO_MONTH}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3" *ngIf="showdata">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="chargedVoted" placeholder="Charged/Voted" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="chargedVotedCtrl" [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching Charged/Voted'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let chargedVoted of chargedVoted_list| filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                                        {{chargedVoted.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.chargedVoted.touched && createGrantOrder.controls.chargedVoted.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.chargedVoted.errors.required">
                                                        {{errorMessages.CHARGED_VOTED}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3" *ngIf='isRemoveCSSState'>
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="State Amount" formControlName="stateAmount" required>

                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.stateAmount.touched && createGrantOrder.controls.stateAmount.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.stateAmount.errors.required">
                                                        {{errorMessages.STATE_AMOUNT}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3" *ngIf='isRemoveCSSState'>
                                            <mat-form-field class="example-full-width">
                                                <input matInput placeholder="CSS Amount" formControlName="cssAmount" required>

                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.cssAmount.touched && createGrantOrder.controls.cssAmount.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.cssAmount.errors.required">
                                                        {{errorMessages.CSS_AMOUNT}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>



                                        <div class="col-sm-3" *ngIf='isbudgetEstimateType'>
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="budgetEstimate" placeholder="Budget Estimate">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="budgetEstimateCtrl" [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching Charged/Voted'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let BE of budgetEstimate_list| filterSelectInput: budgetEstimateCtrl.value" [value]="BE.value">
                                                        {{BE.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                              
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3" *ngIf='isbudgetEstimateType'>
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="itemName" placeholder="Item Name" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="itemNameCtrl" [placeholderLabel]="'Find Ttem Name...'" [noEntriesFoundLabel]="'no matching Ttem Name'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let item of itemName_list| filterSelectInput: itemNameCtrl.value" [value]="item.value">
                                                        {{item.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                               
                                            </mat-form-field>
                                        </div>



                                    </div>
                                </form>
                            </div>
                            <div class="form-action-button">
                                <button type="submit" mat-raised-button color="primary" (click)="showData()">
                                    <i class="material-icons">
                                    add_circle_outline
                                    </i>Add</button>
                            </div>

                            <div *ngIf="isShow">
                                <div class="rsClass"> (₹ in Lakhs) </div>
                                <table mat-table [dataSource]="grantdataSource" width="100%" class="responsive-table" *ngIf="isRemoveCSSState">
                                    <ng-container matColumnDef="srNo">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Sr No</th>
                                        <td mat-cell *matCellDef="let element; let i = index"> {{i+1}} </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>






                                    <ng-container matColumnDef="authorizationDate">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Financial Year</th>
                                        <td mat-cell *matCellDef="let element"> {{element.authorizationDate}} </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>
                                    <ng-container matColumnDef="authorizationFileNo">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Order No</th>
                                        <td mat-cell *matCellDef="let element"> {{element.authorizationFileNo}} </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>
                                    <ng-container matColumnDef="quarter">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Quarter</th>
                                        <td mat-cell *matCellDef="let element"> {{element.quarter}} </td>
                                        <td mat-footer-cell *matFooterCellDef>Total </td>
                                    </ng-container>
                                    <ng-container matColumnDef="state">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">State</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.state | number : '1.4-4'}} </td>
                                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getamountState() | number : '1.4-4'}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="css">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">CSS</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.css | number : '1.4-4'}} </td>
                                        <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getamountCss() | number : '1.4-4'}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="srNo1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr No</th>
                                    </ng-container>
                                    
                                    <ng-container matColumnDef="authorizationDate1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Financial Year</th>
                                    </ng-container>
                                    <ng-container matColumnDef="authorizationFileNo1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Order No</th>
                                    </ng-container>
                                    <ng-container matColumnDef="quarter1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Quarter</th>
                                    </ng-container>
                                    <ng-container matColumnDef="amount1">
                                        <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">Amount</th>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="['srNo1','authorizationDate1','authorizationFileNo1', 'quarter1', 'amount1']"></tr>
                                    <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
                                    <tr mat-row *matRowDef="let row; let i = index;columns: displayedGrantColumns;">
                                    </tr>
                                    <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr>
                                </table>

                                <table mat-table [dataSource]="grantdataSource1" width="100%" class="responsive-table" *ngIf="isbudgetEstimateType">
                                    <ng-container matColumnDef="srNo">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Sr No</th>
                                        <td mat-cell *matCellDef="let element; let i = index"> {{i+1}} </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>
                                    <ng-container matColumnDef="demand">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">demand</th>
                                        <td mat-cell *matCellDef="let element">
                                            <span matTooltip="{{element.toolTipDataDemad}}">
                                                {{element.headAccount}}
                                           </span>
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>

                                    <ng-container matColumnDef="majorHead">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Major Head</th>
                                        <td mat-cell *matCellDef="let element">
                                        
                                            {{element.itemName}}
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>

                                    <ng-container matColumnDef="subMajorHead">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Sub Major Head</th>
                                        <td mat-cell *matCellDef="let element">
                                        
                                            {{element.class}}
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>
                                    <ng-container matColumnDef="minorHead">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Minor Head</th>
                                        <td mat-cell *matCellDef="let element">
                                         
                                            {{element.budgetEstimate}}
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>

                                    <ng-container matColumnDef="subHead">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Sub Head</th>
                                        <td mat-cell *matCellDef="let element">
                                         
                                            {{element.revidseEstimate}}
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>

                                    <ng-container matColumnDef="detailHead">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Detail Head</th>
                                        <td mat-cell *matCellDef="let element">
                                       
                                            {{element.expenditure}}
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>

                                    <ng-container matColumnDef="chargedVoted">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Charged/Voted</th>
                                        <td mat-cell *matCellDef="let element">
                                            {{element.chargedVoted}}
                                        </td>

                                        <td mat-footer-cell *matFooterCellDef> </td>
                                    </ng-container>
                                    <ng-container matColumnDef="quarter">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Quarter</th>
                                        <td mat-cell *matCellDef="let element"> {{element.quarter}} </td>
                                        <td mat-footer-cell *matFooterCellDef>Total </td>
                                    </ng-container>
                                    <ng-container matColumnDef="state">
                                        <th mat-header-cell *matHeaderCellDef>State</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                           
                                            <mat-form-field class="example-full-width">
                                                <input matInput>
                                            </mat-form-field>
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef class="rightAlign"></td>
                                  
                                    </ng-container>
                                    <ng-container matColumnDef="css">
                                        <th mat-header-cell *matHeaderCellDef>CSS</th>
                                        <td mat-cell *matCellDef="let element" class="rightAlign">
                                
                                            <mat-form-field class="example-full-width">
                                                <input matInput>
                                            </mat-form-field>
                                        </td>
                                        <td mat-footer-cell *matFooterCellDef class="rightAlign"> </td>
                               
                                    </ng-container>
                                    <ng-container matColumnDef="srNo1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr No</th>
                                    </ng-container>
                                    <ng-container matColumnDef="demad1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Head of Account</th>
                                    </ng-container>
                                    <ng-container matColumnDef="majorHead1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Item Name</th>
                                    </ng-container>
                                    <ng-container matColumnDef="SubmajorHead1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Class</th>
                                    </ng-container>
                                    <ng-container matColumnDef="minerHead1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Budget Estimate</th>
                                    </ng-container>
                                    <ng-container matColumnDef="subHead1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Revised Estimate</th>
                                    </ng-container>
                                    <ng-container matColumnDef="detailHead1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Expenditure</th>
                                    </ng-container>
                                    <ng-container matColumnDef="chargedVoted1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Authorization No</th>
                                    </ng-container>
                                    <ng-container matColumnDef="quarter1">
                                        <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Quarter</th>
                                    </ng-container>
                                    <ng-container matColumnDef="amount1">
                                        <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">Amount</th>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="['srNo1', 'demad1','majorHead1','SubmajorHead1','minerHead1','subHead1','detailHead1','chargedVoted1','quarter1','amount1']"></tr>
                                    <tr mat-header-row *matHeaderRowDef="displayedGrantColumns1"></tr>
                                    <tr mat-row *matRowDef="let row; let i = index;columns: displayedGrantColumns1;">
                                    </tr>
                                    <tr mat-footer-row *matFooterRowDef="displayedGrantColumns1"></tr>
                                </table>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>

                </mat-tab> -->
        <mat-tab label="Release Advance Grant" *ngIf="!isTokentable">
          <mat-accordion class="colapsedata">
            <mat-expansion-panel [expanded]="true" class="nopadding">
              <mat-expansion-panel-header>
                <div class="heading-section">
                  Peviously Released Advance Grant to Department
                </div>
              </mat-expansion-panel-header>
              <div class="form-datatable-list">
                <form class="col-sm-12" [formGroup]="relaseGrantOrder" (ngSubmit)="formSubmit()">
                  <div class="row">


                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="finYear" placeholder="Financial Year" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="finYearCtrl"
                              [placeholderLabel]="'Find Financial Year...'" [noEntriesFoundLabel]="'no matching Financial Year
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let FY of finYear|
                            filterSelectInput: finYearCtrl.value" [value]="FY.value">
                            {{FY.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="department" placeholder="Name of Department" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                              [placeholderLabel]="'Find Name of Department...'" [noEntriesFoundLabel]="'no matching Name of
                              Department found'">
                            </ngx-mat-select-search>
                          </mat-option>

                          <mat-option *ngFor="let department of filteredDepartment |
                            filterSelectInput: departmentCodeCtrl.value" [value]="department.value">
                            {{department.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.department.touched &&
                          relaseGrantOrder.controls.department.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.department.errors.required">
                            {{errorMessages.DEPARTMENT}}</mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="revenueCapital" placeholder="Revenue/Capital" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                              [placeholderLabel]="'Find Revenue/Capital...'" [noEntriesFoundLabel]="'no matching
                              Revenue/Capital found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let revenueCapital of
                            revenueCapital_list | filterSelectInput:
                            revenueCapitalCtrl.value" [value]="revenueCapital.value">
                            {{revenueCapital.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="Order No" formControlName="oderNo" required>

                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.oderNo.touched &&
                          relaseGrantOrder.controls.oderNo.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.oderNo.errors.required">
                            {{errorMessages.FILE_NO}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="fromMonths" placeholder="From Months" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="fromMonthsCtrl"
                              [placeholderLabel]="'Find From Months...'" [noEntriesFoundLabel]="'no matching From Months
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let fromMonths of fromMonths_list |
                            filterSelectInput: fromMonthsCtrl.value" [value]="fromMonths.value">
                            {{fromMonths.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.fromMonths.touched &&
                          relaseGrantOrder.controls.fromMonths.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.fromMonths.errors.required">
                            {{errorMessages.FROM_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="toMonths" placeholder="To
                          Months" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="toMonthsCtrl" [placeholderLabel]="'Find To Months...'"
                              [noEntriesFoundLabel]="'no matching To Months
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let toMonths of toMonths_list |
                            filterSelectInput: toMonthsCtrl.value" [value]="toMonths.value">
                            {{toMonths.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.toMonths.touched &&
                          relaseGrantOrder.controls.toMonths.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.toMonths.errors.required">
                            {{errorMessages.TO_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker" placeholder="Date of Authorization">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="State Amount" formControlName="stateAmount" required>

                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.stateAmount.touched
                          && relaseGrantOrder.controls.stateAmount.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.stateAmount.errors.required">
                            {{errorMessages.STATE_AMOUNT}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="CSS Amount" formControlName="cssAmount" required>

                        <div class="error-wrapper" *ngIf="relaseGrantOrder.controls.cssAmount.touched &&
                          relaseGrantOrder.controls.cssAmount.errors">
                          <mat-error *ngIf="relaseGrantOrder.controls.cssAmount.errors.required">
                            {{errorMessages.CSS_AMOUNT}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                  </div>
                </form>
              </div>


              <div>
                <div class="rsClass"> (₹ in Lakhs) </div>
                <table mat-table [dataSource]="grantdataSource" width="100%" class="responsive-table">
                  <ng-container matColumnDef="srNo">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Sr No</th>
                    <td mat-cell *matCellDef="let element; let i= index">
                      {{i+1}} </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <ng-container matColumnDef="srNo1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr
                      No</th>
                  </ng-container>


                  <ng-container matColumnDef="authorizationDate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Financial
                      Year</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.authorizationDate}} </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <ng-container matColumnDef="authorizationDate1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Authorization
                      Date</th>
                  </ng-container>


                  <ng-container matColumnDef="authorizationFileNo">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Order No
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.authorizationFileNo}} </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <ng-container matColumnDef="authorizationFileNo1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Order
                      No</th>
                  </ng-container>


                  <ng-container matColumnDef="quarter">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">Quarter
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.quarter}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef>Total </td>
                  </ng-container>

                  <ng-container matColumnDef="quarter1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">From
                      Month-To Month</th>
                  </ng-container>


                  <ng-container matColumnDef="state">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">State</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      {{element.state | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getamountState()
                      | number : '1.4-4'}}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="css">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">CSS</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      {{element.css | number : '1.4-4'}} </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{getamountCss()
                      | number : '1.4-4'}} </td>
                  </ng-container>

                  <ng-container matColumnDef="amount1">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">Amount</th>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="['srNo1','authorizationDate1','authorizationFileNo1',
                    'quarter1', 'amount1']">
                  </tr>
                  <tr mat-header-row *matHeaderRowDef="displayedGrantColumns"></tr>
                  <tr mat-row *matRowDef="let row; let i= index;columns:
                    displayedGrantColumns;">
                  </tr>
                  <tr mat-footer-row *matFooterRowDef="displayedGrantColumns"></tr>
                </table>

              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
        <mat-tab label="Grant Authorization" *ngIf="isTokentable">
          <mat-accordion class="colapsedata">
            <mat-expansion-panel [expanded]="true" class="nopadding">
              <mat-expansion-panel-header>
                <div class="heading-section">
                  Grant Authorization File Details
                </div>
              </mat-expansion-panel-header>
              <div class="form-datatable-list">
                <form class="col-sm-12" [formGroup]="createGrantOrder" (ngSubmit)="formSubmit()">
                  <div class="row">
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="finYear" placeholder="Financial Year" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="finYearCtrl"
                              [placeholderLabel]="'Find Financial Year...'" [noEntriesFoundLabel]="'no matching Financial Year
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let FY of finYear|
                            filterSelectInput: finYearCtrl.value" [value]="FY.value">
                            {{FY.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.finYear.touched &&
                          createGrantOrder.controls.finYear.errors">
                          <mat-error *ngIf="createGrantOrder.controls.finYear.errors.required">
                            {{errorMessages.FIN_YEAR}}</mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="department" placeholder="Name of Department" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="departmentCodeCtrl"
                              [placeholderLabel]="'Find Name of Department...'" [noEntriesFoundLabel]="'no matching Name of
                              Department found'">
                            </ngx-mat-select-search>
                          </mat-option>

                          <mat-option *ngFor="let department of filteredDepartment |
                            filterSelectInput: departmentCodeCtrl.value" [value]="department.value">
                            {{department.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.department.touched &&
                          createGrantOrder.controls.department.errors">
                          <mat-error *ngIf="createGrantOrder.controls.department.errors.required">
                            {{errorMessages.DEPARTMENT}}</mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="Order No" formControlName="authorizationFileNo" required>

                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.authorizationFileNo.touched
                          &&
                          createGrantOrder.controls.authorizationFileNo.errors">
                          <mat-error *ngIf="createGrantOrder.controls.authorizationFileNo.errors.required">
                            {{errorMessages.FILE_NO}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="fromMonths" placeholder="From Months" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="fromMonthsCtrl"
                              [placeholderLabel]="'Find From Months...'" [noEntriesFoundLabel]="'no matching From Months
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let fromMonths of fromMonths_list |
                            filterSelectInput: fromMonthsCtrl.value" [value]="fromMonths.value">
                            {{fromMonths.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.fromMonths.touched &&
                          createGrantOrder.controls.fromMonths.errors">
                          <mat-error *ngIf="createGrantOrder.controls.fromMonths.errors.required">
                            {{errorMessages.FROM_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="toMonths" placeholder="To
                          Months" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="toMonthsCtrl" [placeholderLabel]="'Find To Months...'"
                              [noEntriesFoundLabel]="'no matching To Months
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let toMonths of toMonths_list |
                            filterSelectInput: toMonthsCtrl.value" [value]="toMonths.value">
                            {{toMonths.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.toMonths.touched &&
                          createGrantOrder.controls.toMonths.errors">
                          <mat-error *ngIf="createGrantOrder.controls.toMonths.errors.required">
                            {{errorMessages.TO_MONTH}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>


                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="demand" placeholder="Demand" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="demandCtrl" [placeholderLabel]="'Find Demand...'"
                              [noEntriesFoundLabel]="'no matching Demand
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let demand of demand_list |
                            filterSelectInput: demandCtrl.value" [value]="demand.value">
                            {{demand.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.demand.touched &&
                          createGrantOrder.controls.demand.errors">
                          <mat-error *ngIf="createGrantOrder.controls.demand.errors.required">
                            {{errorMessages.DEMAND}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="majorHead" placeholder="Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="majorHeadCtrl"
                              [placeholderLabel]="'Find Major Head...'" [noEntriesFoundLabel]="'no matching Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let majorHead of majorHead_list |
                            filterSelectInput: majorHeadCtrl.value" [value]="majorHead.value">
                            {{majorHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.majorHead.touched &&
                          createGrantOrder.controls.majorHead.errors">
                          <mat-error *ngIf="createGrantOrder.controls.majorHead.errors.required">
                            {{errorMessages.MAJORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subMajorHead" placeholder="Sub Major Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                              [placeholderLabel]="'Find Sub Major Head...'" [noEntriesFoundLabel]="'no matching Sub Major Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let subMajorHead of subMajorHead_list |
                            filterSelectInput: subMajorHeadCtrl.value" [value]="subMajorHead.value">
                            {{subMajorHead.viewValue}}
                          </mat-option>
                        </mat-select>

                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.subMajorHead.touched
                          && createGrantOrder.controls.subMajorHead.errors">
                          <mat-error *ngIf="createGrantOrder.controls.subMajorHead.errors.required">
                            {{errorMessages.SUBMAJORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="minorHead" placeholder="Minor Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="minorHeadCtrl"
                              [placeholderLabel]="'Find Minor Head...'" [noEntriesFoundLabel]="'no matching Minor Head
                              found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let minorHead of minorHead_list |
                            filterSelectInput: minorHeadCtrl.value" [value]="minorHead.value">
                            {{minorHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.minorHead.touched &&
                          createGrantOrder.controls.minorHead.errors">
                          <mat-error *ngIf="createGrantOrder.controls.minorHead.errors.required">
                            {{errorMessages.MINORHEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="subHead" placeholder="Sub
                          Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="subHeadCtrl" [placeholderLabel]="'Find Sub Head...'"
                              [noEntriesFoundLabel]="'no matching Sub Head'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let subHead of subHead_list|
                            filterSelectInput: subHeadCtrl.value" [value]="subHead.value">
                            {{subHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.subHead.touched &&
                          createGrantOrder.controls.subHead.errors">
                          <mat-error *ngIf="createGrantOrder.controls.subHead.errors.required">
                            {{errorMessages.SUB_HEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="detailHead" placeholder="Detailed Head" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="detailHeadCtrl"
                              [placeholderLabel]="'Find Detail Head...'"
                              [noEntriesFoundLabel]="'no matching Detail Head'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let detailHead of detailHead_list|
                            filterSelectInput: detailHeadCtrl.value" [value]="detailHead.value">
                            {{detailHead.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.detailHead.touched &&
                          createGrantOrder.controls.detailHead.errors">
                          <mat-error *ngIf="createGrantOrder.controls.detailHead.errors.required">
                            {{errorMessages.DETAILED_HEAD}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <!-- <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="chargedVoted" placeholder="Charged/Voted" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="chargedVotedCtrl" [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching Charged/Voted'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngFor="let chargedVoted of chargedVoted_list| filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                                                        {{chargedVoted.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper" *ngIf="createGrantOrder.controls.chargedVoted.touched && createGrantOrder.controls.chargedVoted.errors">
                                                    <mat-error *ngIf="createGrantOrder.controls.chargedVoted.errors.required">
                                                        {{errorMessages.CHARGED_VOTED}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div> -->
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="chargedVoted" placeholder="Charged/Voted" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="chargedVotedCtrl"
                              [placeholderLabel]="'Find Charged/Voted...'" [noEntriesFoundLabel]="'no matching
                              Charged/Voted'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let chargedVoted of chargedVoted_list|
                            filterSelectInput: chargedVotedCtrl.value" [value]="chargedVoted.value">
                            {{chargedVoted.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.chargedVoted.touched
                          && createGrantOrder.controls.chargedVoted.errors">
                          <mat-error *ngIf="createGrantOrder.controls.chargedVoted.errors.required">
                            {{errorMessages.CHARGED_VOTED}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="type" placeholder="Type of
                          Estimate" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="typeCtrl" [placeholderLabel]="'Find Budget Type...'"
                              [noEntriesFoundLabel]="'no matching Type found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let type of type_list |
                            filterSelectInput: typeCtrl.value" [value]="type.value">
                            {{type.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.type.touched &&
                          createGrantOrder.controls.type.errors">
                          <mat-error *ngIf="createGrantOrder.controls.type.errors.required">
                            {{errorMessages.budget_estimate}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="revenueCapital" placeholder="Revenue/Capital" required>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="revenueCapitalCtrl"
                              [placeholderLabel]="'Find Revenue/Capital...'" [noEntriesFoundLabel]="'no matching
                              Revenue/Capital found'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let revenueCapital of
                            revenueCapital_list | filterSelectInput:
                            revenueCapitalCtrl.value" [value]="revenueCapital.value">
                            {{revenueCapital.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-sm-3">
                      <mat-form-field class="full-width">
                        <mat-select formControlName="itemName" placeholder="Item
                          Name" required multiple>
                          <mat-option>
                            <ngx-mat-select-search [formControl]="itemNameCtrl" [placeholderLabel]="'Find Item Name...'"
                              [noEntriesFoundLabel]="'no matching Item Name'">
                            </ngx-mat-select-search>
                          </mat-option>
                          <mat-option *ngFor="let itemName of itemName_list |
                            filterSelectInput: itemNameCtrl.value" [value]="itemName.value">
                            {{itemName.viewValue}}
                          </mat-option>
                        </mat-select>
                        <div class="error-wrapper" *ngIf="createGrantOrder.controls.itemName.touched &&
                          createGrantOrder.controls.itemName.errors">
                          <mat-error *ngIf="createGrantOrder.controls.itemName.errors.required">
                            {{errorMessages.WORKNAME}}
                          </mat-error>
                        </div>
                      </mat-form-field>
                    </div>

                    <div class="form-action-button">

                      <div><button mat-raised-button color="primary" (click)="adddada()"> + Add </button>
                      </div>
                    </div>

                  </div>
                </form>
              </div>


              <div *ngIf="showDa">
                <div class="rsClass"> (₹ in Lakhs) </div>


                <table mat-table [dataSource]="grantdataSource1" width="100%" class="responsive-table"
                  aria-describedby="additional-management">
                  <ng-container matColumnDef="srNo">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}"
                      scope="row">Sr No</th>
                    <td mat-cell *matCellDef="let element; let i= index">
                      {{i+1}} </td>
                    <td mat-footer-cell *matFooterCellDef> Total </td>
                  </ng-container>

                  <ng-container matColumnDef="srNo1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Sr
                      No.</th>
                  </ng-container>
                  <ng-container matColumnDef="majorHead">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}"
                      scope="row">Major Head</th>
                    <td mat-cell *matCellDef="let element">

                      {{element.itemName}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <ng-container matColumnDef="majorHead1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">Item
                      Name</th>
                  </ng-container>


                  <ng-container matColumnDef="subMajorHead">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}"
                      scope="row">Major Head</th>
                    <td mat-cell *matCellDef="let element">

                      {{element.itemName}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>


                  <ng-container matColumnDef="SubmajorHead1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" scope="row">Class</th>
                  </ng-container>


                  <ng-container matColumnDef="budstate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">State</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      {{element.budstate | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{budstates() | number : '1.4-4'}}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="budcss">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">CSS</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      {{element.budcss | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{budgetCss() | number : '1.4-4'}}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="minerHead1">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">Budget Estimate</th>
                  </ng-container>


                  <ng-container matColumnDef="revstate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">State</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.revstate | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{revstates() | number : '1.4-4'}}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="revcss">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">CSS</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.revcss | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{revgetCss() | number : '1.4-4'}} </td>
                  </ng-container>

                  <ng-container matColumnDef="subHead1">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">Revised Estimate</th>
                  </ng-container>



                  <ng-container matColumnDef="expstate">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">State</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.expstate | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{expstates() | number : '1.4-4'}}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="expcss">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2">CSS</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.expcss | number : '1.4-4'}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">{{expgetCss() | number : '1.4-4'}} </td>
                  </ng-container>


                  <ng-container matColumnDef="detailHead1">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">Expenditure</th>
                  </ng-container>


                  <ng-container matColumnDef="chargedVoted">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}"
                      scope="row">Charged/Voted</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.chargedVoted}}
                    </td>

                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>

                  <ng-container matColumnDef="chargedVoted1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" scope="row">Authorization No</th>
                  </ng-container>

                  <ng-container matColumnDef="quarter">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}"
                      scope="row">Quarter</th>
                    <td mat-cell *matCellDef="let element"> {{element.quarter}}
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>


                  <ng-container matColumnDef="quarter1">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" scope="row">From Month-To Month</th>
                  </ng-container>


                  <ng-container matColumnDef="state">
                    <th mat-header-cell *matHeaderCellDef scope="row">State</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <mat-form-field floatLabel="never" class="rightAlign">
                        <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.state"
                          (blur)="decimalPoint(element,'state')">
                      </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">
                      {{getactualExpendature2() | number : '1.2-2'}}</td>
                  </ng-container>
                  <ng-container matColumnDef="css">
                    <th mat-header-cell *matHeaderCellDef scope="row">CSS</th>
                    <td mat-cell *matCellDef="let element" class="rightAlign">
                      <mat-form-field floatLabel="never" class="rightAlign">
                        <input matInput (keypress)="decimalKeyPress($event)" [(ngModel)]="element.css"
                          (blur)="decimalPoint(element,'css')">
                      </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="rightAlign">
                      {{getCss() | number : '1.2-2'}}</td>

                  </ng-container>

                  <ng-container matColumnDef="amount1">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" scope="row">Amount</th>
                  </ng-container>
                  <tr mat-header-row
                    *matHeaderRowDef="['srNo1','majorHead1','SubmajorHead1','minerHead1','subHead1','detailHead1','chargedVoted1','quarter1','amount1']">
                  </tr>
                  <tr mat-header-row *matHeaderRowDef="displayedGrantColumns1"></tr>
                  <tr mat-row *matRowDef="let row; let i= index;columns:
                    displayedGrantColumns1;">
                  </tr>
                  <tr mat-footer-row *matFooterRowDef="displayedGrantColumns1"></tr>
                </table>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>

        <mat-tab label="Attachments">
          <table mat-table [dataSource]="dataSourceBrowse" width="100%" id="browseTable" aria-describedby="attachment">
            <ng-container matColumnDef="attachmentType">
              <th mat-header-cell *matHeaderCellDef scope="row">Attachment Type</th>
              <!-- <td mat-cell *matCellDef="let item"> {{item.serviceType}} </td>-->
              <td mat-cell *matCellDef="let item;let i= index;">
                <mat-select placeholder="Attachment Type" #singleSelect1 required [(ngModel)]="item.attachmentType">
                  <mat-option>
                    <ngx-mat-select-search [formControl]="attachmentTypeCodeCtrl"
                      [placeholderLabel]="'Find Attachment Type...'" [noEntriesFoundLabel]="'no matching Attachment Type
                      found'">
                    </ngx-mat-select-search>
                  </mat-option>
                  <mat-option *ngFor="let AT of attachmentTypeCode" [value]="AT.value">
                    {{AT.viewValue}}
                  </mat-option>
                </mat-select>
              </td>
            </ng-container>
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef scope="row">File name</th>
              <td mat-cell *matCellDef="let item">
                <mat-form-field floatLabel="never">
                  <textarea matInput [value]="item.name" [(ngModel)]="item.name"></textarea>
                </mat-form-field>
              </td>
            </ng-container>
            <ng-container matColumnDef="browse">
              <th mat-header-cell *matHeaderCellDef scope="row">Browse File</th>
              <td mat-cell *matCellDef="let i= index" class="centerAlign">
                <button type="button" (click)="openFileSelector(i)" class="btn-browse">Browse
                  Files</button>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedFileName">
              <th mat-header-cell *matHeaderCellDef scope="row">Uploaded file
                name</th>
              <td mat-cell *matCellDef="let item">
                <span *ngIf="item.file && item.file.name">{{item.file.name}}</span>
              </td>
            </ng-container>
            <ng-container matColumnDef="uploadedBy">
              <th mat-header-cell *matHeaderCellDef scope="row">Uploaded By</th>
              <td mat-cell *matCellDef="let item">
                {{item.uploadedBy}}
              </td>
            </ng-container>
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
              <td mat-cell *matCellDef="let item; let i= index">
                <table class="iconTable" aria-describedby="actinBtion">
                  <tbody>
                    <tr>
                      <td width="30">
                        <i class="material-icons plus delete" aria-hidden="true" *ngIf="dataSourceBrowse && dataSourceBrowse.data &&
                          dataSourceBrowse.data.length> 1" (click)="deleteBrowse(i)">
                          delete
                        </i>
                      </td>
                      <td width="30">
                        <i class="material-icons plus add" aria-hidden="true" *ngIf="dataSourceBrowse && dataSourceBrowse.data && (i
                          == dataSourceBrowse.data.length - 1)" (click)="addBrowse()">
                          add
                        </i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedBrowseColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedBrowseColumns;"></tr>
          </table>
          <input type="file" id="fileBrowse" style="visibility: hidden;" (change)="onFileSelection($event)" />
          <div class="legend">
            1. Total File size should be under 2MB<br> 2. File type supported
            are: 'jpg', 'jpeg', 'png', 'pdf', JPG’,
            ‘JPEG’, ‘PNG’, ‘PDF’.
          </div>
        </mat-tab>
      </mat-tab-group>
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary" title="Save As
          Draft">
          <i class="material-icons" title="Save As Draft" aria-hidden="true">
            save
          </i>
          Save as Draft
        </button>
        <button mat-raised-button type="submit" class="green" (click)="workflowDetails()" title="Submit">
          <i class="material-icons" title="Submit" aria-hidden="true">done</i>
          Submit</button>
        <button type="reset" mat-raised-button color="accent" title="Reset">
          <i class="material-icons" title="Reset" aria-hidden="true">
            restore
          </i>
          Reset
        </button>
        <button type="button" mat-raised-button color="warn" title="Listing" [routerLink]="['./list']"
          routerLinkActive="router-link-active">
          <i class="material-icons" title="Listing" aria-hidden="true">
            list
          </i>
          Listing
        </button>
        <button type="button" mat-raised-button class="btnClose" title="Close">
          <i class="material-icons" title="Close" aria-hidden="true">
            close
          </i>
          Close
        </button>
        <button type="button" mat-raised-button class="print-btn" title="Print">
          <i class="material-icons" title="Print" aria-hidden="true">
            print
          </i>
          Print
        </button>

        <button type="view" mat-raised-button color="accent" (click)="workflowDetails()">
          <i class="material-icons" aria-hidden="true" title="View">remove_red_eye</i>
          View Comments
        </button>
      </div>
    </div>
  </div>
</div>
