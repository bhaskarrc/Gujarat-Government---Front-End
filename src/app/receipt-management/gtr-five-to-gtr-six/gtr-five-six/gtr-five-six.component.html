<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted">
            <div>GTR 5 to GTR 6</div>

        </div>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item " aria-current="page">Receipt Management </li>
                <li class="breadcrumb-item active" aria-current="page">GTR 5 to GTR 6 </li>
            </ol>
        </nav>
        <mat-tab-group mat-stretch-tabs>
            <mat-tab>
                <div style="padding: 1px;">
                    <form [formGroup]="receiptManegmentForm">
                        <ng-template mat-tab-label>
                            GTR 5 to GTR 6 Detail
                        </ng-template>
                        <!-- search fields -->
                        <mat-accordion class="colapsedata">
                            <mat-expansion-panel [expanded]="false" class="nopadding">
                                <mat-expansion-panel-header>
                                    <div class="heading-section">Search</div>
                                </mat-expansion-panel-header>
                                <div class="box-body">
                                    <div class="row">

                                        <div class="col-sm-3">
                                            <mat-form-field>
                                                <mat-select name="Major-Head" formControlName="majorHead"
                                                    placeholder="Major Head" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="majorCtrl"
                                                            [placeholderLabel]="'Select Major Head ...'"
                                                            [noEntriesFoundLabel]="'no matching Major Head found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option
                                                        *ngFor="let major of majorHead_list | filterSelectInput : majorCtrl.value : 'viewValue'"
                                                        [value]="major.value">
                                                        {{major.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="receiptManegmentForm.controls.majorHead.touched && receiptManegmentForm.controls.majorHead.errors">
                                                    <mat-error
                                                        *ngIf="receiptManegmentForm.controls.majorHead.errors.required">
                                                        {{errorMessages.MAJOR_HEAD}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="subMajorHead" placeholder="Sub Major Head"
                                                    required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="subMajorHeadCtrl"
                                                            [placeholderLabel]="'Find Sub Major Head...'"
                                                            [noEntriesFoundLabel]="'no matching Sub Major Head found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option
                                                        *ngFor="let va of subMajorHead_list | filterSelectInput:subMajorHeadCtrl.value"
                                                        [value]="va.value">
                                                        {{va.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="receiptManegmentForm.controls.majorHead.touched && receiptManegmentForm.controls.majorHead.errors">
                                                    <mat-error
                                                        *ngIf="receiptManegmentForm.controls.majorHead.errors.required">
                                                        {{errorMessages.SUBMAJOR_HEAD}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="minorhead" placeholder="Minor Head"
                                                    required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="minorheadCtrl"
                                                            [placeholderLabel]="'Find Minor Head...'"
                                                            [noEntriesFoundLabel]="'no matching Minor Head found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option
                                                        *ngFor="let va of minorhead_list | filterSelectInput:minorheadCtrl.value"
                                                        [value]="va.value">
                                                        {{va.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="receiptManegmentForm.controls.minorhead.touched && receiptManegmentForm.controls.minorhead.errors">
                                                    <mat-error
                                                        *ngIf="receiptManegmentForm.controls.minorhead.errors.required">
                                                        {{errorMessages.MINOR_HEAD}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="subHead" placeholder="Sub Head" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="subHeadCtrl"
                                                            [placeholderLabel]="'Find Sub Head...'"
                                                            [noEntriesFoundLabel]="'no matching Sub Head found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option
                                                        *ngFor="let va of subHead_list | filterSelectInput:subHeadCtrl.value"
                                                        [value]="va.value">
                                                        {{va.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="receiptManegmentForm.controls.subHead.touched && receiptManegmentForm.controls.subHead.errors">
                                                    <mat-error
                                                        *ngIf="receiptManegmentForm.controls.subHead.errors.required">
                                                        {{errorMessages.SUB_HEAD}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field>
                                                <input matInput formControlName="date" [matDatepicker]="date"
                                                    placeholder="Date" readonly>
                                                <mat-datepicker-toggle matSuffix [for]="date">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #date></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="paymentMode" placeholder="Payment Mode"
                                                    required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="paymentModeCtrl"
                                                            [placeholderLabel]="'Find Pension Case Types...'"
                                                            [noEntriesFoundLabel]="'no matching Pension Case Types found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option
                                                        *ngFor="let paymentMode of paymentMode_list | filterSelectInput: paymentModeCtrl.value"
                                                        [value]="paymentMode.value">
                                                        {{paymentMode.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="receiptManegmentForm.controls.paymentMode.touched && receiptManegmentForm.controls.paymentMode.errors">
                                                    <mat-error
                                                        *ngIf="receiptManegmentForm.controls.paymentMode.errors.required">
                                                        {{errorMessages.PAYMENT_MODE}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>


                                    </div>

                                    <div class="form-action-button">
                                        <button type="submit" mat-raised-button color="primary">
                                            <i aria-hidden="true" class="material-icons">search</i> Search </button>

                                        <button type="reset" mat-raised-button color="accent" (click)="clearForm();">
                                            <i aria-hidden="true" class="material-icons">restore</i>Reset</button>
                                    </div>

                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                        <br>
                        <!-- filtered data table -->
                        <table mat-table [dataSource]="dataSource1" width="100%" matSort
                            aria-describedby="scrollFromBank">

                            <ng-container matColumnDef="checkBox">

                                <th mat-header-cell *matHeaderCellDef scope="row">
                                    <mat-checkbox (change)="$event ? directiveObj.masterToggle(dataSource1) : null"
                                        [checked]="directiveObj.selection.hasValue() && directiveObj.isAllSelected(dataSource1)"
                                        [indeterminate]="directiveObj.selection.hasValue() && !directiveObj.isAllSelected(dataSource1)"
                                        [aria-label]="directiveObj.checkboxLabel(dataSource1)">
                                    </mat-checkbox>
                                </th>
                                <td mat-cell *matCellDef="let row" class="centerAlign">
                                    <mat-checkbox (click)="$event.stopPropagation()"
                                        (change)="$event ? directiveObj.selection.toggle(row) : null"
                                        [checked]="directiveObj.selection.isSelected(row)"
                                        [aria-label]="directiveObj.checkboxLabel(dataSource1,row)">
                                    </mat-checkbox>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="srNo">
                                <th mat-header-cell *matHeaderCellDef>Sr No</th>
                                <td mat-cell *matCellDef="let item;let idx = index;" class="srnumber">
                                    {{ idx + 1}}
                                </td>
                            </ng-container>



                            <ng-container matColumnDef="challan">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Challan No</th>
                                <td mat-cell *matCellDef="let element"> {{element.challan}} </td>
                            </ng-container>


                            <ng-container matColumnDef="pName">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Name Of Payer</th>
                                <td mat-cell *matCellDef="let element"> {{element.pName}} </td>
                            </ng-container>


                            <ng-container matColumnDef="sDate">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Scroll Date</th>
                                <td mat-cell *matCellDef="let element">
                                    {{element.sDate}} </td>
                            </ng-container>


                            <ng-container matColumnDef="head">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Head</th>
                                <td mat-cell *matCellDef="let element"> {{element.head}} </td>
                            </ng-container>

                            <ng-container matColumnDef="amount">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header scope="row">Total Amount</th>
                                <td mat-cell *matCellDef="let element" class="rightAlign"> {{element.amount}} </td>
                            </ng-container>
                            <!-- Header Section Of table -->
                            <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                            <!-- Data Fetch From .TS File to table -->
                            <tr mat-row *matRowDef="let row; let i = index;columns: displayedColumns1;">
                            </tr>
                        </table>
                        <!-- table ends -->
                        <!-- Common Button -->
                        <div class="form-action-button">

                            <button mat-raised-button type="submit" class="green">
                                <i class="material-icons" aria-hidden="true" title="done">
                                    done
                                </i> Submit</button>


                            <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                                <i class="material-icons" aria-hidden="true" title="Listing">
                                    list
                                </i>
                                Listing
                            </button>

                            <button type="button" mat-raised-button class="btnClose">
                                <i class="material-icons" aria-hidden="true" title="close">
                                    close
                                </i>
                                Close
                            </button>
                        </div>
                        <!-- Common Button ends-->
                    </form>
                </div>
            </mat-tab>

            <!-- attachment tab -->
            <mat-tab label="Attachments">
                <app-common-attachment [attachemntValue]="attachmentTypeCode"></app-common-attachment>
                <div class="form-action-button">

                    <button mat-raised-button type="submit" class="green">
                        <i class="material-icons" aria-hidden="true" title="done">
                            done
                        </i> Submit</button>


                    <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
                        <i class="material-icons" aria-hidden="true" title="Listing">
                            list
                        </i>
                        Listing
                    </button>

                    <button type="button" mat-raised-button class="btnClose">
                        <i class="material-icons" aria-hidden="true" title="close">
                            close
                        </i>
                        Close
                    </button>
                </div>
            </mat-tab>
        </mat-tab-group>

    </div>
</div>