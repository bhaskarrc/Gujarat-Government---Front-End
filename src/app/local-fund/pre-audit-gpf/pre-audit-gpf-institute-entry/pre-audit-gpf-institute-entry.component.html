<div class="container">
  <div class="form-wrapper">

    <!-- heading section -->
    <div class="heading-section ng-star-inserted"> Pre Audit GPF Institute Entry </div>

    <!-- navigation -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Local Fund</a></li>
        <li class="breadcrumb-item active" aria-current="page">Pre Audit GPF Institute Entry</li>
      </ol>
    </nav>

    <!--general detail-->
    <mat-accordion class="search-accordian">
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <div class="heading-section">
            General Details
          </div>
        </mat-expansion-panel-header>
        <div class=" form-datatable-list">
          <form class="col-sm-12" [formGroup]="generalDetail">
            <div class="row">

              <!-- id -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="id" [max]="15" placeholder="ID" readonly value={{id}}>
                </mat-form-field>
              </div>

              <!-- district -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="district" placeholder="District" numbersAlphabetsOnly required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="districtCtrl" [placeholderLabel]="'Find District...'"
                        [noEntriesFoundLabel]="'No matching District found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of districtList |  filterSelectInput:districtCtrl.value"
                      [value]="item.viewValue">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.district.touched && generalDetail.controls.district.errors">
                    <mat-error *ngIf="generalDetail.controls.district.errors.required">
                      {{errorMessages.DISTRICT}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- institute type -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="instituteType" placeholder="Institute Type" numbersAlphabetsOnly
                    required>
                    <mat-option>
                      <ngx-mat-select-search [formControl]="instituteTypeCtrl"
                        [placeholderLabel]="'Find Institute Type...'"
                        [noEntriesFoundLabel]="'No matching Institute Type found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of instituteTypeList |  filterSelectInput:instituteTypeCtrl.value"
                      [value]="item.viewValue">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.instituteType.touched && generalDetail.controls.instituteType.errors">
                    <mat-error *ngIf="generalDetail.controls.instituteType.errors.required">
                      {{errorMessages.INSTITUTE_TYPE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- institute name -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="instituteName" placeholder=" Institute Name">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="instituteNameCtrl"
                        [placeholderLabel]="'Find Institute Name...'"
                        [noEntriesFoundLabel]="'no matching Institute Name found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of instituteNameList | filterSelectInput:instituteNameCtrl.value"
                      [value]="item.viewValue">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.instituteName.touched && generalDetail.controls.instituteName.errors">
                    <mat-error *ngIf="generalDetail.controls.instituteName.errors.required">
                      {{errorMessages.INSTITUTE_NAME}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- employee name -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="employeeName" placeholder="Employee Name">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="employeeNameCtrl"
                        [placeholderLabel]="'Find Employee Name...'"
                        [noEntriesFoundLabel]="'no matching Employee Name found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of employeeNameList | filterSelectInput: employeeNameCtrl.value"
                      [value]="item.viewValue">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.employeeName.touched && generalDetail.controls.employeeName.errors">
                    <mat-error *ngIf="generalDetail.controls.employeeName.errors.required">
                      {{errorMessages.EMPLOYEE_NAME}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- employee no -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput name="employeeNo" formControlName="employeeNo" placeholder="Employee No" required>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.employeeNo.touched && generalDetail.controls.employeeNo.errors">
                    <mat-error *ngIf="generalDetail.controls.employeeNo.errors.required">
                      {{errorMessages.EMPLOYEE_NO}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- employee designation -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="employeeDesignation" placeholder="Employee Designation" required>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.employeeDesignation.touched && generalDetail.controls.employeeDesignation.errors">
                    <mat-error *ngIf="generalDetail.controls.employeeDesignation.errors.required">
                      {{errorMessages.DESIGNATION}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- account no -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="accNo" placeholder="Account No(GPF No)" required>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.accNo.touched && generalDetail.controls.accNo.errors">
                    <mat-error *ngIf="generalDetail.controls.accNo.errors.required">
                      {{errorMessages.ACCOUNT_NO}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!--date of joining  -->
              <div class=" col-md-3">
                <mat-form-field>
                  <input matInput [matDatepicker]="doj" placeholder="Date of Joining" formControlName='doj' required
                    readonly>
                  <mat-datepicker-toggle matSuffix [for]="doj"></mat-datepicker-toggle>
                  <mat-datepicker #doj></mat-datepicker>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.doj.touched && generalDetail.controls.doj.errors">
                    <mat-error *ngIf="generalDetail.controls.doj.errors.required">
                      {{errorMessages.DATE_OF_JOINING}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- date of retirement -->
              <div class=" col-md-3">
                <mat-form-field>
                  <input matInput [matDatepicker]="dor" placeholder="Date of Retirement" formControlName='dor' required
                    readonly>
                  <mat-datepicker-toggle matSuffix [for]="dor"></mat-datepicker-toggle>
                  <mat-datepicker #dor></mat-datepicker>
                  <div class="error-wrapper"
                    *ngIf="generalDetail.controls.dor.touched && generalDetail.controls.dor.errors">
                    <mat-error *ngIf="generalDetail.controls.dor.errors.required">
                      {{errorMessages.DATE_OF_RETIREMENT}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- retirement type -->
              <div class="col-sm-3">
                <mat-form-field class="full-width">
                  <mat-select formControlName="retirementType" placeholder="Retirement Type">
                    <mat-option>
                      <ngx-mat-select-search [formControl]="retirementTypeCtrl"
                        [placeholderLabel]="'Find Retirement Type...'"
                        [noEntriesFoundLabel]="'no matching  Retirement Type found'">
                      </ngx-mat-select-search>
                    </mat-option>
                    <mat-option *ngFor="let item of retirementTypeList | filterSelectInput: retirementTypeCtrl.value"
                      [value]="item.viewValue">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <!-- action button -->
            <div class="form-action-button">

              <button type="submit" mat-raised-button color="primary" title="Add">
                <i class="material-icons" aria-hidden="true">
                  add
                </i>Add</button>

              <button type="reset" mat-raised-button color="accent" title="Reset">
                <i class="material-icons" aria-hidden="true"> restore </i>
                Reset </button>

            </div>

          </form>
        </div>
      </mat-expansion-panel>
    </mat-accordion>

    <br>

    <!--general table -->
    <table mat-table [dataSource]="generalDetailDataSource" width="100%" matSort aria-describedby="generalDetailTable">

      <!-- sr no -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef scope="row"> Sr.No. </th>
        <td mat-cell *matCellDef="let row;let i =index" class="centerAlign"> {{i+1}} </td>
      </ng-container>

      <!-- district -->
      <ng-container matColumnDef="district">
        <th mat-header-cell *matHeaderCellDef scope="row">District</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.district}}</td>
      </ng-container>

      <!-- institute type -->
      <ng-container matColumnDef="instituteType">
        <th mat-header-cell *matHeaderCellDef scope="row">Institute Type</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.instituteType}} </td>
      </ng-container>

      <!-- institute name -->
      <ng-container matColumnDef="instituteName">
        <th mat-header-cell *matHeaderCellDef scope="row">Institute Name</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.instituteName}} </td>
      </ng-container>

      <!-- employee no -->
      <ng-container matColumnDef="employeeNo">
        <th mat-header-cell *matHeaderCellDef scope="row">Employee No</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.employeeNo}} </td>
      </ng-container>

      <!-- employee name -->
      <ng-container matColumnDef="employeeName">
        <th mat-header-cell *matHeaderCellDef scope="row">Employee Name</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.employeeName}} </td>
      </ng-container>

      <!-- employee designation -->
      <ng-container matColumnDef="employeeDesignation">
        <th mat-header-cell *matHeaderCellDef scope="row">Employee Designation</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.designation}} </td>
      </ng-container>

      <!-- account no -->
      <ng-container matColumnDef="accNo">
        <th mat-header-cell *matHeaderCellDef scope="row">Account No (GPF No)</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.accNo}} </td>
      </ng-container>

      <!-- date of joining -->
      <ng-container matColumnDef="doj">
        <th mat-header-cell *matHeaderCellDef scope="row">Date of Joining</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.doj}} </td>
      </ng-container>

      <!-- date of retirement -->
      <ng-container matColumnDef="dor">
        <th mat-header-cell *matHeaderCellDef scope="row">Date of Retirement</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.dor}} </td>
      </ng-container>

      <!-- retirement type -->
      <ng-container matColumnDef="retirementType">
        <th mat-header-cell *matHeaderCellDef scope="row">Retirement Type</th>
        <td mat-cell *matCellDef="let element;let i =index">{{element.retirementType}} </td>
      </ng-container>

      <!-- action -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
        <td mat-cell *matCellDef="let element;let i=index" class="text-left">
          <table class="iconTable" aria-describedby="actionBtn">
            <tbody>
              <tr>
                <td>
                  <a [routerLink]=""><i class="material-icons plus view-icon" aria-hidden="true"
                      title="View">remove_red_eye</i></a>
                </td>
                <td width="30">
                  <i class="material-icons plus add" aria-hidden="true" title="Edit">
                    edit
                  </i>
                </td>
                <td width="30">
                  <i class="material-icons plus delete" aria-hidden="true" title="Delete">delete_forever</i>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
      </ng-container>

      <!-- Header Section Of table -->
      <tr mat-header-row *matHeaderRowDef="generalDetailColumns"></tr>
      <!-- Data Fetch From .TS File to table -->
      <tr mat-row *matRowDef="let row; columns: generalDetailColumns;let i= index;"></tr>

    </table>
    <!-- table end -->

    <!-- paginator -->
    <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons>
    </mat-paginator>

    <br>

    <!--gpf detail-->
    <mat-accordion class="search-accordian">
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <div class="heading-section">
            GPF Details
          </div>
        </mat-expansion-panel-header>

        <div class=" form-datatable-list">
          <form class="col-sm-12" [formGroup]="gpfDetail">
            <div class="row">

              <!-- year -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="year" placeholder="Year" required>
                  <div class="error-wrapper" *ngIf="gpfDetail.controls.year.touched && gpfDetail.controls.year.errors">
                    <mat-error *ngIf="gpfDetail.controls.year.errors.required">
                      {{errorMessages.YEAR}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- month -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="month" placeholder="Month" required>
                  <div class="error-wrapper"
                    *ngIf="gpfDetail.controls.month.touched && gpfDetail.controls.month.errors">
                    <mat-error *ngIf="gpfDetail.controls.month.errors.required">
                      {{errorMessages.MONTH}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- gpf deduction amount -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="gpfDeductionAmt" placeholder="GPF Deduction Amount" required>
                  <div class="error-wrapper"
                    *ngIf="gpfDetail.controls.gpfDeductionAmt.touched && gpfDetail.controls.gpfDeductionAmt.errors">
                    <mat-error *ngIf="gpfDetail.controls.gpfDeductionAmt.errors.required">
                      {{errorMessages.AMOUNT}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- date of deduction -->
              <div class=" col-md-3">
                <mat-form-field>
                  <input matInput [matDatepicker]="dod" placeholder="Date of Deduction" formControlName='dod' required
                    readonly>
                  <mat-datepicker-toggle matSuffix [for]="dod"></mat-datepicker-toggle>
                  <mat-datepicker #dod></mat-datepicker>
                  <div class="error-wrapper" *ngIf="gpfDetail.controls.dod.touched && gpfDetail.controls.dod.errors">
                    <mat-error *ngIf="gpfDetail.controls.dod.errors.required">
                      {{errorMessages.DATE_OF_DEDUCTION}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- withdraw amount -->
              <div class="col-sm-3">
                <mat-form-field>
                  <input matInput formControlName="withdrawAmt" placeholder="Withdraw Amount" required>
                  <div class="error-wrapper"
                    *ngIf="gpfDetail.controls.withdrawAmt.touched && gpfDetail.controls.withdrawAmt.errors">
                    <mat-error *ngIf="gpfDetail.controls.withdrawAmt.errors.required">
                      {{errorMessages.WITHDRAW_AMOUNT}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- withdraw date -->
              <div class=" col-md-3">
                <mat-form-field>
                  <input matInput [matDatepicker]="withdrawDate" placeholder="Withdraw Date"
                    formControlName='withdrawDate' required readonly>
                  <mat-datepicker-toggle matSuffix [for]="withdrawDate"></mat-datepicker-toggle>
                  <mat-datepicker #withdrawDate></mat-datepicker>
                  <div class="error-wrapper"
                    *ngIf="gpfDetail.controls.withdrawDate.touched && gpfDetail.controls.withdrawDate.errors">
                    <mat-error *ngIf="gpfDetail.controls.withdrawDate.errors.required">
                      {{errorMessages.DATE}}
                    </mat-error>
                  </div>
                </mat-form-field>
              </div>

              <!-- remarks -->
              <div class="col-sm-3">
                <mat-form-field>
                  <textarea matInput formControlName="remarks" placeholder="Remarks" numbersAlphabetsOnly></textarea>
                </mat-form-field>
              </div>
            </div>

            <!-- action button -->
            <div class="form-action-button">

              <button type="submit" mat-raised-button color="primary" title="Add">
                <i class="material-icons" aria-hidden="true">
                  add
                </i>Add</button>

              <button type="reset" mat-raised-button color="accent" title="Reset">
                <i class="material-icons" aria-hidden="true"> restore </i>
                Reset </button>

            </div>

          </form>
        </div>

      </mat-expansion-panel>
    </mat-accordion>

    <br>

    <!--gpf table -->
    <table mat-table [dataSource]="gpfDetailDataSource" width="100%" matSort aria-describedby="gpfDetailTable">

      <!-- position -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef scope="row"> Sr.No. </th>
        <td mat-cell *matCellDef="let row;let i =index" class="centerAlign"> {{i+1}} </td>
      </ng-container>

      <!-- year -->
      <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef scope="row">Year</th>
        <td mat-cell *matCellDef="let element;let i= index;"> {{element.year}} </td>
      </ng-container>

      <!-- month -->
      <ng-container matColumnDef="month">
        <th mat-header-cell *matHeaderCellDef scope="row">Month</th>
        <td mat-cell *matCellDef="let element;let i= index;"> {{element.monthYear}} </td>
      </ng-container>

      <!-- gpf deduction amount -->
      <ng-container matColumnDef="gpfDeductionAmt">
        <th mat-header-cell *matHeaderCellDef scope="row">GPF Deduction Amount</th>
        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign"> {{element.gpfDeductionAmt}} </td>
      </ng-container>

      <!-- date of deduction  -->
      <ng-container matColumnDef="dod">
        <th mat-header-cell *matHeaderCellDef scope="row">Date of Deduction</th>
        <td mat-cell *matCellDef="let element;let i= index;"> {{element.dod}} </td>
      </ng-container>

      <!-- withdraw amount -->
      <ng-container matColumnDef="withdrawAmt">
        <th mat-header-cell *matHeaderCellDef scope="row">Withdraw Amount</th>
        <td mat-cell *matCellDef="let element;let i= index;" class="rightAlign"> {{element.withdrawAmt}} </td>
      </ng-container>

      <!-- withdraw date -->
      <ng-container matColumnDef="withdrawDate">
        <th mat-header-cell *matHeaderCellDef scope="row">Withdraw Date</th>
        <td mat-cell *matCellDef="let element;let i= index;"> {{element.withdrawDate}} </td>
      </ng-container>

      <!-- remarks -->
      <ng-container matColumnDef="remarks">
        <th mat-header-cell *matHeaderCellDef scope="row">Remarks</th>
        <td mat-cell *matCellDef="let element;let i= index;"> {{element.remarks}} </td>
      </ng-container>

      <!-- action -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
        <td mat-cell *matCellDef="let element;let i=index" class="text-left">
          <table class="iconTable" aria-describedby="actionBtn">
            <tbody>
              <tr>
                <td>
                  <a [routerLink]=""><i class="material-icons plus view-icon" aria-hidden="true"
                      title="View">remove_red_eye</i></a>
                </td>
                <td width="30">
                  <i class="material-icons plus add" aria-hidden="true" title="Edit">
                    edit
                  </i>
                </td>
                <td width="30">
                  <i class="material-icons plus delete" aria-hidden="true" title="Delete">delete_forever</i>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
      </ng-container>

      <!-- Header Section Of table -->
      <tr mat-header-row *matHeaderRowDef="gpfDetailColumns"></tr>
      <!-- Data Fetch From .TS File to table -->
      <tr mat-row *matRowDef="let row; columns: gpfDetailColumns;let i= index;"></tr>

    </table>
    <!-- table end -->

    <!-- paginator -->
    <mat-paginator #gpfDetailPaginator [pageSize]="20" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons>
    </mat-paginator>

    <!--common action button  -->
    <div class="form-action-button">

      <button mat-raised-button type="submit" class="green" (click)="directiveObject.workflowDetails()" title="Submit">
        <i class="material-icons" aria-hidden="true">
          done </i> Submit</button>

      <button type="reset" mat-raised-button color="accent" title="Reset">
        <i class="material-icons" aria-hidden="true"> restore </i>
        Reset </button>

      <button type="button" mat-raised-button color="warn" title="Listing">
        <i class="material-icons" aria-hidden="true"> list </i>
        Listing
      </button>

      <button type="submit" mat-raised-button color="primary" class="btn-print" title="Print">
        <i class="material-icons" aria-hidden="true">print </i>
        Print
      </button>

      <button type="button" mat-raised-button color="secoundry" title="Close" class="btnClose">
        <i class="material-icons" aria-hidden="true">close</i>Close</button>



    </div>

  </div>
</div>