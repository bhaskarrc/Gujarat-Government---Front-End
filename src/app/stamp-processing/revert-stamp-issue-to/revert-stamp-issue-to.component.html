<div class="container">
  <div class="form-wrapper">

    <div class="heading-section ng-star-inserted">
      <div>Revert Stamp Issue</div>
      <div class="font-heading">
        <b>Reference No:</b> 19-20/STM/RSI/001</div>
      <div class="font-heading">
        <b>Reference Date:</b> {{ date | date: 'dd-MMM-yyyy HH:mm'}}</div>
    </div>

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Stamp Processing</a></li>
        <li class="breadcrumb-item active" aria-current="page">Revert Stamp Issue</li>
      </ol>
    </nav>

    <div class="panel-group">

      <!-- Revert Stamp Issue  Entry Section Starts-->
      <div class="box box-primary">
        <div class="box-header">Revert Stamp Issue</div>
        <div class="box-body">

          <div #parentGrids>
            <form [formGroup]="revertStamp">
              <div class="row">
                <div class="col-sm-3">
                  <mat-form-field class="full-width disabled">
                    <input matInput type="text" formControlName="finYear" placeholder="Financial Year" required
                      readonly>

                  <div class="error-wrapper"
                    *ngIf="revertStamp.controls.finYear.touched && (revertStamp.controls.finYear.errors)">
                    <mat-error *ngIf="revertStamp.controls.finYear.errors.required">
                      {{errorMessages.FIN_YEAR}}
                    </mat-error>
                  </div>
                  </mat-form-field>
                </div>

                <div class="col-sm-3">
                  <mat-form-field class="full-width disabled">
                    <mat-label>Treasury Office</mat-label>
                    <input matInput formControlName="tre" [value]="treVal" required readonly>

                  <div class="error-wrapper"
                    *ngIf="revertStamp.controls.tre.touched && (revertStamp.controls.tre.errors)">
                    <mat-error *ngIf="revertStamp.controls.tre.errors.required">
                      {{errorMessages.TRE}}
                    </mat-error>
                  </div>
                  </mat-form-field>
                </div>

                <div class="col-sm-3">
                  <mat-form-field class="full-width">
                    <mat-select formControlName="chNo" placeholder="Challan Number" required>
                      <mat-option>
                        <ngx-mat-select-search [formControl]="chNoCtrl" [placeholderLabel]="'Find Challan Number...'"
                          [noEntriesFoundLabel]="'no Challan Number found'">
                        </ngx-mat-select-search>
                      </mat-option>
                      <mat-option *ngFor="let req of chNo_List | filterSelectInput:chNoCtrl.value" [value]="req.value">
                        {{req.viewValue}}
                      </mat-option>
                    </mat-select>

                  <div class="error-wrapper"
                    *ngIf="revertStamp.controls.chNo.touched && (revertStamp.controls.chNo.errors)">
                    <mat-error *ngIf="revertStamp.controls.chNo.errors.required">
                      {{errorMessages.CHALLAN_NUM}}
                    </mat-error>
                  </div>
                  </mat-form-field>
                </div>

                <div class="col-sm-3">
                  <mat-form-field class="full-width disabled">
                    <input matInput type="text" formControlName="revertDate"
                      placeholder="Date of Revert Stamp" required readonly>
                  </mat-form-field>
                </div>

              </div>
            </form>

            <!-- Action Buttons -->
            <div class="form-action-button">
              <button type="submit" mat-raised-button color="primary" (click)="whenAddClick()" title="Add">
                <i class="material-icons" aria-hidden="true">
                  add
                </i>
                Add
              </button>
            </div>

          </div>
        </div>
      </div>
      <!--Revert Stamp Issue  Entry Section Ends-->

      <div class="col-md-3 ng-star-inserted" *ngIf="onAdd">
        <mat-form-field class="full-width disabled">
          <input matInput type="text" [value]="venValue" placeholder="Name of Vendor and Code" readonly>
        </mat-form-field>
      </div>
      <!-- Table Section -->
      <div *ngIf="onAdd" class="customresponsive">
        
                    <!-- Header Table -->
                    <table mat-table *ngIf="onAdd"
                        [dataSource]="dataSourceFinalHeading" aria-describedby="dataSourceHeading"
                        class="mat-elevation-z8 mt-2">

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                        </ng-container>

                        <ng-container matColumnDef="typeOfStamp">
                            <th mat-header-cell *matHeaderCellDef scope="row">Type of <br> Stamp</th>
                        </ng-container>

                        <ng-container matColumnDef="deno">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination <br> Code</th>
                        </ng-container>
                        <ng-container matColumnDef="unitVal">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination <br> Value</th>
                        </ng-container>

                        <ng-container matColumnDef="stampNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Stamps (Label / Stamp)</th>
                        </ng-container>

                        <ng-container matColumnDef="sheetNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">Total Sheet</th>
                        </ng-container>

                        <ng-container matColumnDef="stampSheet">
                            <th mat-header-cell *matHeaderCellDef scope="row">Label / Stamp In Each Sheet</th>
                        </ng-container>

                        <!-- From Series -->
                        <ng-container matColumnDef="fromSeries">
                          <th mat-header-cell *matHeaderCellDef scope="row">From Series</th>
                        </ng-container>
        
                        <!-- To Series -->
                        <ng-container matColumnDef="toSeries">
                          <th mat-header-cell *matHeaderCellDef scope="row">To Series</th>
                        </ng-container>

                        <ng-container matColumnDef="totAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Total Amount</th>
                        </ng-container>

                        <ng-container matColumnDef="discRs">
                            <th mat-header-cell *matHeaderCellDef scope="row">Discount (â‚¹)</th>
                        </ng-container>

                        <ng-container matColumnDef="netAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Net Amount</th>
                        </ng-container>

                        <ng-container matColumnDef="stmpIssueVen">
                            <th mat-header-cell *matHeaderCellDef scope="row"> Issued Quantity To Vendor / Party</th>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayFinal"></tr>
                    </table>
                    <table mat-table *ngIf="onAdd" multiTemplateDataRows
                        [dataSource]="dataSourceFinal1" aria-describedby="challanprepFin3" class="mat-elevation-z8">

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="centerAlign"> {{element.position}} </td>
                            <td mat-footer-cell *matFooterCellDef>Total</td>
                        </ng-container>

                        <ng-container matColumnDef="typeOfStamp">
                            <td mat-cell *matCellDef="let item;let i = index;">{{item.typeOfStamp}}</td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="deno">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination Code</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.deno}} </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="unitVal">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination Value</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.unitVal}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="stampNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Stamps (Label / Stamp)</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                {{element.stampNo}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef>21</td>
                        </ng-container>

                        <ng-container matColumnDef="sheetNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Sheet</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                {{element.sheetNo}}

                            </td>
                            <td mat-footer-cell *matFooterCellDef>4</td>
                        </ng-container>

                        <ng-container matColumnDef="stampSheet">
                            <th mat-header-cell *matHeaderCellDef scope="row">Label / Stamp In Each Sheet</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.stampSheet}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef>4</td>
                        </ng-container>

                        <!-- From Series -->
                        <ng-container matColumnDef="fromSeries">
                          <td mat-cell *matCellDef="let element" class="leftAlign">
                            {{element.fromSeries}}
                          </td>
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>
        
                        <!-- To Series -->
                        <ng-container matColumnDef="toSeries">
                          <td mat-cell *matCellDef="let element" class="leftAlign">
                            {{element.toSeries}}
                          </td>
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="totAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Total Amount</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.totAmt}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <!-- Discount -->
                        <ng-container matColumnDef="discRs">
                            <td mat-cell *matCellDef="let element;let i=index"> {{element.discRs}} </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="netAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Net Amount</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.netAmt}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="stmpIssueVen">
                            <th mat-header-cell *matHeaderCellDef scope="row"> Issued Quantity To Vendor / Party</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.stmpIssueVen}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="text-left">
                                <div class="centerAlign">
                                  <a (click)="openAddDetails(element)"><i class="material-icons plus plus add"
                                      title="add">add</i></a>
                                </div>
                            </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <!-- Expansion section -->
                        <ng-container matColumnDef="expandedDetail" expandedElement=null>
                          <tr>
                              <td mat-cell *matCellDef="let outerElement" [attr.colspan]="14">
                                  <div class="element-detail"
                                      [@expandRow]="outerElement === expandedElement ? 'expanded' : 'collapsed'"
                                      [style.height]="0">
                                      <table mat-table [dataSource]="outerElement.innerDataSource"
                                      class="classForBackground wordBreakForPanel" aria-describedby="challanprepFin3">
                  
                                          <ng-container matColumnDef="position">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="centerAlign"> </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="typeOfStamp">
                                              <td mat-cell *matCellDef="let item;let i = index;">{{item.typeOfStamp}}</td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="deno">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Denomination Code</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.deno}} </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="unitVal">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Denomination Value</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.unitVal}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stampNo">
                                              <th mat-header-cell *matHeaderCellDef scope="row">No. of Stamps (Label / Stamp)</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                                  {{element.stampNo}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="sheetNo">
                                              <th mat-header-cell *matHeaderCellDef scope="row">No. of Sheet</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                                  {{element.sheetNo}}
                  
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stampSheet">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Label / Stamp In Each Sheet</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.stampSheet}}
                                              </td>
                                          </ng-container>
                  
                                          <!-- From Series -->
                                          <ng-container matColumnDef="fromSeries">
                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                              {{element.fromSeries}}
                                            </td>
                                          </ng-container>
                          
                                          <!-- To Series -->
                                          <ng-container matColumnDef="toSeries">
                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                              {{element.toSeries}}
                                            </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="totAmt">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Total Amount</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.totAmt}}
                                              </td>
                                          </ng-container>
                  
                                          <!-- Discount -->
                                          <ng-container matColumnDef="discRs">
                                              <td mat-cell *matCellDef="let element;let i=index"> {{element.discRs}} </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="netAmt">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Net Amount</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.netAmt}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stmpIssueVen">
                                              <th mat-header-cell *matHeaderCellDef scope="row"> Issued Quantity To Vendor / Party</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.stmpIssueVen}}
                                              </td>
                                          </ng-container>
                                          <ng-container matColumnDef="action">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="text-left">
                                                  <div class="centerAlign">
                                                    <a (click)="deleteRow(outerElement,i)"><i class="material-icons plus delete" aria-hidden="true"
                                                    title="delete">delete</i></a>
                                                  </div>
                                              </td>
                                          </ng-container>
                  
                                          <tr mat-row *matRowDef="let row; columns: displayFinal;"></tr>
                                      </table>
                                    </div>
                              </td>
                          </tr>
                          </ng-container>

                        <tr mat-row  [ngClass]="row.rowStyleClass" *matRowDef="let row; columns: displayFinal;"
                        (click)="expandedElement = (expandedElement === row) ? null : row"></tr>
                        <!-- Expan Section row -->
                        <tr class="example-detail-row" mat-row *matRowDef="let row; columns: ['expandedDetail']"></tr>
                        <tr mat-footer-row *matFooterRowDef="displayFinal"></tr>
                    </table>
                    <table mat-table *ngIf="onAdd" multiTemplateDataRows
                        [dataSource]="dataSourceFinal2" aria-describedby="challanprepFin4" class="mat-elevation-z8">

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="centerAlign"> {{element.position}} </td>
                            <td mat-footer-cell *matFooterCellDef>Total</td>
                        </ng-container>

                        <ng-container matColumnDef="typeOfStamp">
                            <td mat-cell *matCellDef="let item;let i = index;">{{item.typeOfStamp}}</td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="deno">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination Code</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.deno}} </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="unitVal">
                            <th mat-header-cell *matHeaderCellDef scope="row">Denomination Value</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.unitVal}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="stampNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Stamps (Label / Stamp)</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                {{element.stampNo}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef>21</td>
                        </ng-container>

                        <ng-container matColumnDef="sheetNo">
                            <th mat-header-cell *matHeaderCellDef scope="row">No. of Sheet</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                {{element.sheetNo}}

                            </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="stampSheet">
                            <th mat-header-cell *matHeaderCellDef scope="row">Label / Stamp In Each Sheet</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.stampSheet}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef>4</td>
                        </ng-container>

                        <!-- From Series -->
                        <ng-container matColumnDef="fromSeries">
                          <th mat-header-cell *matHeaderCellDef scope="row">From Series</th>
                          <td mat-cell *matCellDef="let element" class="leftAlign">
                            {{element.fromSeries}}
                          </td>
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>
        
                        <!-- To Series -->
                        <ng-container matColumnDef="toSeries">
                          <th mat-header-cell *matHeaderCellDef scope="row">To Series</th>
                          <td mat-cell *matCellDef="let element" class="leftAlign">
                            {{element.toSeries}}
                          </td>
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="totAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Total Amount</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.totAmt}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <!-- Discount -->
                        <ng-container matColumnDef="discRs">
                            <td mat-cell *matCellDef="let element;let i=index"> {{element.discRs}} </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="netAmt">
                            <th mat-header-cell *matHeaderCellDef scope="row">Net Amount</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.netAmt}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="stmpIssueVen">
                            <th mat-header-cell *matHeaderCellDef scope="row"> Issued Quantity To Vendor / Party</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.stmpIssueVen}}
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="text-left">
                                <div class="centerAlign">
                                  <a (click)="openAddDetails(element)"><i class="material-icons plus plus add"
                                      title="add">add</i></a>
                                </div>
                            </td>
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <!-- Expansion section -->
                        <ng-container matColumnDef="expandedDetail" expandedElement=null>
                          <tr>
                              <td mat-cell *matCellDef="let outerElement2" [attr.colspan]="14">
                                  <div class="element-detail"
                                      [@expandRow]="outerElement2 === expandedElement ? 'expanded' : 'collapsed'"
                                      [style.height]="0">
                                      <table mat-table [dataSource]="outerElement2.innerDataSource"
                                      class="classForBackground wordBreakForPanel" aria-describedby="challanprepFin3">
                  
                                          <ng-container matColumnDef="position">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="centerAlign"> {{i + 1}} </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="typeOfStamp">
                                              <td mat-cell *matCellDef="let item;let i = index;">{{item.typeOfStamp}}</td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="deno">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Denomination Code</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.deno}} </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="unitVal">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Denomination Value</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.unitVal}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stampNo">
                                              <th mat-header-cell *matHeaderCellDef scope="row">No. of Stamps (Label / Stamp)</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                                  {{element.stampNo}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="sheetNo">
                                              <th mat-header-cell *matHeaderCellDef scope="row">No. of Sheet</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign">
                                                  {{element.sheetNo}}
                  
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stampSheet">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Label / Stamp In Each Sheet</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="leftAlign"> {{element.stampSheet}}
                                              </td>
                                          </ng-container>
                  
                                          <!-- From Series -->
                                          <ng-container matColumnDef="fromSeries">
                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                              {{element.fromSeries}}
                                            </td>
                                          </ng-container>
                          
                                          <!-- To Series -->
                                          <ng-container matColumnDef="toSeries">
                                            <td mat-cell *matCellDef="let element" class="leftAlign">
                                              {{element.toSeries}}
                                            </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="totAmt">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Total Amount</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.totAmt}}
                                              </td>
                                          </ng-container>
                  
                                          <!-- Discount -->
                                          <ng-container matColumnDef="discRs">
                                              <td mat-cell *matCellDef="let element;let i=index"> {{element.discRs}} </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="netAmt">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Net Amount</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.netAmt}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="stmpIssueVen">
                                              <th mat-header-cell *matHeaderCellDef scope="row"> Issued Quantity To Vendor / Party</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="rightAlign"> {{element.stmpIssueVen}}
                                              </td>
                                          </ng-container>
                  
                                          <ng-container matColumnDef="action">
                                              <th mat-header-cell *matHeaderCellDef scope="row">Action</th>
                                              <td mat-cell *matCellDef="let element;let i=index" class="text-left">
                                                  <div class="centerAlign">
                                                    <a (click)="deleteRow(outerElement2,i)"><i class="material-icons plus delete" aria-hidden="true"
                                                    title="delete">delete</i></a>
                                                  </div>
                                              </td>
                                          </ng-container>
                  
                                          <tr mat-row *matRowDef="let row; columns: displayFinal;"></tr>
                                      </table>
                                    </div>
                              </td>
                          </tr>
                          </ng-container>

                        <tr mat-row [ngClass]="row.rowStyleClass" *matRowDef="let row; columns: displayFinal;"
                        (click)="expandedElement = (expandedElement === row) ? null : row"></tr>
                        <!-- Expan Section row -->
                        <tr class="example-detail-row" mat-row *matRowDef="let row; columns: ['expandedDetail']"></tr>
                        <tr mat-footer-row *matFooterRowDef="displayFinal"></tr>
                    </table>

                    <!-- Final Footer Table -->
                    <table mat-table *ngIf="onAdd"
                        [dataSource]="dataSourceFinalHeading" aria-describedby="dataSourceFooter"
                        class="mat-elevation-z8">

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef scope="row">Sr. No.</th>
                            <td mat-cell *matCellDef="let element;let i=index" class="centerAlign"> {{i + 1}} </td>
                            <td mat-footer-cell *matFooterCellDef>Gross Total</td>
                        </ng-container>

                        <ng-container matColumnDef="typeOfStamp">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="deno">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="disc">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="unitVal">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="stampNo">
                            <td mat-footer-cell *matFooterCellDef>21</td>
                        </ng-container>

                        <ng-container matColumnDef="sheetNo">
                            <td mat-footer-cell *matFooterCellDef>4</td>
                        </ng-container>

                        <ng-container matColumnDef="stampSheet">
                            <td mat-footer-cell *matFooterCellDef>4</td>
                        </ng-container>

                        <!-- From Series -->
                        <ng-container matColumnDef="fromSeries">
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>
        
                        <!-- To Series -->
                        <ng-container matColumnDef="toSeries">
                          <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="totAmt">
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="discRs">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>

                        <ng-container matColumnDef="netAmt">
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="stmpIssueVen">
                            <td mat-footer-cell *matFooterCellDef class="rightAlign">300</td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <td mat-footer-cell *matFooterCellDef></td>
                        </ng-container>
                        <tr mat-footer-row *matFooterRowDef="displayFinal"></tr>
                    </table>

      </div>

      <!-- Action Buttons -->
      <div class="form-action-button">
        <button type="submit" mat-raised-button color="primary">
          <i class="material-icons" aria-hidden="true" title="Save">
            save
          </i>
          Save as Draft
        </button>

        <button mat-raised-button type="submit" (click)="directiveObject.sumbit('revertStampIssue')" class="green">
          <i class="material-icons" aria-hidden="true">
            done
          </i> Submit
        </button>

        <button type="button" mat-raised-button (click)="gotoListing()" color="warn">
          <i class="material-icons" aria-hidden="true" title="Listing">
            list
          </i>
          Listing
        </button>

        <button type="button" mat-raised-button (click)="directiveObject.closeConfirmationPopup()" class="btnClose">
          <i class="material-icons" aria-hidden="true" title="Dashboard">
            close
          </i>
          Close
        </button>
      </div>

    </div>
  </div>