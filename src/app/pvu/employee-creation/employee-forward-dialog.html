<div class="container common-workflow-section">
    <div class="row">
        <div class="heading-section ng-star-inserted">
            <div>Employee Creation</div>
            <div class="font-heading"><b>Reference No:</b> 19-20/BUD/SCE/001</div>
            <div class="font-heading"><b>Reference Date:</b> {{ date | date:
                'dd-MMM-yyyy HH:mm:ss'}}</div>
        </div>
        <mat-tab-group mat-stretch-tabs class="standing-est-tabing
            mat-form-field" [selectedIndex]="selectedIndex">
            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon class="example-tab-icon" *ngIf="doneHeader">check</mat-icon>
                    Remarks
                </ng-template>
                <div class="col-sm-12">
                    <div class="row header-detail">                        
                            <div class="col-sm-4 colPadding" *ngFor="let item of
                                headerJso">
                                <div class="labelCSS">{{item.label}}<span
                                        class="floatRight">:</span></div>
                                <div class="paddingUnset">{{item.value}}</div>
                            </div>                        
                    </div>
                </div>

                <div class="forward-module-container">
                    <div class="forward-dialog-left">
                        <div class="col-sm-12">
                            <div class="form-datatable-list
                                history-common-section">
                                <b class="htry-hding-name">Remarks History:</b>
                                <div class="category-deprt">
                                    <strong>DDO Office</strong>
                                </div>
                                <div class="history-list-container">
                                    <mat-list *ngFor="let comments of
                                        forwardDialog_history_list"
                                        class="column-box">
                                        <div class="histy-box">
                                            <mat-list-item class="txt-heading">
                                                {{comments.userName}},{{comments.designation}}
                                                ({{comments.role}})
                                            </mat-list-item>
                                            <mat-list-item class="txt-heading">{{
                                                date | date: 'dd-MMM-yyyy HH:mm:ss'}}
                                            </mat-list-item>
                                        </div>
                                        <mat-list-item class="comment-text">
                                            <span *ngIf="comments.comment.length>
                                                250">{{comments.comment |
                                                slice:0:249}}<a
                                                    (click)="readMoreId=
                                                    comments.id;"
                                                    *ngIf="readMoreId !=
                                                    comments.id">&nbsp;&nbsp;..read
                                                    more</a></span>
                                            <span *ngIf="readMoreId == comments.id">{{comments.comment
                                                | slice:249}}<a
                                                    (click)="readMoreId= undefined;"
                                                    *ngIf="readMoreId ==
                                                    comments.id">&nbsp;&nbsp;less</a></span>
                                            <span *ngIf="comments.comment.length
                                            <250">{{comments.comment}}</span>
                                        </mat-list-item>
                                        <mat-list-item class="transaction-by">
                                            <div><strong>Transaction Status:</strong>{{comments.status}}</div>
                                        </mat-list-item>
                                    </mat-list>
                                </div>  
                            </div>
                        </div>
                    </div>
                    <div class="form-datatable-list action-common-section">
                        <form class="col-sm-12" [formGroup]="actionForm"
                            (ngSubmit)="forwardConsolidate()">
                            <div *ngIf="show">
                                <div *ngFor="let file of attachment">
                                    <div *ngIf="file_name === file.fileName">
                                        <img *ngIf="file.imgStatus &&
                                            file.fileType == 'image'"
                                            src="{{file.filePath}}"
                                            alt="file.filePath">
                                        <span *ngIf="file.pdfStatus &&
                                            file.fileType == 'pdf'">
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div *ngIf="showAction">
                                <div class="col-sm-12">
                                    <div class="row">
                                        <mat-form-field class="full-width">
                                            <mat-select
                                                formControlName="actionCode"
                                                placeholder="Action"
                                                #singleSelect1
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search
                                                        [formControl]="actionCtrl"
                                                        [placeholderLabel]="'Find
                                                        Action...'"
                                                        [noEntriesFoundLabel]="'no
                                                        matching Action found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>

                                                <mat-option *ngFor="let action
                                                    of filteredAction | async"
                                                    [value]="action.value">
                                                    {{action.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="row">
                                        <mat-form-field class="full-width">
                                            <mat-select
                                                formControlName="userCode"
                                                placeholder="User"
                                                #singleSelect1
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search
                                                        [formControl]="userCodeCtrl"
                                                        [placeholderLabel]="'Find
                                                        User...'"
                                                        [noEntriesFoundLabel]="'no
                                                        matching User found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>

                                                <mat-option *ngFor="let user of
                                                    filteredUserCode | async"
                                                    [value]="user.value">
                                                    {{user.viewValue}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="row">
                                        <mat-form-field class="full-width">
                                            <textarea matInput
                                                placeholder="Remark"
                                                [formControl]="additionalText"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div mat-dialog-actions
                                    class="form-action-button">
                                    <button type="submit" mat-raised-button
                                        class="green" cdkFocusInitial><i
                                            class="material-icons" title="save">save</i>
                                        Submit</button>
                                    <button type="button" mat-raised-button
                                        (click)="onNoClick()" class="btnClose"><i
                                            class="material-icons" title="Budget
                                            dashboard">close</i>Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </mat-tab>            
        </mat-tab-group>
    </div>